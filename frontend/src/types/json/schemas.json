{
  "AskLogAggregation": {
    "properties": {
      "_id": {
        "properties": {
          "start_time": {
            "type": "string",
            "format": "date-time",
            "title": "Start Time"
          },
          "meta": {
            "anyOf": [
              {
                "properties": {
                  "source": {
                    "type": "string",
                    "enum": ["openai_web"],
                    "title": "Source"
                  },
                  "model": {
                    "type": "string",
                    "enum": [
                      "gpt_3_5",
                      "gpt_3_5_mobile",
                      "gpt_4",
                      "gpt_4_mobile",
                      "gpt_4_browsing",
                      "gpt_4_code_interpreter",
                      "gpt_4_plugins",
                      "gpt_4_dalle"
                    ],
                    "title": "OpenaiWebChatModels",
                    "description": "An enumeration."
                  }
                },
                "type": "object",
                "required": ["source", "model"],
                "title": "OpenaiWebAskLogMeta"
              },
              {
                "properties": {
                  "source": {
                    "type": "string",
                    "enum": ["openai_api"],
                    "title": "Source"
                  },
                  "model": {
                    "type": "string",
                    "enum": ["gpt_3_5", "gpt_4"],
                    "title": "OpenaiApiChatModels",
                    "description": "An enumeration."
                  }
                },
                "type": "object",
                "required": ["source", "model"],
                "title": "OpenaiApiAskLogMeta"
              }
            ],
            "title": "Meta"
          }
        },
        "type": "object",
        "required": ["start_time"],
        "title": "AskLogAggregationID"
      },
      "count": {
        "type": "integer",
        "title": "Count"
      },
      "user_ids": {
        "items": {
          "type": "integer"
        },
        "type": "array",
        "title": "User Ids"
      },
      "total_queueing_time": {
        "type": "number",
        "title": "Total Queueing Time"
      },
      "total_ask_time": {
        "type": "number",
        "title": "Total Ask Time"
      }
    },
    "type": "object",
    "required": ["count"],
    "title": "AskLogAggregation"
  },
  "AskLogAggregationID": {
    "properties": {
      "start_time": {
        "type": "string",
        "format": "date-time",
        "title": "Start Time"
      },
      "meta": {
        "anyOf": [
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_web"],
                "title": "Source"
              },
              "model": {
                "type": "string",
                "enum": [
                  "gpt_3_5",
                  "gpt_3_5_mobile",
                  "gpt_4",
                  "gpt_4_mobile",
                  "gpt_4_browsing",
                  "gpt_4_code_interpreter",
                  "gpt_4_plugins",
                  "gpt_4_dalle"
                ],
                "title": "OpenaiWebChatModels",
                "description": "An enumeration."
              }
            },
            "type": "object",
            "required": ["source", "model"],
            "title": "OpenaiWebAskLogMeta"
          },
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_api"],
                "title": "Source"
              },
              "model": {
                "type": "string",
                "enum": ["gpt_3_5", "gpt_4"],
                "title": "OpenaiApiChatModels",
                "description": "An enumeration."
              }
            },
            "type": "object",
            "required": ["source", "model"],
            "title": "OpenaiApiAskLogMeta"
          }
        ],
        "title": "Meta"
      }
    },
    "type": "object",
    "required": ["start_time"],
    "title": "AskLogAggregationID"
  },
  "AskRequest": {
    "properties": {
      "source": {
        "type": "string",
        "enum": ["openai_web", "openai_api"],
        "title": "ChatSourceTypes",
        "description": "An enumeration."
      },
      "model": {
        "type": "string",
        "title": "Model"
      },
      "new_conversation": {
        "type": "boolean",
        "title": "New Conversation"
      },
      "new_title": {
        "type": "string",
        "title": "New Title"
      },
      "conversation_id": {
        "type": "string",
        "format": "uuid",
        "title": "Conversation Id"
      },
      "parent": {
        "type": "string",
        "format": "uuid",
        "title": "Parent"
      },
      "api_context_message_count": {
        "type": "integer",
        "minimum": -1,
        "title": "Api Context Message Count",
        "default": -1
      },
      "text_content": {
        "type": "string",
        "title": "Text Content"
      },
      "openai_web_plugin_ids": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "title": "Openai Web Plugin Ids"
      },
      "openai_web_attachments": {
        "items": {
          "properties": {
            "name": {
              "type": "string",
              "title": "Name"
            },
            "id": {
              "type": "string",
              "title": "Id"
            },
            "size": {
              "type": "integer",
              "title": "Size"
            }
          },
          "type": "object",
          "required": ["name", "id", "size"],
          "title": "OpenaiWebAskAttachment"
        },
        "type": "array",
        "title": "Openai Web Attachments"
      },
      "openai_web_multimodal_image_parts": {
        "items": {
          "properties": {
            "asset_pointer": {
              "type": "string",
              "title": "Asset Pointer"
            },
            "size_bytes": {
              "type": "integer",
              "title": "Size Bytes"
            },
            "width": {
              "type": "integer",
              "title": "Width"
            },
            "height": {
              "type": "integer",
              "title": "Height"
            },
            "metadata": {
              "properties": {
                "dalle": {
                  "properties": {
                    "prompt": {
                      "type": "string",
                      "title": "Prompt"
                    },
                    "seed": {
                      "type": "integer",
                      "title": "Seed"
                    },
                    "serialization_title": {
                      "type": "string",
                      "title": "Serialization Title"
                    }
                  },
                  "type": "object",
                  "title": "OpenaiWebChatMessageMultimodalTextMetadataDalle"
                }
              },
              "type": "object",
              "title": "OpenaiWebChatMessageMultimodalTextMetadata"
            }
          },
          "type": "object",
          "title": "OpenaiWebChatMessageMultimodalTextContentImagePart"
        },
        "type": "array",
        "title": "Openai Web Multimodal Image Parts"
      }
    },
    "type": "object",
    "required": ["source", "model", "new_conversation", "text_content"],
    "title": "AskRequest"
  },
  "AskResponse": {
    "properties": {
      "type": {
        "type": "string",
        "enum": ["waiting", "queueing", "message", "error"],
        "title": "AskResponseType",
        "description": "An enumeration."
      },
      "tip": {
        "type": "string",
        "title": "Tip"
      },
      "conversation_id": {
        "type": "string",
        "format": "uuid",
        "title": "Conversation Id"
      },
      "message": {
        "anyOf": [
          {
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "title": "Id"
              },
              "source": {
                "type": "string",
                "enum": ["openai_web"],
                "title": "Source"
              },
              "role": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["system", "user", "assistant", "tool"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Role"
              },
              "author_name": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["browser", "python"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Author Name"
              },
              "model": {
                "type": "string",
                "title": "Model"
              },
              "create_time": {
                "type": "string",
                "format": "date-time",
                "title": "Create Time"
              },
              "parent": {
                "type": "string",
                "format": "uuid",
                "title": "Parent"
              },
              "children": {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array",
                "title": "Children"
              },
              "content": {
                "anyOf": [
                  {
                    "properties": {
                      "content_type": {
                        "type": "string",
                        "enum": ["text"],
                        "title": "Content Type"
                      },
                      "parts": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array",
                        "title": "Parts"
                      }
                    },
                    "type": "object",
                    "required": ["content_type"],
                    "title": "OpenaiWebChatMessageTextContent"
                  },
                  {
                    "properties": {
                      "content_type": {
                        "type": "string",
                        "enum": ["multimodal_text"],
                        "title": "Content Type"
                      },
                      "parts": {
                        "items": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "properties": {
                                "asset_pointer": {
                                  "type": "string",
                                  "title": "Asset Pointer"
                                },
                                "size_bytes": {
                                  "type": "integer",
                                  "title": "Size Bytes"
                                },
                                "width": {
                                  "type": "integer",
                                  "title": "Width"
                                },
                                "height": {
                                  "type": "integer",
                                  "title": "Height"
                                },
                                "metadata": {
                                  "properties": {
                                    "dalle": {
                                      "properties": {
                                        "prompt": {
                                          "type": "string",
                                          "title": "Prompt"
                                        },
                                        "seed": {
                                          "type": "integer",
                                          "title": "Seed"
                                        },
                                        "serialization_title": {
                                          "type": "string",
                                          "title": "Serialization Title"
                                        }
                                      },
                                      "type": "object",
                                      "title": "OpenaiWebChatMessageMultimodalTextMetadataDalle"
                                    }
                                  },
                                  "type": "object",
                                  "title": "OpenaiWebChatMessageMultimodalTextMetadata"
                                }
                              },
                              "type": "object",
                              "title": "OpenaiWebChatMessageMultimodalTextContentImagePart"
                            },
                            {}
                          ]
                        },
                        "type": "array",
                        "title": "Parts"
                      }
                    },
                    "type": "object",
                    "required": ["content_type"],
                    "title": "OpenaiWebChatMessageMultimodalTextContent"
                  },
                  {
                    "properties": {
                      "content_type": {
                        "type": "string",
                        "enum": ["code"],
                        "title": "Content Type"
                      },
                      "language": {
                        "type": "string",
                        "title": "Language"
                      },
                      "text": {
                        "type": "string",
                        "title": "Text"
                      }
                    },
                    "type": "object",
                    "required": ["content_type"],
                    "title": "OpenaiWebChatMessageCodeContent"
                  },
                  {
                    "properties": {
                      "content_type": {
                        "type": "string",
                        "enum": ["execution_output"],
                        "title": "Content Type"
                      },
                      "text": {
                        "type": "string",
                        "title": "Text"
                      }
                    },
                    "type": "object",
                    "required": ["content_type"],
                    "title": "OpenaiWebChatMessageExecutionOutputContent"
                  },
                  {
                    "properties": {
                      "content_type": {
                        "type": "string",
                        "enum": ["stderr"],
                        "title": "Content Type"
                      },
                      "text": {
                        "type": "string",
                        "title": "Text"
                      }
                    },
                    "type": "object",
                    "required": ["content_type"],
                    "title": "OpenaiWebChatMessageStderrContent"
                  },
                  {
                    "properties": {
                      "content_type": {
                        "type": "string",
                        "enum": ["tether_browsing_display"],
                        "title": "Content Type"
                      },
                      "result": {
                        "type": "string",
                        "title": "Result"
                      }
                    },
                    "type": "object",
                    "required": ["content_type"],
                    "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent"
                  },
                  {
                    "properties": {
                      "content_type": {
                        "type": "string",
                        "enum": ["tether_quote"],
                        "title": "Content Type"
                      },
                      "url": {
                        "type": "string",
                        "title": "Url"
                      },
                      "domain": {
                        "type": "string",
                        "title": "Domain"
                      },
                      "text": {
                        "type": "string",
                        "title": "Text"
                      },
                      "title": {
                        "type": "string",
                        "title": "Title"
                      }
                    },
                    "type": "object",
                    "required": ["content_type"],
                    "title": "OpenaiWebChatMessageTetherQuoteContent"
                  },
                  {
                    "properties": {
                      "content_type": {
                        "type": "string",
                        "enum": ["system_error"],
                        "title": "Content Type"
                      },
                      "name": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": ["tool_error"]
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Name"
                      },
                      "text": {
                        "type": "string",
                        "title": "Text"
                      }
                    },
                    "type": "object",
                    "required": ["content_type"],
                    "title": "OpenaiWebChatMessageSystemErrorContent"
                  }
                ],
                "title": "Content"
              },
              "metadata": {
                "anyOf": [
                  {
                    "properties": {
                      "source": {
                        "type": "string",
                        "enum": ["openai_web"],
                        "title": "Source"
                      },
                      "finish_details": {
                        "type": "object",
                        "title": "Finish Details"
                      },
                      "weight": {
                        "type": "number",
                        "title": "Weight"
                      },
                      "end_turn": {
                        "type": "boolean",
                        "title": "End Turn"
                      },
                      "message_status": {
                        "type": "string",
                        "title": "Message Status"
                      },
                      "recipient": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": ["all", "browser", "python"]
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Recipient"
                      },
                      "fallback_content": {
                        "title": "Fallback Content"
                      },
                      "invoked_plugin": {
                        "properties": {
                          "http_response_status": {
                            "type": "integer",
                            "title": "Http Response Status"
                          },
                          "namespace": {
                            "type": "string",
                            "title": "Namespace"
                          },
                          "plugin_id": {
                            "type": "string",
                            "title": "Plugin Id"
                          },
                          "type": {
                            "type": "string",
                            "title": "Type"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataPlugin"
                      },
                      "command": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": ["search"]
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Command"
                      },
                      "args": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array",
                        "title": "Args"
                      },
                      "status": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": ["finished"]
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Status"
                      },
                      "_cite_metadata": {
                        "properties": {
                          "citation_format": {
                            "type": "object",
                            "title": "Citation Format"
                          },
                          "metadata_list": {
                            "items": {
                              "properties": {
                                "title": {
                                  "type": "string",
                                  "title": "Title"
                                },
                                "url": {
                                  "type": "string",
                                  "title": "Url"
                                },
                                "text": {
                                  "type": "string",
                                  "title": "Text"
                                }
                              },
                              "type": "object",
                              "title": "OpenaiWebChatMessageMetadataCiteData"
                            },
                            "type": "array",
                            "title": "Metadata List"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataCite"
                      },
                      "citations": {
                        "items": {
                          "properties": {
                            "start_ix": {
                              "type": "integer",
                              "title": "Start Ix"
                            },
                            "end_ix": {
                              "type": "integer",
                              "title": "End Ix"
                            },
                            "metadata": {
                              "properties": {
                                "title": {
                                  "type": "string",
                                  "title": "Title"
                                },
                                "url": {
                                  "type": "string",
                                  "title": "Url"
                                },
                                "text": {
                                  "type": "string",
                                  "title": "Text"
                                }
                              },
                              "type": "object",
                              "title": "OpenaiWebChatMessageMetadataCiteData"
                            }
                          },
                          "type": "object",
                          "title": "OpenaiWebChatMessageMetadataCitation"
                        },
                        "type": "array",
                        "title": "Citations"
                      },
                      "attachments": {
                        "items": {
                          "properties": {
                            "name": {
                              "type": "string",
                              "title": "Name"
                            },
                            "id": {
                              "type": "string",
                              "title": "Id"
                            },
                            "size": {
                              "type": "integer",
                              "title": "Size"
                            }
                          },
                          "type": "object",
                          "title": "OpenaiWebChatMessageMetadataAttachment"
                        },
                        "type": "array",
                        "title": "Attachments"
                      },
                      "is_complete": {
                        "type": "boolean",
                        "title": "Is Complete"
                      },
                      "aggregate_result": {
                        "properties": {
                          "status": {
                            "anyOf": [
                              {
                                "type": "string",
                                "enum": ["failed_with_in_kernel_exception", "success"]
                              },
                              {
                                "type": "string"
                              }
                            ],
                            "title": "Status"
                          },
                          "run_id": {
                            "type": "string",
                            "title": "Run Id"
                          },
                          "start_time": {
                            "type": "number",
                            "title": "Start Time"
                          },
                          "update_time": {
                            "type": "number",
                            "title": "Update Time"
                          },
                          "end_time": {
                            "type": "number",
                            "title": "End Time"
                          },
                          "final_expression_output": {
                            "title": "Final Expression Output"
                          },
                          "code": {
                            "type": "string",
                            "title": "Code"
                          },
                          "in_kernel_exception": {
                            "type": "object",
                            "title": "In Kernel Exception"
                          },
                          "messages": {
                            "items": {
                              "properties": {
                                "message_type": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "enum": ["image", "stream"]
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ],
                                  "title": "Message Type"
                                },
                                "time": {
                                  "type": "number",
                                  "title": "Time"
                                },
                                "sender": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "enum": ["server"]
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ],
                                  "title": "Sender"
                                },
                                "image_url": {
                                  "type": "string",
                                  "title": "Image Url"
                                },
                                "stream_name": {
                                  "type": "string",
                                  "title": "Stream Name"
                                },
                                "text": {
                                  "type": "string",
                                  "title": "Text"
                                }
                              },
                              "type": "object",
                              "title": "OpenaiWebChatMessageMetadataAggregateResultMessage"
                            },
                            "type": "array",
                            "title": "Messages"
                          },
                          "jupyter_messages": {
                            "items": {},
                            "type": "array",
                            "title": "Jupyter Messages"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataAggregateResult"
                      }
                    },
                    "type": "object",
                    "required": ["source"],
                    "title": "OpenaiWebChatMessageMetadata"
                  },
                  {
                    "properties": {
                      "source": {
                        "type": "string",
                        "enum": ["openai_api"],
                        "title": "Source"
                      },
                      "usage": {
                        "properties": {
                          "prompt_tokens": {
                            "type": "integer",
                            "title": "Prompt Tokens"
                          },
                          "completion_tokens": {
                            "type": "integer",
                            "title": "Completion Tokens"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiChatResponseUsage"
                      },
                      "finish_reason": {
                        "type": "string",
                        "title": "Finish Reason"
                      }
                    },
                    "type": "object",
                    "required": ["source"],
                    "title": "OpenaiApiChatMessageMetadata"
                  }
                ],
                "title": "Metadata"
              }
            },
            "type": "object",
            "required": ["id", "source", "role", "children"],
            "title": "OpenaiWebChatMessage"
          },
          {
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "title": "Id"
              },
              "source": {
                "type": "string",
                "enum": ["openai_api"],
                "title": "Source"
              },
              "role": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["system", "user", "assistant", "tool"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Role"
              },
              "author_name": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["browser", "python"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Author Name"
              },
              "model": {
                "type": "string",
                "title": "Model"
              },
              "create_time": {
                "type": "string",
                "format": "date-time",
                "title": "Create Time"
              },
              "parent": {
                "type": "string",
                "format": "uuid",
                "title": "Parent"
              },
              "children": {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array",
                "title": "Children"
              },
              "content": {
                "properties": {
                  "content_type": {
                    "type": "string",
                    "enum": ["text"],
                    "title": "Content Type"
                  },
                  "text": {
                    "type": "string",
                    "title": "Text"
                  }
                },
                "type": "object",
                "required": ["content_type", "text"],
                "title": "OpenaiApiChatMessageTextContent"
              },
              "metadata": {
                "anyOf": [
                  {
                    "properties": {
                      "source": {
                        "type": "string",
                        "enum": ["openai_web"],
                        "title": "Source"
                      },
                      "finish_details": {
                        "type": "object",
                        "title": "Finish Details"
                      },
                      "weight": {
                        "type": "number",
                        "title": "Weight"
                      },
                      "end_turn": {
                        "type": "boolean",
                        "title": "End Turn"
                      },
                      "message_status": {
                        "type": "string",
                        "title": "Message Status"
                      },
                      "recipient": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": ["all", "browser", "python"]
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Recipient"
                      },
                      "fallback_content": {
                        "title": "Fallback Content"
                      },
                      "invoked_plugin": {
                        "properties": {
                          "http_response_status": {
                            "type": "integer",
                            "title": "Http Response Status"
                          },
                          "namespace": {
                            "type": "string",
                            "title": "Namespace"
                          },
                          "plugin_id": {
                            "type": "string",
                            "title": "Plugin Id"
                          },
                          "type": {
                            "type": "string",
                            "title": "Type"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataPlugin"
                      },
                      "command": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": ["search"]
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Command"
                      },
                      "args": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array",
                        "title": "Args"
                      },
                      "status": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": ["finished"]
                          },
                          {
                            "type": "string"
                          }
                        ],
                        "title": "Status"
                      },
                      "_cite_metadata": {
                        "properties": {
                          "citation_format": {
                            "type": "object",
                            "title": "Citation Format"
                          },
                          "metadata_list": {
                            "items": {
                              "properties": {
                                "title": {
                                  "type": "string",
                                  "title": "Title"
                                },
                                "url": {
                                  "type": "string",
                                  "title": "Url"
                                },
                                "text": {
                                  "type": "string",
                                  "title": "Text"
                                }
                              },
                              "type": "object",
                              "title": "OpenaiWebChatMessageMetadataCiteData"
                            },
                            "type": "array",
                            "title": "Metadata List"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataCite"
                      },
                      "citations": {
                        "items": {
                          "properties": {
                            "start_ix": {
                              "type": "integer",
                              "title": "Start Ix"
                            },
                            "end_ix": {
                              "type": "integer",
                              "title": "End Ix"
                            },
                            "metadata": {
                              "properties": {
                                "title": {
                                  "type": "string",
                                  "title": "Title"
                                },
                                "url": {
                                  "type": "string",
                                  "title": "Url"
                                },
                                "text": {
                                  "type": "string",
                                  "title": "Text"
                                }
                              },
                              "type": "object",
                              "title": "OpenaiWebChatMessageMetadataCiteData"
                            }
                          },
                          "type": "object",
                          "title": "OpenaiWebChatMessageMetadataCitation"
                        },
                        "type": "array",
                        "title": "Citations"
                      },
                      "attachments": {
                        "items": {
                          "properties": {
                            "name": {
                              "type": "string",
                              "title": "Name"
                            },
                            "id": {
                              "type": "string",
                              "title": "Id"
                            },
                            "size": {
                              "type": "integer",
                              "title": "Size"
                            }
                          },
                          "type": "object",
                          "title": "OpenaiWebChatMessageMetadataAttachment"
                        },
                        "type": "array",
                        "title": "Attachments"
                      },
                      "is_complete": {
                        "type": "boolean",
                        "title": "Is Complete"
                      },
                      "aggregate_result": {
                        "properties": {
                          "status": {
                            "anyOf": [
                              {
                                "type": "string",
                                "enum": ["failed_with_in_kernel_exception", "success"]
                              },
                              {
                                "type": "string"
                              }
                            ],
                            "title": "Status"
                          },
                          "run_id": {
                            "type": "string",
                            "title": "Run Id"
                          },
                          "start_time": {
                            "type": "number",
                            "title": "Start Time"
                          },
                          "update_time": {
                            "type": "number",
                            "title": "Update Time"
                          },
                          "end_time": {
                            "type": "number",
                            "title": "End Time"
                          },
                          "final_expression_output": {
                            "title": "Final Expression Output"
                          },
                          "code": {
                            "type": "string",
                            "title": "Code"
                          },
                          "in_kernel_exception": {
                            "type": "object",
                            "title": "In Kernel Exception"
                          },
                          "messages": {
                            "items": {
                              "properties": {
                                "message_type": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "enum": ["image", "stream"]
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ],
                                  "title": "Message Type"
                                },
                                "time": {
                                  "type": "number",
                                  "title": "Time"
                                },
                                "sender": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "enum": ["server"]
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ],
                                  "title": "Sender"
                                },
                                "image_url": {
                                  "type": "string",
                                  "title": "Image Url"
                                },
                                "stream_name": {
                                  "type": "string",
                                  "title": "Stream Name"
                                },
                                "text": {
                                  "type": "string",
                                  "title": "Text"
                                }
                              },
                              "type": "object",
                              "title": "OpenaiWebChatMessageMetadataAggregateResultMessage"
                            },
                            "type": "array",
                            "title": "Messages"
                          },
                          "jupyter_messages": {
                            "items": {},
                            "type": "array",
                            "title": "Jupyter Messages"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataAggregateResult"
                      }
                    },
                    "type": "object",
                    "required": ["source"],
                    "title": "OpenaiWebChatMessageMetadata"
                  },
                  {
                    "properties": {
                      "source": {
                        "type": "string",
                        "enum": ["openai_api"],
                        "title": "Source"
                      },
                      "usage": {
                        "properties": {
                          "prompt_tokens": {
                            "type": "integer",
                            "title": "Prompt Tokens"
                          },
                          "completion_tokens": {
                            "type": "integer",
                            "title": "Completion Tokens"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiChatResponseUsage"
                      },
                      "finish_reason": {
                        "type": "string",
                        "title": "Finish Reason"
                      }
                    },
                    "type": "object",
                    "required": ["source"],
                    "title": "OpenaiApiChatMessageMetadata"
                  }
                ],
                "title": "Metadata"
              }
            },
            "type": "object",
            "required": ["id", "source", "role", "children"],
            "title": "OpenaiApiChatMessage"
          }
        ],
        "title": "Message"
      },
      "error_detail": {
        "type": "string",
        "title": "Error Detail"
      }
    },
    "type": "object",
    "required": ["type"],
    "title": "AskResponse"
  },
  "AskResponseType": {
    "type": "string",
    "enum": ["waiting", "queueing", "message", "error"],
    "title": "AskResponseType",
    "description": "An enumeration."
  },
  "AuthSetting": {
    "properties": {
      "jwt_secret": {
        "type": "string",
        "title": "Jwt Secret",
        "default": "MODIFY_THIS_TO_RANDOM_SECURE_STRING"
      },
      "jwt_lifetime_seconds": {
        "type": "integer",
        "minimum": 1,
        "title": "Jwt Lifetime Seconds",
        "default": 259200
      },
      "cookie_max_age": {
        "type": "integer",
        "minimum": 1,
        "title": "Cookie Max Age",
        "default": 259200
      },
      "user_secret": {
        "type": "string",
        "title": "User Secret",
        "default": "MODIFY_THIS_TO_ANOTHER_RANDOM_SECURE_STRING"
      }
    },
    "type": "object",
    "title": "AuthSetting"
  },
  "BaseChatMessage": {
    "properties": {
      "id": {
        "type": "string",
        "format": "uuid",
        "title": "Id"
      },
      "source": {
        "type": "string",
        "enum": ["openai_web", "openai_api"],
        "title": "Source"
      },
      "role": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["system", "user", "assistant", "tool"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Role"
      },
      "author_name": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["browser", "python"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Author Name"
      },
      "model": {
        "type": "string",
        "title": "Model"
      },
      "create_time": {
        "type": "string",
        "format": "date-time",
        "title": "Create Time"
      },
      "parent": {
        "type": "string",
        "format": "uuid",
        "title": "Parent"
      },
      "children": {
        "items": {
          "type": "string",
          "format": "uuid"
        },
        "type": "array",
        "title": "Children"
      },
      "content": {
        "anyOf": [
          {
            "oneOf": [
              {
                "properties": {
                  "content_type": {
                    "type": "string",
                    "enum": ["text"],
                    "title": "Content Type"
                  },
                  "parts": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array",
                    "title": "Parts"
                  }
                },
                "type": "object",
                "required": ["content_type"],
                "title": "OpenaiWebChatMessageTextContent"
              },
              {
                "properties": {
                  "content_type": {
                    "type": "string",
                    "enum": ["multimodal_text"],
                    "title": "Content Type"
                  },
                  "parts": {
                    "items": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "properties": {
                            "asset_pointer": {
                              "type": "string",
                              "title": "Asset Pointer"
                            },
                            "size_bytes": {
                              "type": "integer",
                              "title": "Size Bytes"
                            },
                            "width": {
                              "type": "integer",
                              "title": "Width"
                            },
                            "height": {
                              "type": "integer",
                              "title": "Height"
                            },
                            "metadata": {
                              "properties": {
                                "dalle": {
                                  "properties": {
                                    "prompt": {
                                      "type": "string",
                                      "title": "Prompt"
                                    },
                                    "seed": {
                                      "type": "integer",
                                      "title": "Seed"
                                    },
                                    "serialization_title": {
                                      "type": "string",
                                      "title": "Serialization Title"
                                    }
                                  },
                                  "type": "object",
                                  "title": "OpenaiWebChatMessageMultimodalTextMetadataDalle"
                                }
                              },
                              "type": "object",
                              "title": "OpenaiWebChatMessageMultimodalTextMetadata"
                            }
                          },
                          "type": "object",
                          "title": "OpenaiWebChatMessageMultimodalTextContentImagePart"
                        },
                        {}
                      ]
                    },
                    "type": "array",
                    "title": "Parts"
                  }
                },
                "type": "object",
                "required": ["content_type"],
                "title": "OpenaiWebChatMessageMultimodalTextContent"
              },
              {
                "properties": {
                  "content_type": {
                    "type": "string",
                    "enum": ["code"],
                    "title": "Content Type"
                  },
                  "language": {
                    "type": "string",
                    "title": "Language"
                  },
                  "text": {
                    "type": "string",
                    "title": "Text"
                  }
                },
                "type": "object",
                "required": ["content_type"],
                "title": "OpenaiWebChatMessageCodeContent"
              },
              {
                "properties": {
                  "content_type": {
                    "type": "string",
                    "enum": ["execution_output"],
                    "title": "Content Type"
                  },
                  "text": {
                    "type": "string",
                    "title": "Text"
                  }
                },
                "type": "object",
                "required": ["content_type"],
                "title": "OpenaiWebChatMessageExecutionOutputContent"
              },
              {
                "properties": {
                  "content_type": {
                    "type": "string",
                    "enum": ["stderr"],
                    "title": "Content Type"
                  },
                  "text": {
                    "type": "string",
                    "title": "Text"
                  }
                },
                "type": "object",
                "required": ["content_type"],
                "title": "OpenaiWebChatMessageStderrContent"
              },
              {
                "properties": {
                  "content_type": {
                    "type": "string",
                    "enum": ["tether_browsing_display"],
                    "title": "Content Type"
                  },
                  "result": {
                    "type": "string",
                    "title": "Result"
                  }
                },
                "type": "object",
                "required": ["content_type"],
                "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent"
              },
              {
                "properties": {
                  "content_type": {
                    "type": "string",
                    "enum": ["tether_quote"],
                    "title": "Content Type"
                  },
                  "url": {
                    "type": "string",
                    "title": "Url"
                  },
                  "domain": {
                    "type": "string",
                    "title": "Domain"
                  },
                  "text": {
                    "type": "string",
                    "title": "Text"
                  },
                  "title": {
                    "type": "string",
                    "title": "Title"
                  }
                },
                "type": "object",
                "required": ["content_type"],
                "title": "OpenaiWebChatMessageTetherQuoteContent"
              },
              {
                "properties": {
                  "content_type": {
                    "type": "string",
                    "enum": ["system_error"],
                    "title": "Content Type"
                  },
                  "name": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": ["tool_error"]
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "title": "Name"
                  },
                  "text": {
                    "type": "string",
                    "title": "Text"
                  }
                },
                "type": "object",
                "required": ["content_type"],
                "title": "OpenaiWebChatMessageSystemErrorContent"
              }
            ]
          },
          {
            "properties": {
              "content_type": {
                "type": "string",
                "enum": ["text"],
                "title": "Content Type"
              },
              "text": {
                "type": "string",
                "title": "Text"
              }
            },
            "type": "object",
            "required": ["content_type", "text"],
            "title": "OpenaiApiChatMessageTextContent"
          }
        ],
        "title": "Content"
      },
      "metadata": {
        "anyOf": [
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_web"],
                "title": "Source"
              },
              "finish_details": {
                "type": "object",
                "title": "Finish Details"
              },
              "weight": {
                "type": "number",
                "title": "Weight"
              },
              "end_turn": {
                "type": "boolean",
                "title": "End Turn"
              },
              "message_status": {
                "type": "string",
                "title": "Message Status"
              },
              "recipient": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["all", "browser", "python"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Recipient"
              },
              "fallback_content": {
                "title": "Fallback Content"
              },
              "invoked_plugin": {
                "properties": {
                  "http_response_status": {
                    "type": "integer",
                    "title": "Http Response Status"
                  },
                  "namespace": {
                    "type": "string",
                    "title": "Namespace"
                  },
                  "plugin_id": {
                    "type": "string",
                    "title": "Plugin Id"
                  },
                  "type": {
                    "type": "string",
                    "title": "Type"
                  }
                },
                "type": "object",
                "title": "OpenaiWebChatMessageMetadataPlugin"
              },
              "command": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["search"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Command"
              },
              "args": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Args"
              },
              "status": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["finished"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Status"
              },
              "_cite_metadata": {
                "properties": {
                  "citation_format": {
                    "type": "object",
                    "title": "Citation Format"
                  },
                  "metadata_list": {
                    "items": {
                      "properties": {
                        "title": {
                          "type": "string",
                          "title": "Title"
                        },
                        "url": {
                          "type": "string",
                          "title": "Url"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataCiteData"
                    },
                    "type": "array",
                    "title": "Metadata List"
                  }
                },
                "type": "object",
                "title": "OpenaiWebChatMessageMetadataCite"
              },
              "citations": {
                "items": {
                  "properties": {
                    "start_ix": {
                      "type": "integer",
                      "title": "Start Ix"
                    },
                    "end_ix": {
                      "type": "integer",
                      "title": "End Ix"
                    },
                    "metadata": {
                      "properties": {
                        "title": {
                          "type": "string",
                          "title": "Title"
                        },
                        "url": {
                          "type": "string",
                          "title": "Url"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataCiteData"
                    }
                  },
                  "type": "object",
                  "title": "OpenaiWebChatMessageMetadataCitation"
                },
                "type": "array",
                "title": "Citations"
              },
              "attachments": {
                "items": {
                  "properties": {
                    "name": {
                      "type": "string",
                      "title": "Name"
                    },
                    "id": {
                      "type": "string",
                      "title": "Id"
                    },
                    "size": {
                      "type": "integer",
                      "title": "Size"
                    }
                  },
                  "type": "object",
                  "title": "OpenaiWebChatMessageMetadataAttachment"
                },
                "type": "array",
                "title": "Attachments"
              },
              "is_complete": {
                "type": "boolean",
                "title": "Is Complete"
              },
              "aggregate_result": {
                "properties": {
                  "status": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": ["failed_with_in_kernel_exception", "success"]
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "title": "Status"
                  },
                  "run_id": {
                    "type": "string",
                    "title": "Run Id"
                  },
                  "start_time": {
                    "type": "number",
                    "title": "Start Time"
                  },
                  "update_time": {
                    "type": "number",
                    "title": "Update Time"
                  },
                  "end_time": {
                    "type": "number",
                    "title": "End Time"
                  },
                  "final_expression_output": {
                    "title": "Final Expression Output"
                  },
                  "code": {
                    "type": "string",
                    "title": "Code"
                  },
                  "in_kernel_exception": {
                    "type": "object",
                    "title": "In Kernel Exception"
                  },
                  "messages": {
                    "items": {
                      "properties": {
                        "message_type": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": ["image", "stream"]
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "title": "Message Type"
                        },
                        "time": {
                          "type": "number",
                          "title": "Time"
                        },
                        "sender": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": ["server"]
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "title": "Sender"
                        },
                        "image_url": {
                          "type": "string",
                          "title": "Image Url"
                        },
                        "stream_name": {
                          "type": "string",
                          "title": "Stream Name"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataAggregateResultMessage"
                    },
                    "type": "array",
                    "title": "Messages"
                  },
                  "jupyter_messages": {
                    "items": {},
                    "type": "array",
                    "title": "Jupyter Messages"
                  }
                },
                "type": "object",
                "title": "OpenaiWebChatMessageMetadataAggregateResult"
              }
            },
            "type": "object",
            "required": ["source"],
            "title": "OpenaiWebChatMessageMetadata"
          },
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_api"],
                "title": "Source"
              },
              "usage": {
                "properties": {
                  "prompt_tokens": {
                    "type": "integer",
                    "title": "Prompt Tokens"
                  },
                  "completion_tokens": {
                    "type": "integer",
                    "title": "Completion Tokens"
                  }
                },
                "type": "object",
                "title": "OpenaiChatResponseUsage"
              },
              "finish_reason": {
                "type": "string",
                "title": "Finish Reason"
              }
            },
            "type": "object",
            "required": ["source"],
            "title": "OpenaiApiChatMessageMetadata"
          }
        ],
        "title": "Metadata"
      }
    },
    "type": "object",
    "required": ["id", "source", "role", "children"],
    "title": "BaseChatMessage"
  },
  "BaseConversationHistory": {
    "properties": {
      "_id": {
        "type": "string",
        "format": "uuid",
        "title": " Id"
      },
      "source": {
        "type": "string",
        "enum": ["openai_web", "openai_api"],
        "title": "Source"
      },
      "title": {
        "type": "string",
        "title": "Title"
      },
      "create_time": {
        "type": "string",
        "format": "date-time",
        "title": "Create Time"
      },
      "update_time": {
        "type": "string",
        "format": "date-time",
        "title": "Update Time"
      },
      "mapping": {
        "additionalProperties": {
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid",
              "title": "Id"
            },
            "source": {
              "type": "string",
              "enum": ["openai_web", "openai_api"],
              "title": "Source"
            },
            "role": {
              "anyOf": [
                {
                  "type": "string",
                  "enum": ["system", "user", "assistant", "tool"]
                },
                {
                  "type": "string"
                }
              ],
              "title": "Role"
            },
            "author_name": {
              "anyOf": [
                {
                  "type": "string",
                  "enum": ["browser", "python"]
                },
                {
                  "type": "string"
                }
              ],
              "title": "Author Name"
            },
            "model": {
              "type": "string",
              "title": "Model"
            },
            "create_time": {
              "type": "string",
              "format": "date-time",
              "title": "Create Time"
            },
            "parent": {
              "type": "string",
              "format": "uuid",
              "title": "Parent"
            },
            "children": {
              "items": {
                "type": "string",
                "format": "uuid"
              },
              "type": "array",
              "title": "Children"
            },
            "content": {
              "anyOf": [
                {
                  "oneOf": [
                    {
                      "properties": {
                        "content_type": {
                          "type": "string",
                          "enum": ["text"],
                          "title": "Content Type"
                        },
                        "parts": {
                          "items": {
                            "type": "string"
                          },
                          "type": "array",
                          "title": "Parts"
                        }
                      },
                      "type": "object",
                      "required": ["content_type"],
                      "title": "OpenaiWebChatMessageTextContent"
                    },
                    {
                      "properties": {
                        "content_type": {
                          "type": "string",
                          "enum": ["multimodal_text"],
                          "title": "Content Type"
                        },
                        "parts": {
                          "items": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "properties": {
                                  "asset_pointer": {
                                    "type": "string",
                                    "title": "Asset Pointer"
                                  },
                                  "size_bytes": {
                                    "type": "integer",
                                    "title": "Size Bytes"
                                  },
                                  "width": {
                                    "type": "integer",
                                    "title": "Width"
                                  },
                                  "height": {
                                    "type": "integer",
                                    "title": "Height"
                                  },
                                  "metadata": {
                                    "properties": {
                                      "dalle": {
                                        "properties": {
                                          "prompt": {
                                            "type": "string",
                                            "title": "Prompt"
                                          },
                                          "seed": {
                                            "type": "integer",
                                            "title": "Seed"
                                          },
                                          "serialization_title": {
                                            "type": "string",
                                            "title": "Serialization Title"
                                          }
                                        },
                                        "type": "object",
                                        "title": "OpenaiWebChatMessageMultimodalTextMetadataDalle"
                                      }
                                    },
                                    "type": "object",
                                    "title": "OpenaiWebChatMessageMultimodalTextMetadata"
                                  }
                                },
                                "type": "object",
                                "title": "OpenaiWebChatMessageMultimodalTextContentImagePart"
                              },
                              {}
                            ]
                          },
                          "type": "array",
                          "title": "Parts"
                        }
                      },
                      "type": "object",
                      "required": ["content_type"],
                      "title": "OpenaiWebChatMessageMultimodalTextContent"
                    },
                    {
                      "properties": {
                        "content_type": {
                          "type": "string",
                          "enum": ["code"],
                          "title": "Content Type"
                        },
                        "language": {
                          "type": "string",
                          "title": "Language"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "required": ["content_type"],
                      "title": "OpenaiWebChatMessageCodeContent"
                    },
                    {
                      "properties": {
                        "content_type": {
                          "type": "string",
                          "enum": ["execution_output"],
                          "title": "Content Type"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "required": ["content_type"],
                      "title": "OpenaiWebChatMessageExecutionOutputContent"
                    },
                    {
                      "properties": {
                        "content_type": {
                          "type": "string",
                          "enum": ["stderr"],
                          "title": "Content Type"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "required": ["content_type"],
                      "title": "OpenaiWebChatMessageStderrContent"
                    },
                    {
                      "properties": {
                        "content_type": {
                          "type": "string",
                          "enum": ["tether_browsing_display"],
                          "title": "Content Type"
                        },
                        "result": {
                          "type": "string",
                          "title": "Result"
                        }
                      },
                      "type": "object",
                      "required": ["content_type"],
                      "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent"
                    },
                    {
                      "properties": {
                        "content_type": {
                          "type": "string",
                          "enum": ["tether_quote"],
                          "title": "Content Type"
                        },
                        "url": {
                          "type": "string",
                          "title": "Url"
                        },
                        "domain": {
                          "type": "string",
                          "title": "Domain"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        },
                        "title": {
                          "type": "string",
                          "title": "Title"
                        }
                      },
                      "type": "object",
                      "required": ["content_type"],
                      "title": "OpenaiWebChatMessageTetherQuoteContent"
                    },
                    {
                      "properties": {
                        "content_type": {
                          "type": "string",
                          "enum": ["system_error"],
                          "title": "Content Type"
                        },
                        "name": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": ["tool_error"]
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "title": "Name"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "required": ["content_type"],
                      "title": "OpenaiWebChatMessageSystemErrorContent"
                    }
                  ]
                },
                {
                  "properties": {
                    "content_type": {
                      "type": "string",
                      "enum": ["text"],
                      "title": "Content Type"
                    },
                    "text": {
                      "type": "string",
                      "title": "Text"
                    }
                  },
                  "type": "object",
                  "required": ["content_type", "text"],
                  "title": "OpenaiApiChatMessageTextContent"
                }
              ],
              "title": "Content"
            },
            "metadata": {
              "anyOf": [
                {
                  "properties": {
                    "source": {
                      "type": "string",
                      "enum": ["openai_web"],
                      "title": "Source"
                    },
                    "finish_details": {
                      "type": "object",
                      "title": "Finish Details"
                    },
                    "weight": {
                      "type": "number",
                      "title": "Weight"
                    },
                    "end_turn": {
                      "type": "boolean",
                      "title": "End Turn"
                    },
                    "message_status": {
                      "type": "string",
                      "title": "Message Status"
                    },
                    "recipient": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": ["all", "browser", "python"]
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "title": "Recipient"
                    },
                    "fallback_content": {
                      "title": "Fallback Content"
                    },
                    "invoked_plugin": {
                      "properties": {
                        "http_response_status": {
                          "type": "integer",
                          "title": "Http Response Status"
                        },
                        "namespace": {
                          "type": "string",
                          "title": "Namespace"
                        },
                        "plugin_id": {
                          "type": "string",
                          "title": "Plugin Id"
                        },
                        "type": {
                          "type": "string",
                          "title": "Type"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataPlugin"
                    },
                    "command": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": ["search"]
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "title": "Command"
                    },
                    "args": {
                      "items": {
                        "type": "string"
                      },
                      "type": "array",
                      "title": "Args"
                    },
                    "status": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": ["finished"]
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "title": "Status"
                    },
                    "_cite_metadata": {
                      "properties": {
                        "citation_format": {
                          "type": "object",
                          "title": "Citation Format"
                        },
                        "metadata_list": {
                          "items": {
                            "properties": {
                              "title": {
                                "type": "string",
                                "title": "Title"
                              },
                              "url": {
                                "type": "string",
                                "title": "Url"
                              },
                              "text": {
                                "type": "string",
                                "title": "Text"
                              }
                            },
                            "type": "object",
                            "title": "OpenaiWebChatMessageMetadataCiteData"
                          },
                          "type": "array",
                          "title": "Metadata List"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataCite"
                    },
                    "citations": {
                      "items": {
                        "properties": {
                          "start_ix": {
                            "type": "integer",
                            "title": "Start Ix"
                          },
                          "end_ix": {
                            "type": "integer",
                            "title": "End Ix"
                          },
                          "metadata": {
                            "properties": {
                              "title": {
                                "type": "string",
                                "title": "Title"
                              },
                              "url": {
                                "type": "string",
                                "title": "Url"
                              },
                              "text": {
                                "type": "string",
                                "title": "Text"
                              }
                            },
                            "type": "object",
                            "title": "OpenaiWebChatMessageMetadataCiteData"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataCitation"
                      },
                      "type": "array",
                      "title": "Citations"
                    },
                    "attachments": {
                      "items": {
                        "properties": {
                          "name": {
                            "type": "string",
                            "title": "Name"
                          },
                          "id": {
                            "type": "string",
                            "title": "Id"
                          },
                          "size": {
                            "type": "integer",
                            "title": "Size"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataAttachment"
                      },
                      "type": "array",
                      "title": "Attachments"
                    },
                    "is_complete": {
                      "type": "boolean",
                      "title": "Is Complete"
                    },
                    "aggregate_result": {
                      "properties": {
                        "status": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": ["failed_with_in_kernel_exception", "success"]
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "title": "Status"
                        },
                        "run_id": {
                          "type": "string",
                          "title": "Run Id"
                        },
                        "start_time": {
                          "type": "number",
                          "title": "Start Time"
                        },
                        "update_time": {
                          "type": "number",
                          "title": "Update Time"
                        },
                        "end_time": {
                          "type": "number",
                          "title": "End Time"
                        },
                        "final_expression_output": {
                          "title": "Final Expression Output"
                        },
                        "code": {
                          "type": "string",
                          "title": "Code"
                        },
                        "in_kernel_exception": {
                          "type": "object",
                          "title": "In Kernel Exception"
                        },
                        "messages": {
                          "items": {
                            "properties": {
                              "message_type": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "enum": ["image", "stream"]
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "title": "Message Type"
                              },
                              "time": {
                                "type": "number",
                                "title": "Time"
                              },
                              "sender": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "enum": ["server"]
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "title": "Sender"
                              },
                              "image_url": {
                                "type": "string",
                                "title": "Image Url"
                              },
                              "stream_name": {
                                "type": "string",
                                "title": "Stream Name"
                              },
                              "text": {
                                "type": "string",
                                "title": "Text"
                              }
                            },
                            "type": "object",
                            "title": "OpenaiWebChatMessageMetadataAggregateResultMessage"
                          },
                          "type": "array",
                          "title": "Messages"
                        },
                        "jupyter_messages": {
                          "items": {},
                          "type": "array",
                          "title": "Jupyter Messages"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataAggregateResult"
                    }
                  },
                  "type": "object",
                  "required": ["source"],
                  "title": "OpenaiWebChatMessageMetadata"
                },
                {
                  "properties": {
                    "source": {
                      "type": "string",
                      "enum": ["openai_api"],
                      "title": "Source"
                    },
                    "usage": {
                      "properties": {
                        "prompt_tokens": {
                          "type": "integer",
                          "title": "Prompt Tokens"
                        },
                        "completion_tokens": {
                          "type": "integer",
                          "title": "Completion Tokens"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiChatResponseUsage"
                    },
                    "finish_reason": {
                      "type": "string",
                      "title": "Finish Reason"
                    }
                  },
                  "type": "object",
                  "required": ["source"],
                  "title": "OpenaiApiChatMessageMetadata"
                }
              ],
              "title": "Metadata"
            }
          },
          "type": "object",
          "required": ["id", "source", "role", "children"],
          "title": "BaseChatMessage"
        },
        "type": "object",
        "title": "Mapping"
      },
      "current_node": {
        "type": "string",
        "format": "uuid",
        "title": "Current Node"
      },
      "current_model": {
        "type": "string",
        "title": "Current Model"
      },
      "metadata": {
        "anyOf": [
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_web"],
                "title": "Source"
              },
              "moderation_results": {
                "items": {},
                "type": "array",
                "title": "Moderation Results"
              },
              "plugin_ids": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Plugin Ids"
              }
            },
            "type": "object",
            "required": ["source"],
            "title": "OpenaiWebConversationHistoryMeta"
          },
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_api"],
                "title": "Source"
              }
            },
            "type": "object",
            "required": ["source"],
            "title": "OpenaiApiConversationHistoryMeta"
          }
        ],
        "title": "Metadata"
      }
    },
    "type": "object",
    "required": ["source", "title", "create_time", "update_time", "mapping"],
    "title": "BaseConversationHistory"
  },
  "BaseConversationSchema": {
    "properties": {
      "id": {
        "type": "integer",
        "title": "Id",
        "default": -1
      },
      "source": {
        "type": "string",
        "enum": ["openai_web", "openai_api"],
        "title": "ChatSourceTypes",
        "description": "An enumeration."
      },
      "conversation_id": {
        "type": "string",
        "format": "uuid",
        "title": "Conversation Id"
      },
      "title": {
        "type": "string",
        "title": "Title"
      },
      "user_id": {
        "type": "integer",
        "title": "User Id"
      },
      "is_valid": {
        "type": "boolean",
        "title": "Is Valid",
        "default": true
      },
      "current_model": {
        "type": "string",
        "title": "Current Model"
      },
      "create_time": {
        "type": "string",
        "format": "date-time",
        "title": "Create Time"
      },
      "update_time": {
        "type": "string",
        "format": "date-time",
        "title": "Update Time"
      }
    },
    "type": "object",
    "required": ["source"],
    "title": "BaseConversationSchema"
  },
  "Body_auth_jwt_login_auth_login_post": {
    "properties": {
      "grant_type": {
        "type": "string",
        "pattern": "password",
        "title": "Grant Type"
      },
      "username": {
        "type": "string",
        "title": "Username"
      },
      "password": {
        "type": "string",
        "title": "Password"
      },
      "scope": {
        "type": "string",
        "title": "Scope",
        "default": ""
      },
      "client_id": {
        "type": "string",
        "title": "Client Id"
      },
      "client_secret": {
        "type": "string",
        "title": "Client Secret"
      }
    },
    "type": "object",
    "required": ["username", "password"],
    "title": "Body_auth_jwt_login_auth_login_post"
  },
  "Body_upload_file_to_local_files_local_upload_post": {
    "properties": {
      "file": {
        "type": "string",
        "format": "binary",
        "title": "File"
      }
    },
    "type": "object",
    "required": ["file"],
    "title": "Body_upload_file_to_local_files_local_upload_post"
  },
  "ChatSourceTypes": {
    "type": "string",
    "enum": ["openai_web", "openai_api"],
    "title": "ChatSourceTypes",
    "description": "An enumeration."
  },
  "CommonSetting": {
    "properties": {
      "print_sql": {
        "type": "boolean",
        "title": "Print Sql",
        "default": false
      },
      "create_initial_admin_user": {
        "type": "boolean",
        "title": "Create Initial Admin User",
        "default": true
      },
      "initial_admin_user_username": {
        "type": "string",
        "title": "Initial Admin User Username",
        "default": "admin"
      },
      "initial_admin_user_password": {
        "type": "string",
        "title": "Initial Admin User Password",
        "default": "password"
      }
    },
    "type": "object",
    "title": "CommonSetting"
  },
  "CommonStatusSchema": {
    "properties": {
      "active_user_in_5m": {
        "type": "integer",
        "title": "Active User In 5M"
      },
      "active_user_in_1h": {
        "type": "integer",
        "title": "Active User In 1H"
      },
      "active_user_in_1d": {
        "type": "integer",
        "title": "Active User In 1D"
      },
      "is_chatbot_busy": {
        "type": "boolean",
        "title": "Is Chatbot Busy"
      },
      "chatbot_waiting_count": {
        "type": "integer",
        "title": "Chatbot Waiting Count"
      },
      "gpt4_count_in_3_hours": {
        "type": "integer",
        "title": "Gpt4 Count In 3 Hours"
      }
    },
    "type": "object",
    "title": "CommonStatusSchema"
  },
  "ConfigModel": {
    "properties": {
      "openai_web": {
        "allOf": [
          {
            "properties": {
              "enabled": {
                "type": "boolean",
                "title": "Enabled",
                "default": true
              },
              "is_plus_account": {
                "type": "boolean",
                "title": "Is Plus Account",
                "default": true
              },
              "chatgpt_base_url": {
                "type": "string",
                "title": "Chatgpt Base Url"
              },
              "proxy": {
                "type": "string",
                "title": "Proxy"
              },
              "common_timeout": {
                "type": "integer",
                "minimum": 1,
                "title": "Common Timeout",
                "default": 20
              },
              "ask_timeout": {
                "type": "integer",
                "minimum": 1,
                "title": "Ask Timeout",
                "default": 600
              },
              "sync_conversations_on_startup": {
                "type": "boolean",
                "title": "Sync Conversations On Startup",
                "default": true
              },
              "sync_conversations_schedule": {
                "type": "boolean",
                "title": "Sync Conversations Schedule",
                "default": false
              },
              "sync_conversations_schedule_interval_hours": {
                "type": "integer",
                "minimum": 1,
                "title": "Sync Conversations Schedule Interval Hours",
                "default": 12
              },
              "enabled_models": {
                "items": {
                  "type": "string",
                  "enum": [
                    "gpt_3_5",
                    "gpt_3_5_mobile",
                    "gpt_4",
                    "gpt_4_mobile",
                    "gpt_4_browsing",
                    "gpt_4_code_interpreter",
                    "gpt_4_plugins",
                    "gpt_4_dalle"
                  ],
                  "title": "OpenaiWebChatModels",
                  "description": "An enumeration."
                },
                "type": "array",
                "default": ["gpt_3_5", "gpt_4", "gpt_4_code_interpreter", "gpt_4_plugins", "gpt_4_browsing"]
              },
              "model_code_mapping": {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object",
                "title": "Model Code Mapping",
                "default": {
                  "gpt_3_5": "text-davinci-002-render-sha",
                  "gpt_3_5_mobile": "text-davinci-002-render-sha-mobile",
                  "gpt_4": "gpt-4",
                  "gpt_4_mobile": "gpt-4-mobile",
                  "gpt_4_browsing": "gpt-4-browsing",
                  "gpt_4_plugins": "gpt-4-plugins",
                  "gpt_4_code_interpreter": "gpt-4-code-interpreter",
                  "gpt_4_dalle": "gpt-4-dalle"
                }
              },
              "file_upload_strategy": {
                "allOf": [
                  {
                    "type": "string",
                    "enum": ["server_upload_only", "browser_upload_only", "browser_upload_when_file_size_exceed"],
                    "title": "OpenaiWebFileUploadStrategyOption",
                    "description": "An enumeration."
                  }
                ],
                "default": "browser_upload_only"
              },
              "enable_uploading_attachments": {
                "type": "boolean",
                "title": "Enable Uploading Attachments",
                "default": true
              },
              "enable_uploading_multimodal_images": {
                "type": "boolean",
                "title": "Enable Uploading Multimodal Images",
                "default": true
              }
            },
            "type": "object",
            "title": "OpenaiWebChatGPTSetting"
          }
        ],
        "title": "Openai Web",
        "default": {
          "enabled": true,
          "is_plus_account": true,
          "common_timeout": 20,
          "ask_timeout": 600,
          "sync_conversations_on_startup": true,
          "sync_conversations_schedule": false,
          "sync_conversations_schedule_interval_hours": 12,
          "enabled_models": ["gpt_3_5", "gpt_4", "gpt_4_code_interpreter", "gpt_4_plugins", "gpt_4_browsing"],
          "model_code_mapping": {
            "gpt_3_5": "text-davinci-002-render-sha",
            "gpt_3_5_mobile": "text-davinci-002-render-sha-mobile",
            "gpt_4": "gpt-4",
            "gpt_4_mobile": "gpt-4-mobile",
            "gpt_4_browsing": "gpt-4-browsing",
            "gpt_4_plugins": "gpt-4-plugins",
            "gpt_4_code_interpreter": "gpt-4-code-interpreter",
            "gpt_4_dalle": "gpt-4-dalle"
          },
          "file_upload_strategy": "browser_upload_only",
          "enable_uploading_attachments": true,
          "enable_uploading_multimodal_images": true
        }
      },
      "openai_api": {
        "allOf": [
          {
            "properties": {
              "enabled": {
                "type": "boolean",
                "title": "Enabled",
                "default": true
              },
              "openai_base_url": {
                "type": "string",
                "title": "Openai Base Url",
                "default": "https://api.openai.com/v1/"
              },
              "proxy": {
                "type": "string",
                "title": "Proxy"
              },
              "connect_timeout": {
                "type": "integer",
                "minimum": 1,
                "title": "Connect Timeout",
                "default": 10
              },
              "read_timeout": {
                "type": "integer",
                "minimum": 1,
                "title": "Read Timeout",
                "default": 20
              },
              "enabled_models": {
                "items": {
                  "type": "string",
                  "enum": ["gpt_3_5", "gpt_4"],
                  "title": "OpenaiApiChatModels",
                  "description": "An enumeration."
                },
                "type": "array",
                "default": ["gpt_3_5", "gpt_4"]
              },
              "model_code_mapping": {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object",
                "title": "Model Code Mapping",
                "default": {
                  "gpt_3_5": "gpt-3.5-turbo",
                  "gpt_4": "gpt-4"
                }
              }
            },
            "type": "object",
            "title": "OpenaiApiSetting"
          }
        ],
        "title": "Openai Api",
        "default": {
          "enabled": true,
          "openai_base_url": "https://api.openai.com/v1/",
          "connect_timeout": 10,
          "read_timeout": 20,
          "enabled_models": ["gpt_3_5", "gpt_4"],
          "model_code_mapping": {
            "gpt_3_5": "gpt-3.5-turbo",
            "gpt_4": "gpt-4"
          }
        }
      },
      "common": {
        "allOf": [
          {
            "properties": {
              "print_sql": {
                "type": "boolean",
                "title": "Print Sql",
                "default": false
              },
              "create_initial_admin_user": {
                "type": "boolean",
                "title": "Create Initial Admin User",
                "default": true
              },
              "initial_admin_user_username": {
                "type": "string",
                "title": "Initial Admin User Username",
                "default": "admin"
              },
              "initial_admin_user_password": {
                "type": "string",
                "title": "Initial Admin User Password",
                "default": "password"
              }
            },
            "type": "object",
            "title": "CommonSetting"
          }
        ],
        "title": "Common",
        "default": {
          "print_sql": false,
          "create_initial_admin_user": true,
          "initial_admin_user_username": "admin",
          "initial_admin_user_password": "password"
        }
      },
      "http": {
        "allOf": [
          {
            "properties": {
              "host": {
                "type": "string",
                "title": "Host",
                "default": "127.0.0.1"
              },
              "port": {
                "type": "integer",
                "maximum": 65535,
                "minimum": 1,
                "title": "Port",
                "default": 8000
              },
              "cors_allow_origins": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Cors Allow Origins",
                "default": [
                  "http://localhost:8000",
                  "http://localhost:5173",
                  "http://127.0.0.1:8000",
                  "http://127.0.0.1:5173"
                ]
              }
            },
            "type": "object",
            "title": "HttpSetting"
          }
        ],
        "title": "Http",
        "default": {
          "host": "127.0.0.1",
          "port": 8000,
          "cors_allow_origins": [
            "http://localhost:8000",
            "http://localhost:5173",
            "http://127.0.0.1:8000",
            "http://127.0.0.1:5173"
          ]
        }
      },
      "data": {
        "allOf": [
          {
            "properties": {
              "data_dir": {
                "type": "string",
                "title": "Data Dir",
                "default": "./data"
              },
              "database_url": {
                "type": "string",
                "title": "Database Url",
                "default": "sqlite+aiosqlite:///data/database.db"
              },
              "mongodb_url": {
                "type": "string",
                "title": "Mongodb Url",
                "default": "mongodb://cws:password@mongo:27017"
              },
              "mongodb_db_name": {
                "type": "string",
                "title": "Mongodb Db Name",
                "default": "cws"
              },
              "run_migration": {
                "type": "boolean",
                "title": "Run Migration",
                "default": false
              },
              "max_file_upload_size": {
                "type": "integer",
                "minimum": 0,
                "title": "Max File Upload Size",
                "default": 104857600
              }
            },
            "type": "object",
            "title": "DataSetting"
          }
        ],
        "title": "Data",
        "default": {
          "data_dir": "./data",
          "database_url": "sqlite+aiosqlite:///data/database.db",
          "mongodb_url": "mongodb://cws:password@mongo:27017",
          "mongodb_db_name": "cws",
          "run_migration": false,
          "max_file_upload_size": 104857600
        }
      },
      "auth": {
        "allOf": [
          {
            "properties": {
              "jwt_secret": {
                "type": "string",
                "title": "Jwt Secret",
                "default": "MODIFY_THIS_TO_RANDOM_SECURE_STRING"
              },
              "jwt_lifetime_seconds": {
                "type": "integer",
                "minimum": 1,
                "title": "Jwt Lifetime Seconds",
                "default": 259200
              },
              "cookie_max_age": {
                "type": "integer",
                "minimum": 1,
                "title": "Cookie Max Age",
                "default": 259200
              },
              "user_secret": {
                "type": "string",
                "title": "User Secret",
                "default": "MODIFY_THIS_TO_ANOTHER_RANDOM_SECURE_STRING"
              }
            },
            "type": "object",
            "title": "AuthSetting"
          }
        ],
        "title": "Auth",
        "default": {
          "jwt_secret": "MODIFY_THIS_TO_RANDOM_SECURE_STRING",
          "jwt_lifetime_seconds": 259200,
          "cookie_max_age": 259200,
          "user_secret": "MODIFY_THIS_TO_ANOTHER_RANDOM_SECURE_STRING"
        }
      },
      "stats": {
        "allOf": [
          {
            "properties": {
              "ask_stats_ttl": {
                "type": "integer",
                "title": "Ask Stats Ttl",
                "default": 7776000
              },
              "request_stats_ttl": {
                "type": "integer",
                "title": "Request Stats Ttl",
                "default": 2592000
              },
              "request_stats_filter_keywords": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Request Stats Filter Keywords",
                "default": ["/status"]
              }
            },
            "type": "object",
            "title": "StatsSetting"
          }
        ],
        "title": "Stats",
        "default": {
          "ask_stats_ttl": 7776000,
          "request_stats_ttl": 2592000,
          "request_stats_filter_keywords": ["/status"]
        }
      },
      "log": {
        "allOf": [
          {
            "properties": {
              "console_log_level": {
                "type": "string",
                "enum": ["INFO", "DEBUG", "WARNING"],
                "title": "Console Log Level",
                "default": "INFO"
              }
            },
            "type": "object",
            "title": "LogSetting"
          }
        ],
        "title": "Log",
        "default": {
          "console_log_level": "INFO"
        }
      }
    },
    "type": "object",
    "title": "ConfigModel"
  },
  "CredentialsModel": {
    "properties": {
      "openai_web_access_token": {
        "type": "string",
        "title": "Openai Web Access Token"
      },
      "openai_api_key": {
        "type": "string",
        "title": "Openai Api Key"
      }
    },
    "type": "object",
    "title": "CredentialsModel"
  },
  "CustomOpenaiApiSettings": {
    "properties": {
      "url": {
        "type": "string",
        "title": "Url"
      },
      "key": {
        "type": "string",
        "title": "Key"
      }
    },
    "type": "object",
    "title": "CustomOpenaiApiSettings"
  },
  "DailyTimeSlot": {
    "properties": {
      "start_time": {
        "type": "string",
        "format": "time",
        "title": "Start Time",
        "description": ""
      },
      "end_time": {
        "type": "string",
        "format": "time",
        "title": "End Time",
        "description": ""
      }
    },
    "type": "object",
    "required": ["start_time", "end_time"],
    "title": "DailyTimeSlot"
  },
  "DataSetting": {
    "properties": {
      "data_dir": {
        "type": "string",
        "title": "Data Dir",
        "default": "./data"
      },
      "database_url": {
        "type": "string",
        "title": "Database Url",
        "default": "sqlite+aiosqlite:///data/database.db"
      },
      "mongodb_url": {
        "type": "string",
        "title": "Mongodb Url",
        "default": "mongodb://cws:password@mongo:27017"
      },
      "mongodb_db_name": {
        "type": "string",
        "title": "Mongodb Db Name",
        "default": "cws"
      },
      "run_migration": {
        "type": "boolean",
        "title": "Run Migration",
        "default": false
      },
      "max_file_upload_size": {
        "type": "integer",
        "minimum": 0,
        "title": "Max File Upload Size",
        "default": 104857600
      }
    },
    "type": "object",
    "title": "DataSetting"
  },
  "HTTPValidationError": {
    "properties": {
      "detail": {
        "items": {
          "properties": {
            "loc": {
              "items": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  }
                ]
              },
              "type": "array",
              "title": "Location"
            },
            "msg": {
              "type": "string",
              "title": "Message"
            },
            "type": {
              "type": "string",
              "title": "Error Type"
            }
          },
          "type": "object",
          "required": ["loc", "msg", "type"],
          "title": "ValidationError"
        },
        "type": "array",
        "title": "Detail"
      }
    },
    "type": "object",
    "title": "HTTPValidationError"
  },
  "HttpSetting": {
    "properties": {
      "host": {
        "type": "string",
        "title": "Host",
        "default": "127.0.0.1"
      },
      "port": {
        "type": "integer",
        "maximum": 65535,
        "minimum": 1,
        "title": "Port",
        "default": 8000
      },
      "cors_allow_origins": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "title": "Cors Allow Origins",
        "default": ["http://localhost:8000", "http://localhost:5173", "http://127.0.0.1:8000", "http://127.0.0.1:5173"]
      }
    },
    "type": "object",
    "title": "HttpSetting"
  },
  "LogFilterOptions": {
    "properties": {
      "max_lines": {
        "type": "integer",
        "title": "Max Lines",
        "default": 100
      },
      "exclude_keywords": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "title": "Exclude Keywords"
      }
    },
    "type": "object",
    "title": "LogFilterOptions"
  },
  "LogSetting": {
    "properties": {
      "console_log_level": {
        "type": "string",
        "enum": ["INFO", "DEBUG", "WARNING"],
        "title": "Console Log Level",
        "default": "INFO"
      }
    },
    "type": "object",
    "title": "LogSetting"
  },
  "OpenaiApiAskLogMeta": {
    "properties": {
      "source": {
        "type": "string",
        "enum": ["openai_api"],
        "title": "Source"
      },
      "model": {
        "type": "string",
        "enum": ["gpt_3_5", "gpt_4"],
        "title": "OpenaiApiChatModels",
        "description": "An enumeration."
      }
    },
    "type": "object",
    "required": ["source", "model"],
    "title": "OpenaiApiAskLogMeta"
  },
  "OpenaiApiChatMessage": {
    "properties": {
      "id": {
        "type": "string",
        "format": "uuid",
        "title": "Id"
      },
      "source": {
        "type": "string",
        "enum": ["openai_api"],
        "title": "Source"
      },
      "role": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["system", "user", "assistant", "tool"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Role"
      },
      "author_name": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["browser", "python"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Author Name"
      },
      "model": {
        "type": "string",
        "title": "Model"
      },
      "create_time": {
        "type": "string",
        "format": "date-time",
        "title": "Create Time"
      },
      "parent": {
        "type": "string",
        "format": "uuid",
        "title": "Parent"
      },
      "children": {
        "items": {
          "type": "string",
          "format": "uuid"
        },
        "type": "array",
        "title": "Children"
      },
      "content": {
        "properties": {
          "content_type": {
            "type": "string",
            "enum": ["text"],
            "title": "Content Type"
          },
          "text": {
            "type": "string",
            "title": "Text"
          }
        },
        "type": "object",
        "required": ["content_type", "text"],
        "title": "OpenaiApiChatMessageTextContent"
      },
      "metadata": {
        "anyOf": [
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_web"],
                "title": "Source"
              },
              "finish_details": {
                "type": "object",
                "title": "Finish Details"
              },
              "weight": {
                "type": "number",
                "title": "Weight"
              },
              "end_turn": {
                "type": "boolean",
                "title": "End Turn"
              },
              "message_status": {
                "type": "string",
                "title": "Message Status"
              },
              "recipient": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["all", "browser", "python"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Recipient"
              },
              "fallback_content": {
                "title": "Fallback Content"
              },
              "invoked_plugin": {
                "properties": {
                  "http_response_status": {
                    "type": "integer",
                    "title": "Http Response Status"
                  },
                  "namespace": {
                    "type": "string",
                    "title": "Namespace"
                  },
                  "plugin_id": {
                    "type": "string",
                    "title": "Plugin Id"
                  },
                  "type": {
                    "type": "string",
                    "title": "Type"
                  }
                },
                "type": "object",
                "title": "OpenaiWebChatMessageMetadataPlugin"
              },
              "command": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["search"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Command"
              },
              "args": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Args"
              },
              "status": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["finished"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Status"
              },
              "_cite_metadata": {
                "properties": {
                  "citation_format": {
                    "type": "object",
                    "title": "Citation Format"
                  },
                  "metadata_list": {
                    "items": {
                      "properties": {
                        "title": {
                          "type": "string",
                          "title": "Title"
                        },
                        "url": {
                          "type": "string",
                          "title": "Url"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataCiteData"
                    },
                    "type": "array",
                    "title": "Metadata List"
                  }
                },
                "type": "object",
                "title": "OpenaiWebChatMessageMetadataCite"
              },
              "citations": {
                "items": {
                  "properties": {
                    "start_ix": {
                      "type": "integer",
                      "title": "Start Ix"
                    },
                    "end_ix": {
                      "type": "integer",
                      "title": "End Ix"
                    },
                    "metadata": {
                      "properties": {
                        "title": {
                          "type": "string",
                          "title": "Title"
                        },
                        "url": {
                          "type": "string",
                          "title": "Url"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataCiteData"
                    }
                  },
                  "type": "object",
                  "title": "OpenaiWebChatMessageMetadataCitation"
                },
                "type": "array",
                "title": "Citations"
              },
              "attachments": {
                "items": {
                  "properties": {
                    "name": {
                      "type": "string",
                      "title": "Name"
                    },
                    "id": {
                      "type": "string",
                      "title": "Id"
                    },
                    "size": {
                      "type": "integer",
                      "title": "Size"
                    }
                  },
                  "type": "object",
                  "title": "OpenaiWebChatMessageMetadataAttachment"
                },
                "type": "array",
                "title": "Attachments"
              },
              "is_complete": {
                "type": "boolean",
                "title": "Is Complete"
              },
              "aggregate_result": {
                "properties": {
                  "status": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": ["failed_with_in_kernel_exception", "success"]
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "title": "Status"
                  },
                  "run_id": {
                    "type": "string",
                    "title": "Run Id"
                  },
                  "start_time": {
                    "type": "number",
                    "title": "Start Time"
                  },
                  "update_time": {
                    "type": "number",
                    "title": "Update Time"
                  },
                  "end_time": {
                    "type": "number",
                    "title": "End Time"
                  },
                  "final_expression_output": {
                    "title": "Final Expression Output"
                  },
                  "code": {
                    "type": "string",
                    "title": "Code"
                  },
                  "in_kernel_exception": {
                    "type": "object",
                    "title": "In Kernel Exception"
                  },
                  "messages": {
                    "items": {
                      "properties": {
                        "message_type": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": ["image", "stream"]
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "title": "Message Type"
                        },
                        "time": {
                          "type": "number",
                          "title": "Time"
                        },
                        "sender": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": ["server"]
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "title": "Sender"
                        },
                        "image_url": {
                          "type": "string",
                          "title": "Image Url"
                        },
                        "stream_name": {
                          "type": "string",
                          "title": "Stream Name"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataAggregateResultMessage"
                    },
                    "type": "array",
                    "title": "Messages"
                  },
                  "jupyter_messages": {
                    "items": {},
                    "type": "array",
                    "title": "Jupyter Messages"
                  }
                },
                "type": "object",
                "title": "OpenaiWebChatMessageMetadataAggregateResult"
              }
            },
            "type": "object",
            "required": ["source"],
            "title": "OpenaiWebChatMessageMetadata"
          },
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_api"],
                "title": "Source"
              },
              "usage": {
                "properties": {
                  "prompt_tokens": {
                    "type": "integer",
                    "title": "Prompt Tokens"
                  },
                  "completion_tokens": {
                    "type": "integer",
                    "title": "Completion Tokens"
                  }
                },
                "type": "object",
                "title": "OpenaiChatResponseUsage"
              },
              "finish_reason": {
                "type": "string",
                "title": "Finish Reason"
              }
            },
            "type": "object",
            "required": ["source"],
            "title": "OpenaiApiChatMessageMetadata"
          }
        ],
        "title": "Metadata"
      }
    },
    "type": "object",
    "required": ["id", "source", "role", "children"],
    "title": "OpenaiApiChatMessage"
  },
  "OpenaiApiChatMessageMetadata": {
    "properties": {
      "source": {
        "type": "string",
        "enum": ["openai_api"],
        "title": "Source"
      },
      "usage": {
        "properties": {
          "prompt_tokens": {
            "type": "integer",
            "title": "Prompt Tokens"
          },
          "completion_tokens": {
            "type": "integer",
            "title": "Completion Tokens"
          }
        },
        "type": "object",
        "title": "OpenaiChatResponseUsage"
      },
      "finish_reason": {
        "type": "string",
        "title": "Finish Reason"
      }
    },
    "type": "object",
    "required": ["source"],
    "title": "OpenaiApiChatMessageMetadata"
  },
  "OpenaiApiChatMessageTextContent": {
    "properties": {
      "content_type": {
        "type": "string",
        "enum": ["text"],
        "title": "Content Type"
      },
      "text": {
        "type": "string",
        "title": "Text"
      }
    },
    "type": "object",
    "required": ["content_type", "text"],
    "title": "OpenaiApiChatMessageTextContent"
  },
  "OpenaiApiChatModels": {
    "type": "string",
    "enum": ["gpt_3_5", "gpt_4"],
    "title": "OpenaiApiChatModels",
    "description": "An enumeration."
  },
  "OpenaiApiConversationHistoryDocument": {
    "properties": {
      "_id": {
        "type": "string",
        "format": "uuid",
        "title": " Id"
      },
      "source": {
        "type": "string",
        "enum": ["openai_api"],
        "title": "Source"
      },
      "title": {
        "type": "string",
        "title": "Title"
      },
      "create_time": {
        "type": "string",
        "format": "date-time",
        "title": "Create Time"
      },
      "update_time": {
        "type": "string",
        "format": "date-time",
        "title": "Update Time"
      },
      "mapping": {
        "additionalProperties": {
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid",
              "title": "Id"
            },
            "source": {
              "type": "string",
              "enum": ["openai_api"],
              "title": "Source"
            },
            "role": {
              "anyOf": [
                {
                  "type": "string",
                  "enum": ["system", "user", "assistant", "tool"]
                },
                {
                  "type": "string"
                }
              ],
              "title": "Role"
            },
            "author_name": {
              "anyOf": [
                {
                  "type": "string",
                  "enum": ["browser", "python"]
                },
                {
                  "type": "string"
                }
              ],
              "title": "Author Name"
            },
            "model": {
              "type": "string",
              "title": "Model"
            },
            "create_time": {
              "type": "string",
              "format": "date-time",
              "title": "Create Time"
            },
            "parent": {
              "type": "string",
              "format": "uuid",
              "title": "Parent"
            },
            "children": {
              "items": {
                "type": "string",
                "format": "uuid"
              },
              "type": "array",
              "title": "Children"
            },
            "content": {
              "properties": {
                "content_type": {
                  "type": "string",
                  "enum": ["text"],
                  "title": "Content Type"
                },
                "text": {
                  "type": "string",
                  "title": "Text"
                }
              },
              "type": "object",
              "required": ["content_type", "text"],
              "title": "OpenaiApiChatMessageTextContent"
            },
            "metadata": {
              "anyOf": [
                {
                  "properties": {
                    "source": {
                      "type": "string",
                      "enum": ["openai_web"],
                      "title": "Source"
                    },
                    "finish_details": {
                      "type": "object",
                      "title": "Finish Details"
                    },
                    "weight": {
                      "type": "number",
                      "title": "Weight"
                    },
                    "end_turn": {
                      "type": "boolean",
                      "title": "End Turn"
                    },
                    "message_status": {
                      "type": "string",
                      "title": "Message Status"
                    },
                    "recipient": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": ["all", "browser", "python"]
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "title": "Recipient"
                    },
                    "fallback_content": {
                      "title": "Fallback Content"
                    },
                    "invoked_plugin": {
                      "properties": {
                        "http_response_status": {
                          "type": "integer",
                          "title": "Http Response Status"
                        },
                        "namespace": {
                          "type": "string",
                          "title": "Namespace"
                        },
                        "plugin_id": {
                          "type": "string",
                          "title": "Plugin Id"
                        },
                        "type": {
                          "type": "string",
                          "title": "Type"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataPlugin"
                    },
                    "command": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": ["search"]
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "title": "Command"
                    },
                    "args": {
                      "items": {
                        "type": "string"
                      },
                      "type": "array",
                      "title": "Args"
                    },
                    "status": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": ["finished"]
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "title": "Status"
                    },
                    "_cite_metadata": {
                      "properties": {
                        "citation_format": {
                          "type": "object",
                          "title": "Citation Format"
                        },
                        "metadata_list": {
                          "items": {
                            "properties": {
                              "title": {
                                "type": "string",
                                "title": "Title"
                              },
                              "url": {
                                "type": "string",
                                "title": "Url"
                              },
                              "text": {
                                "type": "string",
                                "title": "Text"
                              }
                            },
                            "type": "object",
                            "title": "OpenaiWebChatMessageMetadataCiteData"
                          },
                          "type": "array",
                          "title": "Metadata List"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataCite"
                    },
                    "citations": {
                      "items": {
                        "properties": {
                          "start_ix": {
                            "type": "integer",
                            "title": "Start Ix"
                          },
                          "end_ix": {
                            "type": "integer",
                            "title": "End Ix"
                          },
                          "metadata": {
                            "properties": {
                              "title": {
                                "type": "string",
                                "title": "Title"
                              },
                              "url": {
                                "type": "string",
                                "title": "Url"
                              },
                              "text": {
                                "type": "string",
                                "title": "Text"
                              }
                            },
                            "type": "object",
                            "title": "OpenaiWebChatMessageMetadataCiteData"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataCitation"
                      },
                      "type": "array",
                      "title": "Citations"
                    },
                    "attachments": {
                      "items": {
                        "properties": {
                          "name": {
                            "type": "string",
                            "title": "Name"
                          },
                          "id": {
                            "type": "string",
                            "title": "Id"
                          },
                          "size": {
                            "type": "integer",
                            "title": "Size"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataAttachment"
                      },
                      "type": "array",
                      "title": "Attachments"
                    },
                    "is_complete": {
                      "type": "boolean",
                      "title": "Is Complete"
                    },
                    "aggregate_result": {
                      "properties": {
                        "status": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": ["failed_with_in_kernel_exception", "success"]
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "title": "Status"
                        },
                        "run_id": {
                          "type": "string",
                          "title": "Run Id"
                        },
                        "start_time": {
                          "type": "number",
                          "title": "Start Time"
                        },
                        "update_time": {
                          "type": "number",
                          "title": "Update Time"
                        },
                        "end_time": {
                          "type": "number",
                          "title": "End Time"
                        },
                        "final_expression_output": {
                          "title": "Final Expression Output"
                        },
                        "code": {
                          "type": "string",
                          "title": "Code"
                        },
                        "in_kernel_exception": {
                          "type": "object",
                          "title": "In Kernel Exception"
                        },
                        "messages": {
                          "items": {
                            "properties": {
                              "message_type": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "enum": ["image", "stream"]
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "title": "Message Type"
                              },
                              "time": {
                                "type": "number",
                                "title": "Time"
                              },
                              "sender": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "enum": ["server"]
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "title": "Sender"
                              },
                              "image_url": {
                                "type": "string",
                                "title": "Image Url"
                              },
                              "stream_name": {
                                "type": "string",
                                "title": "Stream Name"
                              },
                              "text": {
                                "type": "string",
                                "title": "Text"
                              }
                            },
                            "type": "object",
                            "title": "OpenaiWebChatMessageMetadataAggregateResultMessage"
                          },
                          "type": "array",
                          "title": "Messages"
                        },
                        "jupyter_messages": {
                          "items": {},
                          "type": "array",
                          "title": "Jupyter Messages"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataAggregateResult"
                    }
                  },
                  "type": "object",
                  "required": ["source"],
                  "title": "OpenaiWebChatMessageMetadata"
                },
                {
                  "properties": {
                    "source": {
                      "type": "string",
                      "enum": ["openai_api"],
                      "title": "Source"
                    },
                    "usage": {
                      "properties": {
                        "prompt_tokens": {
                          "type": "integer",
                          "title": "Prompt Tokens"
                        },
                        "completion_tokens": {
                          "type": "integer",
                          "title": "Completion Tokens"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiChatResponseUsage"
                    },
                    "finish_reason": {
                      "type": "string",
                      "title": "Finish Reason"
                    }
                  },
                  "type": "object",
                  "required": ["source"],
                  "title": "OpenaiApiChatMessageMetadata"
                }
              ],
              "title": "Metadata"
            }
          },
          "type": "object",
          "required": ["id", "source", "role", "children"],
          "title": "OpenaiApiChatMessage"
        },
        "type": "object",
        "title": "Mapping"
      },
      "current_node": {
        "type": "string",
        "format": "uuid",
        "title": "Current Node"
      },
      "current_model": {
        "type": "string",
        "title": "Current Model"
      },
      "metadata": {
        "anyOf": [
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_web"],
                "title": "Source"
              },
              "moderation_results": {
                "items": {},
                "type": "array",
                "title": "Moderation Results"
              },
              "plugin_ids": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Plugin Ids"
              }
            },
            "type": "object",
            "required": ["source"],
            "title": "OpenaiWebConversationHistoryMeta"
          },
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_api"],
                "title": "Source"
              }
            },
            "type": "object",
            "required": ["source"],
            "title": "OpenaiApiConversationHistoryMeta"
          }
        ],
        "title": "Metadata"
      }
    },
    "type": "object",
    "required": ["source", "title", "create_time", "update_time", "mapping"],
    "title": "OpenaiApiConversationHistoryDocument",
    "description": "Document Mapping class.\n\nFields:\n\n- `id` - MongoDB document ObjectID \"_id\" field.\nMapped to the PydanticObjectId class"
  },
  "OpenaiApiConversationHistoryMeta": {
    "properties": {
      "source": {
        "type": "string",
        "enum": ["openai_api"],
        "title": "Source"
      }
    },
    "type": "object",
    "required": ["source"],
    "title": "OpenaiApiConversationHistoryMeta"
  },
  "OpenaiApiConversationSchema": {
    "properties": {
      "id": {
        "type": "integer",
        "title": "Id",
        "default": -1
      },
      "source": {
        "type": "string",
        "enum": ["openai_api"],
        "title": "Source"
      },
      "conversation_id": {
        "type": "string",
        "format": "uuid",
        "title": "Conversation Id"
      },
      "title": {
        "type": "string",
        "title": "Title"
      },
      "user_id": {
        "type": "integer",
        "title": "User Id"
      },
      "is_valid": {
        "type": "boolean",
        "title": "Is Valid",
        "default": true
      },
      "current_model": {
        "type": "string",
        "title": "Current Model"
      },
      "create_time": {
        "type": "string",
        "format": "date-time",
        "title": "Create Time"
      },
      "update_time": {
        "type": "string",
        "format": "date-time",
        "title": "Update Time"
      }
    },
    "type": "object",
    "required": ["source"],
    "title": "OpenaiApiConversationSchema"
  },
  "OpenaiApiPerModelAskCount": {
    "additionalProperties": {
      "type": "integer"
    },
    "type": "object",
    "title": "OpenaiApiPerModelAskCount",
    "default": {
      "gpt_3_5": 0,
      "gpt_4": 0
    }
  },
  "OpenaiApiSetting": {
    "properties": {
      "enabled": {
        "type": "boolean",
        "title": "Enabled",
        "default": true
      },
      "openai_base_url": {
        "type": "string",
        "title": "Openai Base Url",
        "default": "https://api.openai.com/v1/"
      },
      "proxy": {
        "type": "string",
        "title": "Proxy"
      },
      "connect_timeout": {
        "type": "integer",
        "minimum": 1,
        "title": "Connect Timeout",
        "default": 10
      },
      "read_timeout": {
        "type": "integer",
        "minimum": 1,
        "title": "Read Timeout",
        "default": 20
      },
      "enabled_models": {
        "items": {
          "type": "string",
          "enum": ["gpt_3_5", "gpt_4"],
          "title": "OpenaiApiChatModels",
          "description": "An enumeration."
        },
        "type": "array",
        "default": ["gpt_3_5", "gpt_4"]
      },
      "model_code_mapping": {
        "additionalProperties": {
          "type": "string"
        },
        "type": "object",
        "title": "Model Code Mapping",
        "default": {
          "gpt_3_5": "gpt-3.5-turbo",
          "gpt_4": "gpt-4"
        }
      }
    },
    "type": "object",
    "title": "OpenaiApiSetting"
  },
  "OpenaiApiSourceSettingSchema": {
    "properties": {
      "allow_to_use": {
        "type": "boolean",
        "title": "Allow To Use"
      },
      "valid_until": {
        "type": "string",
        "format": "date-time",
        "title": "Valid Until"
      },
      "max_conv_count": {
        "type": "integer",
        "title": "Max Conv Count"
      },
      "total_ask_count": {
        "type": "integer",
        "title": "Total Ask Count"
      },
      "rate_limits": {
        "items": {
          "properties": {
            "window_seconds": {
              "type": "integer",
              "title": "Window Seconds",
              "description": ""
            },
            "max_requests": {
              "type": "integer",
              "title": "Max Requests",
              "description": ""
            }
          },
          "type": "object",
          "required": ["window_seconds", "max_requests"],
          "title": "TimeWindowRateLimit"
        },
        "type": "array",
        "title": "Rate Limits"
      },
      "daily_available_time_slots": {
        "items": {
          "properties": {
            "start_time": {
              "type": "string",
              "format": "time",
              "title": "Start Time",
              "description": ""
            },
            "end_time": {
              "type": "string",
              "format": "time",
              "title": "End Time",
              "description": ""
            }
          },
          "type": "object",
          "required": ["start_time", "end_time"],
          "title": "DailyTimeSlot"
        },
        "type": "array",
        "title": "Daily Available Time Slots"
      },
      "available_models": {
        "items": {
          "type": "string",
          "enum": ["gpt_3_5", "gpt_4"],
          "title": "OpenaiApiChatModels",
          "description": "An enumeration."
        },
        "type": "array"
      },
      "per_model_ask_count": {
        "additionalProperties": {
          "type": "integer"
        },
        "type": "object",
        "title": "OpenaiApiPerModelAskCount",
        "default": {
          "gpt_3_5": 0,
          "gpt_4": 0
        }
      },
      "allow_custom_openai_api": {
        "type": "boolean",
        "title": "Allow Custom Openai Api"
      },
      "custom_openai_api_settings": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url"
          },
          "key": {
            "type": "string",
            "title": "Key"
          }
        },
        "type": "object",
        "title": "CustomOpenaiApiSettings"
      }
    },
    "type": "object",
    "required": [
      "allow_to_use",
      "max_conv_count",
      "total_ask_count",
      "rate_limits",
      "daily_available_time_slots",
      "available_models",
      "per_model_ask_count",
      "allow_custom_openai_api",
      "custom_openai_api_settings"
    ],
    "title": "OpenaiApiSourceSettingSchema"
  },
  "OpenaiChatFileUploadInfo": {
    "properties": {
      "file_name": {
        "type": "string",
        "title": "File Name"
      },
      "file_size": {
        "type": "integer",
        "title": "File Size"
      },
      "use_case": {
        "type": "string",
        "enum": ["ace_upload", "multimodal"],
        "title": "Use Case"
      }
    },
    "type": "object",
    "required": ["file_name", "file_size", "use_case"],
    "title": "OpenaiChatFileUploadInfo"
  },
  "OpenaiChatInterpreterInfo": {
    "properties": {
      "kernel_started": {
        "type": "boolean",
        "title": "Kernel Started"
      },
      "time_remaining_ms": {
        "type": "integer",
        "title": "Time Remaining Ms"
      }
    },
    "type": "object",
    "title": "OpenaiChatInterpreterInfo"
  },
  "OpenaiChatPlugin": {
    "properties": {
      "id": {
        "type": "string",
        "title": "Id"
      },
      "namespace": {
        "type": "string",
        "title": "Namespace"
      },
      "manifest": {
        "properties": {
          "api": {
            "type": "object",
            "title": "Api"
          },
          "auth": {
            "type": "object",
            "title": "Auth"
          },
          "logo_url": {
            "type": "string",
            "title": "Logo Url"
          },
          "contact_email": {
            "type": "string",
            "title": "Contact Email"
          },
          "schema_version": {
            "type": "string",
            "title": "Schema Version"
          },
          "name_for_model": {
            "type": "string",
            "title": "Name For Model"
          },
          "name_for_human": {
            "type": "string",
            "title": "Name For Human"
          },
          "description_for_model": {
            "type": "string",
            "title": "Description For Model"
          },
          "description_for_human": {
            "type": "string",
            "title": "Description For Human"
          },
          "legal_info_url": {
            "type": "string",
            "title": "Legal Info Url"
          }
        },
        "type": "object",
        "title": "OpenaiChatPluginManifest"
      },
      "categories": {
        "items": {
          "properties": {
            "id": {
              "type": "string",
              "title": "Id"
            },
            "title": {
              "type": "string",
              "title": "Title"
            }
          },
          "type": "object",
          "title": "OpenaiChatPluginCategory"
        },
        "type": "array",
        "title": "Categories"
      },
      "domain": {
        "type": "string",
        "title": "Domain"
      },
      "status": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["approved"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Status"
      },
      "user_settings": {
        "anyOf": [
          {
            "properties": {
              "is_authenticated": {
                "type": "boolean",
                "title": "Is Authenticated"
              },
              "is_installed": {
                "type": "boolean",
                "title": "Is Installed"
              }
            },
            "type": "object",
            "title": "OpenaiChatPluginUserSettings"
          },
          {
            "type": "object"
          }
        ],
        "title": "User Settings"
      },
      "oauth_client_id": {
        "type": "string",
        "title": "Oauth Client Id"
      }
    },
    "type": "object",
    "title": "OpenaiChatPlugin"
  },
  "OpenaiChatPluginCategory": {
    "properties": {
      "id": {
        "type": "string",
        "title": "Id"
      },
      "title": {
        "type": "string",
        "title": "Title"
      }
    },
    "type": "object",
    "title": "OpenaiChatPluginCategory"
  },
  "OpenaiChatPluginManifest": {
    "properties": {
      "api": {
        "type": "object",
        "title": "Api"
      },
      "auth": {
        "type": "object",
        "title": "Auth"
      },
      "logo_url": {
        "type": "string",
        "title": "Logo Url"
      },
      "contact_email": {
        "type": "string",
        "title": "Contact Email"
      },
      "schema_version": {
        "type": "string",
        "title": "Schema Version"
      },
      "name_for_model": {
        "type": "string",
        "title": "Name For Model"
      },
      "name_for_human": {
        "type": "string",
        "title": "Name For Human"
      },
      "description_for_model": {
        "type": "string",
        "title": "Description For Model"
      },
      "description_for_human": {
        "type": "string",
        "title": "Description For Human"
      },
      "legal_info_url": {
        "type": "string",
        "title": "Legal Info Url"
      }
    },
    "type": "object",
    "title": "OpenaiChatPluginManifest"
  },
  "OpenaiChatPluginUserSettings": {
    "properties": {
      "is_authenticated": {
        "type": "boolean",
        "title": "Is Authenticated"
      },
      "is_installed": {
        "type": "boolean",
        "title": "Is Installed"
      }
    },
    "type": "object",
    "title": "OpenaiChatPluginUserSettings"
  },
  "OpenaiChatResponseUsage": {
    "properties": {
      "prompt_tokens": {
        "type": "integer",
        "title": "Prompt Tokens"
      },
      "completion_tokens": {
        "type": "integer",
        "title": "Completion Tokens"
      }
    },
    "type": "object",
    "title": "OpenaiChatResponseUsage"
  },
  "OpenaiWebAskAttachment": {
    "properties": {
      "name": {
        "type": "string",
        "title": "Name"
      },
      "id": {
        "type": "string",
        "title": "Id"
      },
      "size": {
        "type": "integer",
        "title": "Size"
      }
    },
    "type": "object",
    "required": ["name", "id", "size"],
    "title": "OpenaiWebAskAttachment"
  },
  "OpenaiWebAskLogMeta": {
    "properties": {
      "source": {
        "type": "string",
        "enum": ["openai_web"],
        "title": "Source"
      },
      "model": {
        "type": "string",
        "enum": [
          "gpt_3_5",
          "gpt_3_5_mobile",
          "gpt_4",
          "gpt_4_mobile",
          "gpt_4_browsing",
          "gpt_4_code_interpreter",
          "gpt_4_plugins",
          "gpt_4_dalle"
        ],
        "title": "OpenaiWebChatModels",
        "description": "An enumeration."
      }
    },
    "type": "object",
    "required": ["source", "model"],
    "title": "OpenaiWebAskLogMeta"
  },
  "OpenaiWebChatGPTSetting": {
    "properties": {
      "enabled": {
        "type": "boolean",
        "title": "Enabled",
        "default": true
      },
      "is_plus_account": {
        "type": "boolean",
        "title": "Is Plus Account",
        "default": true
      },
      "chatgpt_base_url": {
        "type": "string",
        "title": "Chatgpt Base Url"
      },
      "proxy": {
        "type": "string",
        "title": "Proxy"
      },
      "common_timeout": {
        "type": "integer",
        "minimum": 1,
        "title": "Common Timeout",
        "default": 20
      },
      "ask_timeout": {
        "type": "integer",
        "minimum": 1,
        "title": "Ask Timeout",
        "default": 600
      },
      "sync_conversations_on_startup": {
        "type": "boolean",
        "title": "Sync Conversations On Startup",
        "default": true
      },
      "sync_conversations_schedule": {
        "type": "boolean",
        "title": "Sync Conversations Schedule",
        "default": false
      },
      "sync_conversations_schedule_interval_hours": {
        "type": "integer",
        "minimum": 1,
        "title": "Sync Conversations Schedule Interval Hours",
        "default": 12
      },
      "enabled_models": {
        "items": {
          "type": "string",
          "enum": [
            "gpt_3_5",
            "gpt_3_5_mobile",
            "gpt_4",
            "gpt_4_mobile",
            "gpt_4_browsing",
            "gpt_4_code_interpreter",
            "gpt_4_plugins",
            "gpt_4_dalle"
          ],
          "title": "OpenaiWebChatModels",
          "description": "An enumeration."
        },
        "type": "array",
        "default": ["gpt_3_5", "gpt_4", "gpt_4_code_interpreter", "gpt_4_plugins", "gpt_4_browsing"]
      },
      "model_code_mapping": {
        "additionalProperties": {
          "type": "string"
        },
        "type": "object",
        "title": "Model Code Mapping",
        "default": {
          "gpt_3_5": "text-davinci-002-render-sha",
          "gpt_3_5_mobile": "text-davinci-002-render-sha-mobile",
          "gpt_4": "gpt-4",
          "gpt_4_mobile": "gpt-4-mobile",
          "gpt_4_browsing": "gpt-4-browsing",
          "gpt_4_plugins": "gpt-4-plugins",
          "gpt_4_code_interpreter": "gpt-4-code-interpreter",
          "gpt_4_dalle": "gpt-4-dalle"
        }
      },
      "file_upload_strategy": {
        "allOf": [
          {
            "type": "string",
            "enum": ["server_upload_only", "browser_upload_only", "browser_upload_when_file_size_exceed"],
            "title": "OpenaiWebFileUploadStrategyOption",
            "description": "An enumeration."
          }
        ],
        "default": "browser_upload_only"
      },
      "enable_uploading_attachments": {
        "type": "boolean",
        "title": "Enable Uploading Attachments",
        "default": true
      },
      "enable_uploading_multimodal_images": {
        "type": "boolean",
        "title": "Enable Uploading Multimodal Images",
        "default": true
      }
    },
    "type": "object",
    "title": "OpenaiWebChatGPTSetting"
  },
  "OpenaiWebChatMessage": {
    "properties": {
      "id": {
        "type": "string",
        "format": "uuid",
        "title": "Id"
      },
      "source": {
        "type": "string",
        "enum": ["openai_web"],
        "title": "Source"
      },
      "role": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["system", "user", "assistant", "tool"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Role"
      },
      "author_name": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["browser", "python"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Author Name"
      },
      "model": {
        "type": "string",
        "title": "Model"
      },
      "create_time": {
        "type": "string",
        "format": "date-time",
        "title": "Create Time"
      },
      "parent": {
        "type": "string",
        "format": "uuid",
        "title": "Parent"
      },
      "children": {
        "items": {
          "type": "string",
          "format": "uuid"
        },
        "type": "array",
        "title": "Children"
      },
      "content": {
        "anyOf": [
          {
            "properties": {
              "content_type": {
                "type": "string",
                "enum": ["text"],
                "title": "Content Type"
              },
              "parts": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Parts"
              }
            },
            "type": "object",
            "required": ["content_type"],
            "title": "OpenaiWebChatMessageTextContent"
          },
          {
            "properties": {
              "content_type": {
                "type": "string",
                "enum": ["multimodal_text"],
                "title": "Content Type"
              },
              "parts": {
                "items": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "properties": {
                        "asset_pointer": {
                          "type": "string",
                          "title": "Asset Pointer"
                        },
                        "size_bytes": {
                          "type": "integer",
                          "title": "Size Bytes"
                        },
                        "width": {
                          "type": "integer",
                          "title": "Width"
                        },
                        "height": {
                          "type": "integer",
                          "title": "Height"
                        },
                        "metadata": {
                          "properties": {
                            "dalle": {
                              "properties": {
                                "prompt": {
                                  "type": "string",
                                  "title": "Prompt"
                                },
                                "seed": {
                                  "type": "integer",
                                  "title": "Seed"
                                },
                                "serialization_title": {
                                  "type": "string",
                                  "title": "Serialization Title"
                                }
                              },
                              "type": "object",
                              "title": "OpenaiWebChatMessageMultimodalTextMetadataDalle"
                            }
                          },
                          "type": "object",
                          "title": "OpenaiWebChatMessageMultimodalTextMetadata"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMultimodalTextContentImagePart"
                    },
                    {}
                  ]
                },
                "type": "array",
                "title": "Parts"
              }
            },
            "type": "object",
            "required": ["content_type"],
            "title": "OpenaiWebChatMessageMultimodalTextContent"
          },
          {
            "properties": {
              "content_type": {
                "type": "string",
                "enum": ["code"],
                "title": "Content Type"
              },
              "language": {
                "type": "string",
                "title": "Language"
              },
              "text": {
                "type": "string",
                "title": "Text"
              }
            },
            "type": "object",
            "required": ["content_type"],
            "title": "OpenaiWebChatMessageCodeContent"
          },
          {
            "properties": {
              "content_type": {
                "type": "string",
                "enum": ["execution_output"],
                "title": "Content Type"
              },
              "text": {
                "type": "string",
                "title": "Text"
              }
            },
            "type": "object",
            "required": ["content_type"],
            "title": "OpenaiWebChatMessageExecutionOutputContent"
          },
          {
            "properties": {
              "content_type": {
                "type": "string",
                "enum": ["stderr"],
                "title": "Content Type"
              },
              "text": {
                "type": "string",
                "title": "Text"
              }
            },
            "type": "object",
            "required": ["content_type"],
            "title": "OpenaiWebChatMessageStderrContent"
          },
          {
            "properties": {
              "content_type": {
                "type": "string",
                "enum": ["tether_browsing_display"],
                "title": "Content Type"
              },
              "result": {
                "type": "string",
                "title": "Result"
              }
            },
            "type": "object",
            "required": ["content_type"],
            "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent"
          },
          {
            "properties": {
              "content_type": {
                "type": "string",
                "enum": ["tether_quote"],
                "title": "Content Type"
              },
              "url": {
                "type": "string",
                "title": "Url"
              },
              "domain": {
                "type": "string",
                "title": "Domain"
              },
              "text": {
                "type": "string",
                "title": "Text"
              },
              "title": {
                "type": "string",
                "title": "Title"
              }
            },
            "type": "object",
            "required": ["content_type"],
            "title": "OpenaiWebChatMessageTetherQuoteContent"
          },
          {
            "properties": {
              "content_type": {
                "type": "string",
                "enum": ["system_error"],
                "title": "Content Type"
              },
              "name": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["tool_error"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Name"
              },
              "text": {
                "type": "string",
                "title": "Text"
              }
            },
            "type": "object",
            "required": ["content_type"],
            "title": "OpenaiWebChatMessageSystemErrorContent"
          }
        ],
        "title": "Content"
      },
      "metadata": {
        "anyOf": [
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_web"],
                "title": "Source"
              },
              "finish_details": {
                "type": "object",
                "title": "Finish Details"
              },
              "weight": {
                "type": "number",
                "title": "Weight"
              },
              "end_turn": {
                "type": "boolean",
                "title": "End Turn"
              },
              "message_status": {
                "type": "string",
                "title": "Message Status"
              },
              "recipient": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["all", "browser", "python"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Recipient"
              },
              "fallback_content": {
                "title": "Fallback Content"
              },
              "invoked_plugin": {
                "properties": {
                  "http_response_status": {
                    "type": "integer",
                    "title": "Http Response Status"
                  },
                  "namespace": {
                    "type": "string",
                    "title": "Namespace"
                  },
                  "plugin_id": {
                    "type": "string",
                    "title": "Plugin Id"
                  },
                  "type": {
                    "type": "string",
                    "title": "Type"
                  }
                },
                "type": "object",
                "title": "OpenaiWebChatMessageMetadataPlugin"
              },
              "command": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["search"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Command"
              },
              "args": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Args"
              },
              "status": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["finished"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Status"
              },
              "_cite_metadata": {
                "properties": {
                  "citation_format": {
                    "type": "object",
                    "title": "Citation Format"
                  },
                  "metadata_list": {
                    "items": {
                      "properties": {
                        "title": {
                          "type": "string",
                          "title": "Title"
                        },
                        "url": {
                          "type": "string",
                          "title": "Url"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataCiteData"
                    },
                    "type": "array",
                    "title": "Metadata List"
                  }
                },
                "type": "object",
                "title": "OpenaiWebChatMessageMetadataCite"
              },
              "citations": {
                "items": {
                  "properties": {
                    "start_ix": {
                      "type": "integer",
                      "title": "Start Ix"
                    },
                    "end_ix": {
                      "type": "integer",
                      "title": "End Ix"
                    },
                    "metadata": {
                      "properties": {
                        "title": {
                          "type": "string",
                          "title": "Title"
                        },
                        "url": {
                          "type": "string",
                          "title": "Url"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataCiteData"
                    }
                  },
                  "type": "object",
                  "title": "OpenaiWebChatMessageMetadataCitation"
                },
                "type": "array",
                "title": "Citations"
              },
              "attachments": {
                "items": {
                  "properties": {
                    "name": {
                      "type": "string",
                      "title": "Name"
                    },
                    "id": {
                      "type": "string",
                      "title": "Id"
                    },
                    "size": {
                      "type": "integer",
                      "title": "Size"
                    }
                  },
                  "type": "object",
                  "title": "OpenaiWebChatMessageMetadataAttachment"
                },
                "type": "array",
                "title": "Attachments"
              },
              "is_complete": {
                "type": "boolean",
                "title": "Is Complete"
              },
              "aggregate_result": {
                "properties": {
                  "status": {
                    "anyOf": [
                      {
                        "type": "string",
                        "enum": ["failed_with_in_kernel_exception", "success"]
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "title": "Status"
                  },
                  "run_id": {
                    "type": "string",
                    "title": "Run Id"
                  },
                  "start_time": {
                    "type": "number",
                    "title": "Start Time"
                  },
                  "update_time": {
                    "type": "number",
                    "title": "Update Time"
                  },
                  "end_time": {
                    "type": "number",
                    "title": "End Time"
                  },
                  "final_expression_output": {
                    "title": "Final Expression Output"
                  },
                  "code": {
                    "type": "string",
                    "title": "Code"
                  },
                  "in_kernel_exception": {
                    "type": "object",
                    "title": "In Kernel Exception"
                  },
                  "messages": {
                    "items": {
                      "properties": {
                        "message_type": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": ["image", "stream"]
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "title": "Message Type"
                        },
                        "time": {
                          "type": "number",
                          "title": "Time"
                        },
                        "sender": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": ["server"]
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "title": "Sender"
                        },
                        "image_url": {
                          "type": "string",
                          "title": "Image Url"
                        },
                        "stream_name": {
                          "type": "string",
                          "title": "Stream Name"
                        },
                        "text": {
                          "type": "string",
                          "title": "Text"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataAggregateResultMessage"
                    },
                    "type": "array",
                    "title": "Messages"
                  },
                  "jupyter_messages": {
                    "items": {},
                    "type": "array",
                    "title": "Jupyter Messages"
                  }
                },
                "type": "object",
                "title": "OpenaiWebChatMessageMetadataAggregateResult"
              }
            },
            "type": "object",
            "required": ["source"],
            "title": "OpenaiWebChatMessageMetadata"
          },
          {
            "properties": {
              "source": {
                "type": "string",
                "enum": ["openai_api"],
                "title": "Source"
              },
              "usage": {
                "properties": {
                  "prompt_tokens": {
                    "type": "integer",
                    "title": "Prompt Tokens"
                  },
                  "completion_tokens": {
                    "type": "integer",
                    "title": "Completion Tokens"
                  }
                },
                "type": "object",
                "title": "OpenaiChatResponseUsage"
              },
              "finish_reason": {
                "type": "string",
                "title": "Finish Reason"
              }
            },
            "type": "object",
            "required": ["source"],
            "title": "OpenaiApiChatMessageMetadata"
          }
        ],
        "title": "Metadata"
      }
    },
    "type": "object",
    "required": ["id", "source", "role", "children"],
    "title": "OpenaiWebChatMessage"
  },
  "OpenaiWebChatMessageCodeContent": {
    "properties": {
      "content_type": {
        "type": "string",
        "enum": ["code"],
        "title": "Content Type"
      },
      "language": {
        "type": "string",
        "title": "Language"
      },
      "text": {
        "type": "string",
        "title": "Text"
      }
    },
    "type": "object",
    "required": ["content_type"],
    "title": "OpenaiWebChatMessageCodeContent"
  },
  "OpenaiWebChatMessageExecutionOutputContent": {
    "properties": {
      "content_type": {
        "type": "string",
        "enum": ["execution_output"],
        "title": "Content Type"
      },
      "text": {
        "type": "string",
        "title": "Text"
      }
    },
    "type": "object",
    "required": ["content_type"],
    "title": "OpenaiWebChatMessageExecutionOutputContent"
  },
  "OpenaiWebChatMessageMetadata": {
    "properties": {
      "source": {
        "type": "string",
        "enum": ["openai_web"],
        "title": "Source"
      },
      "finish_details": {
        "type": "object",
        "title": "Finish Details"
      },
      "weight": {
        "type": "number",
        "title": "Weight"
      },
      "end_turn": {
        "type": "boolean",
        "title": "End Turn"
      },
      "message_status": {
        "type": "string",
        "title": "Message Status"
      },
      "recipient": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["all", "browser", "python"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Recipient"
      },
      "fallback_content": {
        "title": "Fallback Content"
      },
      "invoked_plugin": {
        "properties": {
          "http_response_status": {
            "type": "integer",
            "title": "Http Response Status"
          },
          "namespace": {
            "type": "string",
            "title": "Namespace"
          },
          "plugin_id": {
            "type": "string",
            "title": "Plugin Id"
          },
          "type": {
            "type": "string",
            "title": "Type"
          }
        },
        "type": "object",
        "title": "OpenaiWebChatMessageMetadataPlugin"
      },
      "command": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["search"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Command"
      },
      "args": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "title": "Args"
      },
      "status": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["finished"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Status"
      },
      "_cite_metadata": {
        "properties": {
          "citation_format": {
            "type": "object",
            "title": "Citation Format"
          },
          "metadata_list": {
            "items": {
              "properties": {
                "title": {
                  "type": "string",
                  "title": "Title"
                },
                "url": {
                  "type": "string",
                  "title": "Url"
                },
                "text": {
                  "type": "string",
                  "title": "Text"
                }
              },
              "type": "object",
              "title": "OpenaiWebChatMessageMetadataCiteData"
            },
            "type": "array",
            "title": "Metadata List"
          }
        },
        "type": "object",
        "title": "OpenaiWebChatMessageMetadataCite"
      },
      "citations": {
        "items": {
          "properties": {
            "start_ix": {
              "type": "integer",
              "title": "Start Ix"
            },
            "end_ix": {
              "type": "integer",
              "title": "End Ix"
            },
            "metadata": {
              "properties": {
                "title": {
                  "type": "string",
                  "title": "Title"
                },
                "url": {
                  "type": "string",
                  "title": "Url"
                },
                "text": {
                  "type": "string",
                  "title": "Text"
                }
              },
              "type": "object",
              "title": "OpenaiWebChatMessageMetadataCiteData"
            }
          },
          "type": "object",
          "title": "OpenaiWebChatMessageMetadataCitation"
        },
        "type": "array",
        "title": "Citations"
      },
      "attachments": {
        "items": {
          "properties": {
            "name": {
              "type": "string",
              "title": "Name"
            },
            "id": {
              "type": "string",
              "title": "Id"
            },
            "size": {
              "type": "integer",
              "title": "Size"
            }
          },
          "type": "object",
          "title": "OpenaiWebChatMessageMetadataAttachment"
        },
        "type": "array",
        "title": "Attachments"
      },
      "is_complete": {
        "type": "boolean",
        "title": "Is Complete"
      },
      "aggregate_result": {
        "properties": {
          "status": {
            "anyOf": [
              {
                "type": "string",
                "enum": ["failed_with_in_kernel_exception", "success"]
              },
              {
                "type": "string"
              }
            ],
            "title": "Status"
          },
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "start_time": {
            "type": "number",
            "title": "Start Time"
          },
          "update_time": {
            "type": "number",
            "title": "Update Time"
          },
          "end_time": {
            "type": "number",
            "title": "End Time"
          },
          "final_expression_output": {
            "title": "Final Expression Output"
          },
          "code": {
            "type": "string",
            "title": "Code"
          },
          "in_kernel_exception": {
            "type": "object",
            "title": "In Kernel Exception"
          },
          "messages": {
            "items": {
              "properties": {
                "message_type": {
                  "anyOf": [
                    {
                      "type": "string",
                      "enum": ["image", "stream"]
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "title": "Message Type"
                },
                "time": {
                  "type": "number",
                  "title": "Time"
                },
                "sender": {
                  "anyOf": [
                    {
                      "type": "string",
                      "enum": ["server"]
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "title": "Sender"
                },
                "image_url": {
                  "type": "string",
                  "title": "Image Url"
                },
                "stream_name": {
                  "type": "string",
                  "title": "Stream Name"
                },
                "text": {
                  "type": "string",
                  "title": "Text"
                }
              },
              "type": "object",
              "title": "OpenaiWebChatMessageMetadataAggregateResultMessage"
            },
            "type": "array",
            "title": "Messages"
          },
          "jupyter_messages": {
            "items": {},
            "type": "array",
            "title": "Jupyter Messages"
          }
        },
        "type": "object",
        "title": "OpenaiWebChatMessageMetadataAggregateResult"
      }
    },
    "type": "object",
    "required": ["source"],
    "title": "OpenaiWebChatMessageMetadata"
  },
  "OpenaiWebChatMessageMetadataAggregateResult": {
    "properties": {
      "status": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["failed_with_in_kernel_exception", "success"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Status"
      },
      "run_id": {
        "type": "string",
        "title": "Run Id"
      },
      "start_time": {
        "type": "number",
        "title": "Start Time"
      },
      "update_time": {
        "type": "number",
        "title": "Update Time"
      },
      "end_time": {
        "type": "number",
        "title": "End Time"
      },
      "final_expression_output": {
        "title": "Final Expression Output"
      },
      "code": {
        "type": "string",
        "title": "Code"
      },
      "in_kernel_exception": {
        "type": "object",
        "title": "In Kernel Exception"
      },
      "messages": {
        "items": {
          "properties": {
            "message_type": {
              "anyOf": [
                {
                  "type": "string",
                  "enum": ["image", "stream"]
                },
                {
                  "type": "string"
                }
              ],
              "title": "Message Type"
            },
            "time": {
              "type": "number",
              "title": "Time"
            },
            "sender": {
              "anyOf": [
                {
                  "type": "string",
                  "enum": ["server"]
                },
                {
                  "type": "string"
                }
              ],
              "title": "Sender"
            },
            "image_url": {
              "type": "string",
              "title": "Image Url"
            },
            "stream_name": {
              "type": "string",
              "title": "Stream Name"
            },
            "text": {
              "type": "string",
              "title": "Text"
            }
          },
          "type": "object",
          "title": "OpenaiWebChatMessageMetadataAggregateResultMessage"
        },
        "type": "array",
        "title": "Messages"
      },
      "jupyter_messages": {
        "items": {},
        "type": "array",
        "title": "Jupyter Messages"
      }
    },
    "type": "object",
    "title": "OpenaiWebChatMessageMetadataAggregateResult"
  },
  "OpenaiWebChatMessageMetadataAggregateResultMessage": {
    "properties": {
      "message_type": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["image", "stream"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Message Type"
      },
      "time": {
        "type": "number",
        "title": "Time"
      },
      "sender": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["server"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Sender"
      },
      "image_url": {
        "type": "string",
        "title": "Image Url"
      },
      "stream_name": {
        "type": "string",
        "title": "Stream Name"
      },
      "text": {
        "type": "string",
        "title": "Text"
      }
    },
    "type": "object",
    "title": "OpenaiWebChatMessageMetadataAggregateResultMessage"
  },
  "OpenaiWebChatMessageMetadataAttachment": {
    "properties": {
      "name": {
        "type": "string",
        "title": "Name"
      },
      "id": {
        "type": "string",
        "title": "Id"
      },
      "size": {
        "type": "integer",
        "title": "Size"
      }
    },
    "type": "object",
    "title": "OpenaiWebChatMessageMetadataAttachment"
  },
  "OpenaiWebChatMessageMetadataCitation": {
    "properties": {
      "start_ix": {
        "type": "integer",
        "title": "Start Ix"
      },
      "end_ix": {
        "type": "integer",
        "title": "End Ix"
      },
      "metadata": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title"
          },
          "url": {
            "type": "string",
            "title": "Url"
          },
          "text": {
            "type": "string",
            "title": "Text"
          }
        },
        "type": "object",
        "title": "OpenaiWebChatMessageMetadataCiteData"
      }
    },
    "type": "object",
    "title": "OpenaiWebChatMessageMetadataCitation"
  },
  "OpenaiWebChatMessageMetadataCite": {
    "properties": {
      "citation_format": {
        "type": "object",
        "title": "Citation Format"
      },
      "metadata_list": {
        "items": {
          "properties": {
            "title": {
              "type": "string",
              "title": "Title"
            },
            "url": {
              "type": "string",
              "title": "Url"
            },
            "text": {
              "type": "string",
              "title": "Text"
            }
          },
          "type": "object",
          "title": "OpenaiWebChatMessageMetadataCiteData"
        },
        "type": "array",
        "title": "Metadata List"
      }
    },
    "type": "object",
    "title": "OpenaiWebChatMessageMetadataCite"
  },
  "OpenaiWebChatMessageMetadataCiteData": {
    "properties": {
      "title": {
        "type": "string",
        "title": "Title"
      },
      "url": {
        "type": "string",
        "title": "Url"
      },
      "text": {
        "type": "string",
        "title": "Text"
      }
    },
    "type": "object",
    "title": "OpenaiWebChatMessageMetadataCiteData"
  },
  "OpenaiWebChatMessageMetadataPlugin": {
    "properties": {
      "http_response_status": {
        "type": "integer",
        "title": "Http Response Status"
      },
      "namespace": {
        "type": "string",
        "title": "Namespace"
      },
      "plugin_id": {
        "type": "string",
        "title": "Plugin Id"
      },
      "type": {
        "type": "string",
        "title": "Type"
      }
    },
    "type": "object",
    "title": "OpenaiWebChatMessageMetadataPlugin"
  },
  "OpenaiWebChatMessageMultimodalTextContent": {
    "properties": {
      "content_type": {
        "type": "string",
        "enum": ["multimodal_text"],
        "title": "Content Type"
      },
      "parts": {
        "items": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "properties": {
                "asset_pointer": {
                  "type": "string",
                  "title": "Asset Pointer"
                },
                "size_bytes": {
                  "type": "integer",
                  "title": "Size Bytes"
                },
                "width": {
                  "type": "integer",
                  "title": "Width"
                },
                "height": {
                  "type": "integer",
                  "title": "Height"
                },
                "metadata": {
                  "properties": {
                    "dalle": {
                      "properties": {
                        "prompt": {
                          "type": "string",
                          "title": "Prompt"
                        },
                        "seed": {
                          "type": "integer",
                          "title": "Seed"
                        },
                        "serialization_title": {
                          "type": "string",
                          "title": "Serialization Title"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMultimodalTextMetadataDalle"
                    }
                  },
                  "type": "object",
                  "title": "OpenaiWebChatMessageMultimodalTextMetadata"
                }
              },
              "type": "object",
              "title": "OpenaiWebChatMessageMultimodalTextContentImagePart"
            },
            {}
          ]
        },
        "type": "array",
        "title": "Parts"
      }
    },
    "type": "object",
    "required": ["content_type"],
    "title": "OpenaiWebChatMessageMultimodalTextContent"
  },
  "OpenaiWebChatMessageMultimodalTextContentImagePart": {
    "properties": {
      "asset_pointer": {
        "type": "string",
        "title": "Asset Pointer"
      },
      "size_bytes": {
        "type": "integer",
        "title": "Size Bytes"
      },
      "width": {
        "type": "integer",
        "title": "Width"
      },
      "height": {
        "type": "integer",
        "title": "Height"
      },
      "metadata": {
        "properties": {
          "dalle": {
            "properties": {
              "prompt": {
                "type": "string",
                "title": "Prompt"
              },
              "seed": {
                "type": "integer",
                "title": "Seed"
              },
              "serialization_title": {
                "type": "string",
                "title": "Serialization Title"
              }
            },
            "type": "object",
            "title": "OpenaiWebChatMessageMultimodalTextMetadataDalle"
          }
        },
        "type": "object",
        "title": "OpenaiWebChatMessageMultimodalTextMetadata"
      }
    },
    "type": "object",
    "title": "OpenaiWebChatMessageMultimodalTextContentImagePart"
  },
  "OpenaiWebChatMessageMultimodalTextMetadata": {
    "properties": {
      "dalle": {
        "properties": {
          "prompt": {
            "type": "string",
            "title": "Prompt"
          },
          "seed": {
            "type": "integer",
            "title": "Seed"
          },
          "serialization_title": {
            "type": "string",
            "title": "Serialization Title"
          }
        },
        "type": "object",
        "title": "OpenaiWebChatMessageMultimodalTextMetadataDalle"
      }
    },
    "type": "object",
    "title": "OpenaiWebChatMessageMultimodalTextMetadata"
  },
  "OpenaiWebChatMessageMultimodalTextMetadataDalle": {
    "properties": {
      "prompt": {
        "type": "string",
        "title": "Prompt"
      },
      "seed": {
        "type": "integer",
        "title": "Seed"
      },
      "serialization_title": {
        "type": "string",
        "title": "Serialization Title"
      }
    },
    "type": "object",
    "title": "OpenaiWebChatMessageMultimodalTextMetadataDalle"
  },
  "OpenaiWebChatMessageStderrContent": {
    "properties": {
      "content_type": {
        "type": "string",
        "enum": ["stderr"],
        "title": "Content Type"
      },
      "text": {
        "type": "string",
        "title": "Text"
      }
    },
    "type": "object",
    "required": ["content_type"],
    "title": "OpenaiWebChatMessageStderrContent"
  },
  "OpenaiWebChatMessageSystemErrorContent": {
    "properties": {
      "content_type": {
        "type": "string",
        "enum": ["system_error"],
        "title": "Content Type"
      },
      "name": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["tool_error"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Name"
      },
      "text": {
        "type": "string",
        "title": "Text"
      }
    },
    "type": "object",
    "required": ["content_type"],
    "title": "OpenaiWebChatMessageSystemErrorContent"
  },
  "OpenaiWebChatMessageTetherBrowsingDisplayContent": {
    "properties": {
      "content_type": {
        "type": "string",
        "enum": ["tether_browsing_display"],
        "title": "Content Type"
      },
      "result": {
        "type": "string",
        "title": "Result"
      }
    },
    "type": "object",
    "required": ["content_type"],
    "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent"
  },
  "OpenaiWebChatMessageTetherQuoteContent": {
    "properties": {
      "content_type": {
        "type": "string",
        "enum": ["tether_quote"],
        "title": "Content Type"
      },
      "url": {
        "type": "string",
        "title": "Url"
      },
      "domain": {
        "type": "string",
        "title": "Domain"
      },
      "text": {
        "type": "string",
        "title": "Text"
      },
      "title": {
        "type": "string",
        "title": "Title"
      }
    },
    "type": "object",
    "required": ["content_type"],
    "title": "OpenaiWebChatMessageTetherQuoteContent"
  },
  "OpenaiWebChatMessageTextContent": {
    "properties": {
      "content_type": {
        "type": "string",
        "enum": ["text"],
        "title": "Content Type"
      },
      "parts": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "title": "Parts"
      }
    },
    "type": "object",
    "required": ["content_type"],
    "title": "OpenaiWebChatMessageTextContent"
  },
  "OpenaiWebChatModels": {
    "type": "string",
    "enum": [
      "gpt_3_5",
      "gpt_3_5_mobile",
      "gpt_4",
      "gpt_4_mobile",
      "gpt_4_browsing",
      "gpt_4_code_interpreter",
      "gpt_4_plugins",
      "gpt_4_dalle"
    ],
    "title": "OpenaiWebChatModels",
    "description": "An enumeration."
  },
  "OpenaiWebChatStatus": {
    "type": "string",
    "enum": ["asking", "queueing", "idling"],
    "title": "OpenaiWebChatStatus",
    "description": "An enumeration."
  },
  "OpenaiWebConversationHistoryDocument": {
    "properties": {
      "_id": {
        "type": "string",
        "format": "uuid",
        "title": " Id"
      },
      "source": {
        "type": "string",
        "enum": ["openai_web"],
        "title": "Source"
      },
      "title": {
        "type": "string",
        "title": "Title"
      },
      "create_time": {
        "type": "string",
        "format": "date-time",
        "title": "Create Time"
      },
      "update_time": {
        "type": "string",
        "format": "date-time",
        "title": "Update Time"
      },
      "mapping": {
        "additionalProperties": {
          "properties": {
            "id": {
              "type": "string",
              "format": "uuid",
              "title": "Id"
            },
            "source": {
              "type": "string",
              "enum": ["openai_web"],
              "title": "Source"
            },
            "role": {
              "anyOf": [
                {
                  "type": "string",
                  "enum": ["system", "user", "assistant", "tool"]
                },
                {
                  "type": "string"
                }
              ],
              "title": "Role"
            },
            "author_name": {
              "anyOf": [
                {
                  "type": "string",
                  "enum": ["browser", "python"]
                },
                {
                  "type": "string"
                }
              ],
              "title": "Author Name"
            },
            "model": {
              "type": "string",
              "title": "Model"
            },
            "create_time": {
              "type": "string",
              "format": "date-time",
              "title": "Create Time"
            },
            "parent": {
              "type": "string",
              "format": "uuid",
              "title": "Parent"
            },
            "children": {
              "items": {
                "type": "string",
                "format": "uuid"
              },
              "type": "array",
              "title": "Children"
            },
            "content": {
              "anyOf": [
                {
                  "properties": {
                    "content_type": {
                      "type": "string",
                      "enum": ["text"],
                      "title": "Content Type"
                    },
                    "parts": {
                      "items": {
                        "type": "string"
                      },
                      "type": "array",
                      "title": "Parts"
                    }
                  },
                  "type": "object",
                  "required": ["content_type"],
                  "title": "OpenaiWebChatMessageTextContent"
                },
                {
                  "properties": {
                    "content_type": {
                      "type": "string",
                      "enum": ["multimodal_text"],
                      "title": "Content Type"
                    },
                    "parts": {
                      "items": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "properties": {
                              "asset_pointer": {
                                "type": "string",
                                "title": "Asset Pointer"
                              },
                              "size_bytes": {
                                "type": "integer",
                                "title": "Size Bytes"
                              },
                              "width": {
                                "type": "integer",
                                "title": "Width"
                              },
                              "height": {
                                "type": "integer",
                                "title": "Height"
                              },
                              "metadata": {
                                "properties": {
                                  "dalle": {
                                    "properties": {
                                      "prompt": {
                                        "type": "string",
                                        "title": "Prompt"
                                      },
                                      "seed": {
                                        "type": "integer",
                                        "title": "Seed"
                                      },
                                      "serialization_title": {
                                        "type": "string",
                                        "title": "Serialization Title"
                                      }
                                    },
                                    "type": "object",
                                    "title": "OpenaiWebChatMessageMultimodalTextMetadataDalle"
                                  }
                                },
                                "type": "object",
                                "title": "OpenaiWebChatMessageMultimodalTextMetadata"
                              }
                            },
                            "type": "object",
                            "title": "OpenaiWebChatMessageMultimodalTextContentImagePart"
                          },
                          {}
                        ]
                      },
                      "type": "array",
                      "title": "Parts"
                    }
                  },
                  "type": "object",
                  "required": ["content_type"],
                  "title": "OpenaiWebChatMessageMultimodalTextContent"
                },
                {
                  "properties": {
                    "content_type": {
                      "type": "string",
                      "enum": ["code"],
                      "title": "Content Type"
                    },
                    "language": {
                      "type": "string",
                      "title": "Language"
                    },
                    "text": {
                      "type": "string",
                      "title": "Text"
                    }
                  },
                  "type": "object",
                  "required": ["content_type"],
                  "title": "OpenaiWebChatMessageCodeContent"
                },
                {
                  "properties": {
                    "content_type": {
                      "type": "string",
                      "enum": ["execution_output"],
                      "title": "Content Type"
                    },
                    "text": {
                      "type": "string",
                      "title": "Text"
                    }
                  },
                  "type": "object",
                  "required": ["content_type"],
                  "title": "OpenaiWebChatMessageExecutionOutputContent"
                },
                {
                  "properties": {
                    "content_type": {
                      "type": "string",
                      "enum": ["stderr"],
                      "title": "Content Type"
                    },
                    "text": {
                      "type": "string",
                      "title": "Text"
                    }
                  },
                  "type": "object",
                  "required": ["content_type"],
                  "title": "OpenaiWebChatMessageStderrContent"
                },
                {
                  "properties": {
                    "content_type": {
                      "type": "string",
                      "enum": ["tether_browsing_display"],
                      "title": "Content Type"
                    },
                    "result": {
                      "type": "string",
                      "title": "Result"
                    }
                  },
                  "type": "object",
                  "required": ["content_type"],
                  "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent"
                },
                {
                  "properties": {
                    "content_type": {
                      "type": "string",
                      "enum": ["tether_quote"],
                      "title": "Content Type"
                    },
                    "url": {
                      "type": "string",
                      "title": "Url"
                    },
                    "domain": {
                      "type": "string",
                      "title": "Domain"
                    },
                    "text": {
                      "type": "string",
                      "title": "Text"
                    },
                    "title": {
                      "type": "string",
                      "title": "Title"
                    }
                  },
                  "type": "object",
                  "required": ["content_type"],
                  "title": "OpenaiWebChatMessageTetherQuoteContent"
                },
                {
                  "properties": {
                    "content_type": {
                      "type": "string",
                      "enum": ["system_error"],
                      "title": "Content Type"
                    },
                    "name": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": ["tool_error"]
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "title": "Name"
                    },
                    "text": {
                      "type": "string",
                      "title": "Text"
                    }
                  },
                  "type": "object",
                  "required": ["content_type"],
                  "title": "OpenaiWebChatMessageSystemErrorContent"
                }
              ],
              "title": "Content"
            },
            "metadata": {
              "anyOf": [
                {
                  "properties": {
                    "source": {
                      "type": "string",
                      "enum": ["openai_web"],
                      "title": "Source"
                    },
                    "finish_details": {
                      "type": "object",
                      "title": "Finish Details"
                    },
                    "weight": {
                      "type": "number",
                      "title": "Weight"
                    },
                    "end_turn": {
                      "type": "boolean",
                      "title": "End Turn"
                    },
                    "message_status": {
                      "type": "string",
                      "title": "Message Status"
                    },
                    "recipient": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": ["all", "browser", "python"]
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "title": "Recipient"
                    },
                    "fallback_content": {
                      "title": "Fallback Content"
                    },
                    "invoked_plugin": {
                      "properties": {
                        "http_response_status": {
                          "type": "integer",
                          "title": "Http Response Status"
                        },
                        "namespace": {
                          "type": "string",
                          "title": "Namespace"
                        },
                        "plugin_id": {
                          "type": "string",
                          "title": "Plugin Id"
                        },
                        "type": {
                          "type": "string",
                          "title": "Type"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataPlugin"
                    },
                    "command": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": ["search"]
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "title": "Command"
                    },
                    "args": {
                      "items": {
                        "type": "string"
                      },
                      "type": "array",
                      "title": "Args"
                    },
                    "status": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": ["finished"]
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "title": "Status"
                    },
                    "_cite_metadata": {
                      "properties": {
                        "citation_format": {
                          "type": "object",
                          "title": "Citation Format"
                        },
                        "metadata_list": {
                          "items": {
                            "properties": {
                              "title": {
                                "type": "string",
                                "title": "Title"
                              },
                              "url": {
                                "type": "string",
                                "title": "Url"
                              },
                              "text": {
                                "type": "string",
                                "title": "Text"
                              }
                            },
                            "type": "object",
                            "title": "OpenaiWebChatMessageMetadataCiteData"
                          },
                          "type": "array",
                          "title": "Metadata List"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataCite"
                    },
                    "citations": {
                      "items": {
                        "properties": {
                          "start_ix": {
                            "type": "integer",
                            "title": "Start Ix"
                          },
                          "end_ix": {
                            "type": "integer",
                            "title": "End Ix"
                          },
                          "metadata": {
                            "properties": {
                              "title": {
                                "type": "string",
                                "title": "Title"
                              },
                              "url": {
                                "type": "string",
                                "title": "Url"
                              },
                              "text": {
                                "type": "string",
                                "title": "Text"
                              }
                            },
                            "type": "object",
                            "title": "OpenaiWebChatMessageMetadataCiteData"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataCitation"
                      },
                      "type": "array",
                      "title": "Citations"
                    },
                    "attachments": {
                      "items": {
                        "properties": {
                          "name": {
                            "type": "string",
                            "title": "Name"
                          },
                          "id": {
                            "type": "string",
                            "title": "Id"
                          },
                          "size": {
                            "type": "integer",
                            "title": "Size"
                          }
                        },
                        "type": "object",
                        "title": "OpenaiWebChatMessageMetadataAttachment"
                      },
                      "type": "array",
                      "title": "Attachments"
                    },
                    "is_complete": {
                      "type": "boolean",
                      "title": "Is Complete"
                    },
                    "aggregate_result": {
                      "properties": {
                        "status": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": ["failed_with_in_kernel_exception", "success"]
                            },
                            {
                              "type": "string"
                            }
                          ],
                          "title": "Status"
                        },
                        "run_id": {
                          "type": "string",
                          "title": "Run Id"
                        },
                        "start_time": {
                          "type": "number",
                          "title": "Start Time"
                        },
                        "update_time": {
                          "type": "number",
                          "title": "Update Time"
                        },
                        "end_time": {
                          "type": "number",
                          "title": "End Time"
                        },
                        "final_expression_output": {
                          "title": "Final Expression Output"
                        },
                        "code": {
                          "type": "string",
                          "title": "Code"
                        },
                        "in_kernel_exception": {
                          "type": "object",
                          "title": "In Kernel Exception"
                        },
                        "messages": {
                          "items": {
                            "properties": {
                              "message_type": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "enum": ["image", "stream"]
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "title": "Message Type"
                              },
                              "time": {
                                "type": "number",
                                "title": "Time"
                              },
                              "sender": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "enum": ["server"]
                                  },
                                  {
                                    "type": "string"
                                  }
                                ],
                                "title": "Sender"
                              },
                              "image_url": {
                                "type": "string",
                                "title": "Image Url"
                              },
                              "stream_name": {
                                "type": "string",
                                "title": "Stream Name"
                              },
                              "text": {
                                "type": "string",
                                "title": "Text"
                              }
                            },
                            "type": "object",
                            "title": "OpenaiWebChatMessageMetadataAggregateResultMessage"
                          },
                          "type": "array",
                          "title": "Messages"
                        },
                        "jupyter_messages": {
                          "items": {},
                          "type": "array",
                          "title": "Jupyter Messages"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiWebChatMessageMetadataAggregateResult"
                    }
                  },
                  "type": "object",
                  "required": ["source"],
                  "title": "OpenaiWebChatMessageMetadata"
                },
                {
                  "properties": {
                    "source": {
                      "type": "string",
                      "enum": ["openai_api"],
                      "title": "Source"
                    },
                    "usage": {
                      "properties": {
                        "prompt_tokens": {
                          "type": "integer",
                          "title": "Prompt Tokens"
                        },
                        "completion_tokens": {
                          "type": "integer",
                          "title": "Completion Tokens"
                        }
                      },
                      "type": "object",
                      "title": "OpenaiChatResponseUsage"
                    },
                    "finish_reason": {
                      "type": "string",
                      "title": "Finish Reason"
                    }
                  },
                  "type": "object",
                  "required": ["source"],
                  "title": "OpenaiApiChatMessageMetadata"
                }
              ],
              "title": "Metadata"
            }
          },
          "type": "object",
          "required": ["id", "source", "role", "children"],
          "title": "OpenaiWebChatMessage"
        },
        "type": "object",
        "title": "Mapping"
      },
      "current_node": {
        "type": "string",
        "format": "uuid",
        "title": "Current Node"
      },
      "current_model": {
        "type": "string",
        "title": "Current Model"
      },
      "metadata": {
        "properties": {
          "source": {
            "type": "string",
            "enum": ["openai_web"],
            "title": "Source"
          },
          "moderation_results": {
            "items": {},
            "type": "array",
            "title": "Moderation Results"
          },
          "plugin_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Plugin Ids"
          }
        },
        "type": "object",
        "required": ["source"],
        "title": "OpenaiWebConversationHistoryMeta"
      }
    },
    "type": "object",
    "required": ["source", "title", "create_time", "update_time", "mapping"],
    "title": "OpenaiWebConversationHistoryDocument",
    "description": "Document Mapping class.\n\nFields:\n\n- `id` - MongoDB document ObjectID \"_id\" field.\nMapped to the PydanticObjectId class"
  },
  "OpenaiWebConversationHistoryMeta": {
    "properties": {
      "source": {
        "type": "string",
        "enum": ["openai_web"],
        "title": "Source"
      },
      "moderation_results": {
        "items": {},
        "type": "array",
        "title": "Moderation Results"
      },
      "plugin_ids": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "title": "Plugin Ids"
      }
    },
    "type": "object",
    "required": ["source"],
    "title": "OpenaiWebConversationHistoryMeta"
  },
  "OpenaiWebConversationSchema": {
    "properties": {
      "id": {
        "type": "integer",
        "title": "Id",
        "default": -1
      },
      "source": {
        "type": "string",
        "enum": ["openai_web"],
        "title": "Source"
      },
      "conversation_id": {
        "type": "string",
        "format": "uuid",
        "title": "Conversation Id"
      },
      "title": {
        "type": "string",
        "title": "Title"
      },
      "user_id": {
        "type": "integer",
        "title": "User Id"
      },
      "is_valid": {
        "type": "boolean",
        "title": "Is Valid",
        "default": true
      },
      "current_model": {
        "type": "string",
        "title": "Current Model"
      },
      "create_time": {
        "type": "string",
        "format": "date-time",
        "title": "Create Time"
      },
      "update_time": {
        "type": "string",
        "format": "date-time",
        "title": "Update Time"
      }
    },
    "type": "object",
    "required": ["source"],
    "title": "OpenaiWebConversationSchema"
  },
  "OpenaiWebFileUploadStrategyOption": {
    "type": "string",
    "enum": ["server_upload_only", "browser_upload_only", "browser_upload_when_file_size_exceed"],
    "title": "OpenaiWebFileUploadStrategyOption",
    "description": "An enumeration."
  },
  "OpenaiWebPerModelAskCount": {
    "additionalProperties": {
      "type": "integer"
    },
    "type": "object",
    "title": "OpenaiWebPerModelAskCount",
    "default": {
      "gpt_3_5": 0,
      "gpt_3_5_mobile": 0,
      "gpt_4": 0,
      "gpt_4_mobile": 0,
      "gpt_4_browsing": 0,
      "gpt_4_code_interpreter": 0,
      "gpt_4_plugins": 0,
      "gpt_4_dalle": 0
    }
  },
  "OpenaiWebSourceSettingSchema": {
    "properties": {
      "allow_to_use": {
        "type": "boolean",
        "title": "Allow To Use"
      },
      "valid_until": {
        "type": "string",
        "format": "date-time",
        "title": "Valid Until"
      },
      "max_conv_count": {
        "type": "integer",
        "title": "Max Conv Count"
      },
      "total_ask_count": {
        "type": "integer",
        "title": "Total Ask Count"
      },
      "rate_limits": {
        "items": {
          "properties": {
            "window_seconds": {
              "type": "integer",
              "title": "Window Seconds",
              "description": ""
            },
            "max_requests": {
              "type": "integer",
              "title": "Max Requests",
              "description": ""
            }
          },
          "type": "object",
          "required": ["window_seconds", "max_requests"],
          "title": "TimeWindowRateLimit"
        },
        "type": "array",
        "title": "Rate Limits"
      },
      "daily_available_time_slots": {
        "items": {
          "properties": {
            "start_time": {
              "type": "string",
              "format": "time",
              "title": "Start Time",
              "description": ""
            },
            "end_time": {
              "type": "string",
              "format": "time",
              "title": "End Time",
              "description": ""
            }
          },
          "type": "object",
          "required": ["start_time", "end_time"],
          "title": "DailyTimeSlot"
        },
        "type": "array",
        "title": "Daily Available Time Slots"
      },
      "available_models": {
        "items": {
          "type": "string",
          "enum": [
            "gpt_3_5",
            "gpt_3_5_mobile",
            "gpt_4",
            "gpt_4_mobile",
            "gpt_4_browsing",
            "gpt_4_code_interpreter",
            "gpt_4_plugins",
            "gpt_4_dalle"
          ],
          "title": "OpenaiWebChatModels",
          "description": "An enumeration."
        },
        "type": "array"
      },
      "per_model_ask_count": {
        "additionalProperties": {
          "type": "integer"
        },
        "type": "object",
        "title": "OpenaiWebPerModelAskCount",
        "default": {
          "gpt_3_5": 0,
          "gpt_3_5_mobile": 0,
          "gpt_4": 0,
          "gpt_4_mobile": 0,
          "gpt_4_browsing": 0,
          "gpt_4_code_interpreter": 0,
          "gpt_4_plugins": 0,
          "gpt_4_dalle": 0
        }
      },
      "allow_uploading_attachments": {
        "type": "boolean",
        "title": "Allow Uploading Attachments"
      },
      "allow_uploading_multimodal_images": {
        "type": "boolean",
        "title": "Allow Uploading Multimodal Images"
      }
    },
    "type": "object",
    "required": [
      "allow_to_use",
      "max_conv_count",
      "total_ask_count",
      "rate_limits",
      "daily_available_time_slots",
      "available_models",
      "per_model_ask_count",
      "allow_uploading_attachments",
      "allow_uploading_multimodal_images"
    ],
    "title": "OpenaiWebSourceSettingSchema"
  },
  "RequestLogAggregation": {
    "properties": {
      "_id": {
        "properties": {
          "start_time": {
            "type": "string",
            "format": "date-time",
            "title": "Start Time"
          },
          "route_path": {
            "type": "string",
            "title": "Route Path"
          },
          "method": {
            "type": "string",
            "title": "Method"
          }
        },
        "type": "object",
        "title": "RequestLogAggregationID"
      },
      "count": {
        "type": "integer",
        "title": "Count"
      },
      "user_ids": {
        "items": {
          "type": "integer"
        },
        "type": "array",
        "title": "User Ids"
      },
      "avg_elapsed_ms": {
        "type": "number",
        "title": "Avg Elapsed Ms"
      }
    },
    "type": "object",
    "required": ["_id", "count"],
    "title": "RequestLogAggregation"
  },
  "RequestLogAggregationID": {
    "properties": {
      "start_time": {
        "type": "string",
        "format": "date-time",
        "title": "Start Time"
      },
      "route_path": {
        "type": "string",
        "title": "Route Path"
      },
      "method": {
        "type": "string",
        "title": "Method"
      }
    },
    "type": "object",
    "title": "RequestLogAggregationID"
  },
  "StartUploadResponseSchema": {
    "properties": {
      "strategy": {
        "type": "string",
        "enum": ["server_upload_only", "browser_upload_only", "browser_upload_when_file_size_exceed"],
        "title": "OpenaiWebFileUploadStrategyOption",
        "description": "An enumeration."
      },
      "file_max_size": {
        "type": "integer",
        "title": "File Max Size"
      },
      "upload_file_info": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "original_filename": {
            "type": "string",
            "title": "Original Filename"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "storage_path": {
            "type": "string",
            "title": "Storage Path"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type"
          },
          "upload_time": {
            "type": "string",
            "format": "date-time",
            "title": "Upload Time"
          },
          "uploader_id": {
            "type": "integer",
            "title": "Uploader Id"
          },
          "openai_web_info": {
            "properties": {
              "file_id": {
                "type": "string",
                "title": "File Id"
              },
              "use_case": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["ace_upload", "multimodal"]
                  },
                  {
                    "type": "string"
                  }
                ],
                "title": "Use Case"
              },
              "upload_url": {
                "type": "string",
                "title": "Upload Url",
                "description": "url, "
              },
              "download_url": {
                "type": "string",
                "title": "Download Url"
              }
            },
            "type": "object",
            "title": "UploadedFileOpenaiWebInfo"
          }
        },
        "type": "object",
        "required": ["id", "original_filename", "size", "upload_time", "uploader_id"],
        "title": "UploadedFileInfoSchema"
      }
    },
    "type": "object",
    "required": ["strategy", "file_max_size"],
    "title": "StartUploadResponseSchema"
  },
  "StatsSetting": {
    "properties": {
      "ask_stats_ttl": {
        "type": "integer",
        "title": "Ask Stats Ttl",
        "default": 7776000
      },
      "request_stats_ttl": {
        "type": "integer",
        "title": "Request Stats Ttl",
        "default": 2592000
      },
      "request_stats_filter_keywords": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "title": "Request Stats Filter Keywords",
        "default": ["/status"]
      }
    },
    "type": "object",
    "title": "StatsSetting"
  },
  "SystemInfo": {
    "properties": {
      "startup_time": {
        "type": "number",
        "title": "Startup Time"
      },
      "total_user_count": {
        "type": "integer",
        "title": "Total User Count"
      },
      "total_conversation_count": {
        "type": "integer",
        "title": "Total Conversation Count"
      },
      "valid_conversation_count": {
        "type": "integer",
        "title": "Valid Conversation Count"
      }
    },
    "type": "object",
    "required": ["startup_time", "total_user_count", "total_conversation_count", "valid_conversation_count"],
    "title": "SystemInfo"
  },
  "TimeWindowRateLimit": {
    "properties": {
      "window_seconds": {
        "type": "integer",
        "title": "Window Seconds",
        "description": ""
      },
      "max_requests": {
        "type": "integer",
        "title": "Max Requests",
        "description": ""
      }
    },
    "type": "object",
    "required": ["window_seconds", "max_requests"],
    "title": "TimeWindowRateLimit"
  },
  "UploadedFileInfoSchema": {
    "properties": {
      "id": {
        "type": "string",
        "format": "uuid",
        "title": "Id"
      },
      "original_filename": {
        "type": "string",
        "title": "Original Filename"
      },
      "size": {
        "type": "integer",
        "title": "Size"
      },
      "storage_path": {
        "type": "string",
        "title": "Storage Path"
      },
      "content_type": {
        "type": "string",
        "title": "Content Type"
      },
      "upload_time": {
        "type": "string",
        "format": "date-time",
        "title": "Upload Time"
      },
      "uploader_id": {
        "type": "integer",
        "title": "Uploader Id"
      },
      "openai_web_info": {
        "properties": {
          "file_id": {
            "type": "string",
            "title": "File Id"
          },
          "use_case": {
            "anyOf": [
              {
                "type": "string",
                "enum": ["ace_upload", "multimodal"]
              },
              {
                "type": "string"
              }
            ],
            "title": "Use Case"
          },
          "upload_url": {
            "type": "string",
            "title": "Upload Url",
            "description": "url, "
          },
          "download_url": {
            "type": "string",
            "title": "Download Url"
          }
        },
        "type": "object",
        "title": "UploadedFileOpenaiWebInfo"
      }
    },
    "type": "object",
    "required": ["id", "original_filename", "size", "upload_time", "uploader_id"],
    "title": "UploadedFileInfoSchema"
  },
  "UploadedFileOpenaiWebInfo": {
    "properties": {
      "file_id": {
        "type": "string",
        "title": "File Id"
      },
      "use_case": {
        "anyOf": [
          {
            "type": "string",
            "enum": ["ace_upload", "multimodal"]
          },
          {
            "type": "string"
          }
        ],
        "title": "Use Case"
      },
      "upload_url": {
        "type": "string",
        "title": "Upload Url",
        "description": "url, "
      },
      "download_url": {
        "type": "string",
        "title": "Download Url"
      }
    },
    "type": "object",
    "title": "UploadedFileOpenaiWebInfo"
  },
  "UserCreate": {
    "properties": {
      "email": {
        "type": "string",
        "format": "email",
        "title": "Email"
      },
      "password": {
        "type": "string",
        "title": "Password"
      },
      "is_active": {
        "type": "boolean",
        "title": "Is Active",
        "default": true
      },
      "is_superuser": {
        "type": "boolean",
        "title": "Is Superuser",
        "default": false
      },
      "is_verified": {
        "type": "boolean",
        "title": "Is Verified",
        "default": false
      },
      "username": {
        "type": "string",
        "title": "Username"
      },
      "nickname": {
        "type": "string",
        "title": "Nickname"
      },
      "avatar": {
        "type": "string",
        "title": "Avatar"
      },
      "remark": {
        "type": "string",
        "title": "Remark"
      }
    },
    "type": "object",
    "required": ["email", "password", "username", "nickname"],
    "title": "UserCreate"
  },
  "UserRead": {
    "properties": {
      "id": {
        "type": "integer",
        "title": "Id"
      },
      "email": {
        "type": "string",
        "format": "email",
        "title": "Email"
      },
      "is_active": {
        "type": "boolean",
        "title": "Is Active"
      },
      "is_superuser": {
        "type": "boolean",
        "title": "Is Superuser"
      },
      "is_verified": {
        "type": "boolean",
        "title": "Is Verified"
      },
      "username": {
        "type": "string",
        "title": "Username"
      },
      "nickname": {
        "type": "string",
        "title": "Nickname"
      },
      "last_active_time": {
        "type": "string",
        "format": "date-time",
        "title": "Last Active Time"
      },
      "create_time": {
        "type": "string",
        "format": "date-time",
        "title": "Create Time"
      },
      "avatar": {
        "type": "string",
        "title": "Avatar"
      },
      "setting": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "credits": {
            "type": "number",
            "title": "Credits"
          },
          "openai_web_chat_status": {
            "type": "string",
            "enum": ["asking", "queueing", "idling"],
            "title": "OpenaiWebChatStatus",
            "description": "An enumeration."
          },
          "openai_web": {
            "properties": {
              "allow_to_use": {
                "type": "boolean",
                "title": "Allow To Use"
              },
              "valid_until": {
                "type": "string",
                "format": "date-time",
                "title": "Valid Until"
              },
              "max_conv_count": {
                "type": "integer",
                "title": "Max Conv Count"
              },
              "total_ask_count": {
                "type": "integer",
                "title": "Total Ask Count"
              },
              "rate_limits": {
                "items": {
                  "properties": {
                    "window_seconds": {
                      "type": "integer",
                      "title": "Window Seconds",
                      "description": ""
                    },
                    "max_requests": {
                      "type": "integer",
                      "title": "Max Requests",
                      "description": ""
                    }
                  },
                  "type": "object",
                  "required": ["window_seconds", "max_requests"],
                  "title": "TimeWindowRateLimit"
                },
                "type": "array",
                "title": "Rate Limits"
              },
              "daily_available_time_slots": {
                "items": {
                  "properties": {
                    "start_time": {
                      "type": "string",
                      "format": "time",
                      "title": "Start Time",
                      "description": ""
                    },
                    "end_time": {
                      "type": "string",
                      "format": "time",
                      "title": "End Time",
                      "description": ""
                    }
                  },
                  "type": "object",
                  "required": ["start_time", "end_time"],
                  "title": "DailyTimeSlot"
                },
                "type": "array",
                "title": "Daily Available Time Slots"
              },
              "available_models": {
                "items": {
                  "type": "string",
                  "enum": [
                    "gpt_3_5",
                    "gpt_3_5_mobile",
                    "gpt_4",
                    "gpt_4_mobile",
                    "gpt_4_browsing",
                    "gpt_4_code_interpreter",
                    "gpt_4_plugins",
                    "gpt_4_dalle"
                  ],
                  "title": "OpenaiWebChatModels",
                  "description": "An enumeration."
                },
                "type": "array"
              },
              "per_model_ask_count": {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object",
                "title": "OpenaiWebPerModelAskCount",
                "default": {
                  "gpt_3_5": 0,
                  "gpt_3_5_mobile": 0,
                  "gpt_4": 0,
                  "gpt_4_mobile": 0,
                  "gpt_4_browsing": 0,
                  "gpt_4_code_interpreter": 0,
                  "gpt_4_plugins": 0,
                  "gpt_4_dalle": 0
                }
              },
              "allow_uploading_attachments": {
                "type": "boolean",
                "title": "Allow Uploading Attachments"
              },
              "allow_uploading_multimodal_images": {
                "type": "boolean",
                "title": "Allow Uploading Multimodal Images"
              }
            },
            "type": "object",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count",
              "allow_uploading_attachments",
              "allow_uploading_multimodal_images"
            ],
            "title": "OpenaiWebSourceSettingSchema"
          },
          "openai_api": {
            "properties": {
              "allow_to_use": {
                "type": "boolean",
                "title": "Allow To Use"
              },
              "valid_until": {
                "type": "string",
                "format": "date-time",
                "title": "Valid Until"
              },
              "max_conv_count": {
                "type": "integer",
                "title": "Max Conv Count"
              },
              "total_ask_count": {
                "type": "integer",
                "title": "Total Ask Count"
              },
              "rate_limits": {
                "items": {
                  "properties": {
                    "window_seconds": {
                      "type": "integer",
                      "title": "Window Seconds",
                      "description": ""
                    },
                    "max_requests": {
                      "type": "integer",
                      "title": "Max Requests",
                      "description": ""
                    }
                  },
                  "type": "object",
                  "required": ["window_seconds", "max_requests"],
                  "title": "TimeWindowRateLimit"
                },
                "type": "array",
                "title": "Rate Limits"
              },
              "daily_available_time_slots": {
                "items": {
                  "properties": {
                    "start_time": {
                      "type": "string",
                      "format": "time",
                      "title": "Start Time",
                      "description": ""
                    },
                    "end_time": {
                      "type": "string",
                      "format": "time",
                      "title": "End Time",
                      "description": ""
                    }
                  },
                  "type": "object",
                  "required": ["start_time", "end_time"],
                  "title": "DailyTimeSlot"
                },
                "type": "array",
                "title": "Daily Available Time Slots"
              },
              "available_models": {
                "items": {
                  "type": "string",
                  "enum": ["gpt_3_5", "gpt_4"],
                  "title": "OpenaiApiChatModels",
                  "description": "An enumeration."
                },
                "type": "array"
              },
              "per_model_ask_count": {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object",
                "title": "OpenaiApiPerModelAskCount",
                "default": {
                  "gpt_3_5": 0,
                  "gpt_4": 0
                }
              },
              "allow_custom_openai_api": {
                "type": "boolean",
                "title": "Allow Custom Openai Api"
              },
              "custom_openai_api_settings": {
                "properties": {
                  "url": {
                    "type": "string",
                    "title": "Url"
                  },
                  "key": {
                    "type": "string",
                    "title": "Key"
                  }
                },
                "type": "object",
                "title": "CustomOpenaiApiSettings"
              }
            },
            "type": "object",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count",
              "allow_custom_openai_api",
              "custom_openai_api_settings"
            ],
            "title": "OpenaiApiSourceSettingSchema"
          }
        },
        "type": "object",
        "required": ["credits", "openai_web_chat_status", "openai_web", "openai_api"],
        "title": "UserSettingSchema"
      }
    },
    "type": "object",
    "required": [
      "id",
      "email",
      "is_active",
      "is_superuser",
      "is_verified",
      "username",
      "nickname",
      "create_time",
      "setting"
    ],
    "title": "UserRead",
    "description": "Base User model."
  },
  "UserReadAdmin": {
    "properties": {
      "id": {
        "type": "integer",
        "title": "Id"
      },
      "email": {
        "type": "string",
        "format": "email",
        "title": "Email"
      },
      "is_active": {
        "type": "boolean",
        "title": "Is Active"
      },
      "is_superuser": {
        "type": "boolean",
        "title": "Is Superuser"
      },
      "is_verified": {
        "type": "boolean",
        "title": "Is Verified"
      },
      "username": {
        "type": "string",
        "title": "Username"
      },
      "nickname": {
        "type": "string",
        "title": "Nickname"
      },
      "last_active_time": {
        "type": "string",
        "format": "date-time",
        "title": "Last Active Time"
      },
      "create_time": {
        "type": "string",
        "format": "date-time",
        "title": "Create Time"
      },
      "avatar": {
        "type": "string",
        "title": "Avatar"
      },
      "setting": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "credits": {
            "type": "number",
            "title": "Credits"
          },
          "openai_web_chat_status": {
            "type": "string",
            "enum": ["asking", "queueing", "idling"],
            "title": "OpenaiWebChatStatus",
            "description": "An enumeration."
          },
          "openai_web": {
            "properties": {
              "allow_to_use": {
                "type": "boolean",
                "title": "Allow To Use"
              },
              "valid_until": {
                "type": "string",
                "format": "date-time",
                "title": "Valid Until"
              },
              "max_conv_count": {
                "type": "integer",
                "title": "Max Conv Count"
              },
              "total_ask_count": {
                "type": "integer",
                "title": "Total Ask Count"
              },
              "rate_limits": {
                "items": {
                  "properties": {
                    "window_seconds": {
                      "type": "integer",
                      "title": "Window Seconds",
                      "description": ""
                    },
                    "max_requests": {
                      "type": "integer",
                      "title": "Max Requests",
                      "description": ""
                    }
                  },
                  "type": "object",
                  "required": ["window_seconds", "max_requests"],
                  "title": "TimeWindowRateLimit"
                },
                "type": "array",
                "title": "Rate Limits"
              },
              "daily_available_time_slots": {
                "items": {
                  "properties": {
                    "start_time": {
                      "type": "string",
                      "format": "time",
                      "title": "Start Time",
                      "description": ""
                    },
                    "end_time": {
                      "type": "string",
                      "format": "time",
                      "title": "End Time",
                      "description": ""
                    }
                  },
                  "type": "object",
                  "required": ["start_time", "end_time"],
                  "title": "DailyTimeSlot"
                },
                "type": "array",
                "title": "Daily Available Time Slots"
              },
              "available_models": {
                "items": {
                  "type": "string",
                  "enum": [
                    "gpt_3_5",
                    "gpt_3_5_mobile",
                    "gpt_4",
                    "gpt_4_mobile",
                    "gpt_4_browsing",
                    "gpt_4_code_interpreter",
                    "gpt_4_plugins",
                    "gpt_4_dalle"
                  ],
                  "title": "OpenaiWebChatModels",
                  "description": "An enumeration."
                },
                "type": "array"
              },
              "per_model_ask_count": {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object",
                "title": "OpenaiWebPerModelAskCount",
                "default": {
                  "gpt_3_5": 0,
                  "gpt_3_5_mobile": 0,
                  "gpt_4": 0,
                  "gpt_4_mobile": 0,
                  "gpt_4_browsing": 0,
                  "gpt_4_code_interpreter": 0,
                  "gpt_4_plugins": 0,
                  "gpt_4_dalle": 0
                }
              },
              "allow_uploading_attachments": {
                "type": "boolean",
                "title": "Allow Uploading Attachments"
              },
              "allow_uploading_multimodal_images": {
                "type": "boolean",
                "title": "Allow Uploading Multimodal Images"
              }
            },
            "type": "object",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count",
              "allow_uploading_attachments",
              "allow_uploading_multimodal_images"
            ],
            "title": "OpenaiWebSourceSettingSchema"
          },
          "openai_api": {
            "properties": {
              "allow_to_use": {
                "type": "boolean",
                "title": "Allow To Use"
              },
              "valid_until": {
                "type": "string",
                "format": "date-time",
                "title": "Valid Until"
              },
              "max_conv_count": {
                "type": "integer",
                "title": "Max Conv Count"
              },
              "total_ask_count": {
                "type": "integer",
                "title": "Total Ask Count"
              },
              "rate_limits": {
                "items": {
                  "properties": {
                    "window_seconds": {
                      "type": "integer",
                      "title": "Window Seconds",
                      "description": ""
                    },
                    "max_requests": {
                      "type": "integer",
                      "title": "Max Requests",
                      "description": ""
                    }
                  },
                  "type": "object",
                  "required": ["window_seconds", "max_requests"],
                  "title": "TimeWindowRateLimit"
                },
                "type": "array",
                "title": "Rate Limits"
              },
              "daily_available_time_slots": {
                "items": {
                  "properties": {
                    "start_time": {
                      "type": "string",
                      "format": "time",
                      "title": "Start Time",
                      "description": ""
                    },
                    "end_time": {
                      "type": "string",
                      "format": "time",
                      "title": "End Time",
                      "description": ""
                    }
                  },
                  "type": "object",
                  "required": ["start_time", "end_time"],
                  "title": "DailyTimeSlot"
                },
                "type": "array",
                "title": "Daily Available Time Slots"
              },
              "available_models": {
                "items": {
                  "type": "string",
                  "enum": ["gpt_3_5", "gpt_4"],
                  "title": "OpenaiApiChatModels",
                  "description": "An enumeration."
                },
                "type": "array"
              },
              "per_model_ask_count": {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object",
                "title": "OpenaiApiPerModelAskCount",
                "default": {
                  "gpt_3_5": 0,
                  "gpt_4": 0
                }
              },
              "allow_custom_openai_api": {
                "type": "boolean",
                "title": "Allow Custom Openai Api"
              },
              "custom_openai_api_settings": {
                "properties": {
                  "url": {
                    "type": "string",
                    "title": "Url"
                  },
                  "key": {
                    "type": "string",
                    "title": "Key"
                  }
                },
                "type": "object",
                "title": "CustomOpenaiApiSettings"
              }
            },
            "type": "object",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count",
              "allow_custom_openai_api",
              "custom_openai_api_settings"
            ],
            "title": "OpenaiApiSourceSettingSchema"
          }
        },
        "type": "object",
        "required": ["credits", "openai_web_chat_status", "openai_web", "openai_api"],
        "title": "UserSettingSchema"
      },
      "remark": {
        "type": "string",
        "title": "Remark"
      }
    },
    "type": "object",
    "required": [
      "id",
      "email",
      "is_active",
      "is_superuser",
      "is_verified",
      "username",
      "nickname",
      "create_time",
      "setting"
    ],
    "title": "UserReadAdmin",
    "description": "Base User model."
  },
  "UserSettingSchema": {
    "properties": {
      "id": {
        "type": "integer",
        "title": "Id"
      },
      "user_id": {
        "type": "integer",
        "title": "User Id"
      },
      "credits": {
        "type": "number",
        "title": "Credits"
      },
      "openai_web_chat_status": {
        "type": "string",
        "enum": ["asking", "queueing", "idling"],
        "title": "OpenaiWebChatStatus",
        "description": "An enumeration."
      },
      "openai_web": {
        "properties": {
          "allow_to_use": {
            "type": "boolean",
            "title": "Allow To Use"
          },
          "valid_until": {
            "type": "string",
            "format": "date-time",
            "title": "Valid Until"
          },
          "max_conv_count": {
            "type": "integer",
            "title": "Max Conv Count"
          },
          "total_ask_count": {
            "type": "integer",
            "title": "Total Ask Count"
          },
          "rate_limits": {
            "items": {
              "properties": {
                "window_seconds": {
                  "type": "integer",
                  "title": "Window Seconds",
                  "description": ""
                },
                "max_requests": {
                  "type": "integer",
                  "title": "Max Requests",
                  "description": ""
                }
              },
              "type": "object",
              "required": ["window_seconds", "max_requests"],
              "title": "TimeWindowRateLimit"
            },
            "type": "array",
            "title": "Rate Limits"
          },
          "daily_available_time_slots": {
            "items": {
              "properties": {
                "start_time": {
                  "type": "string",
                  "format": "time",
                  "title": "Start Time",
                  "description": ""
                },
                "end_time": {
                  "type": "string",
                  "format": "time",
                  "title": "End Time",
                  "description": ""
                }
              },
              "type": "object",
              "required": ["start_time", "end_time"],
              "title": "DailyTimeSlot"
            },
            "type": "array",
            "title": "Daily Available Time Slots"
          },
          "available_models": {
            "items": {
              "type": "string",
              "enum": [
                "gpt_3_5",
                "gpt_3_5_mobile",
                "gpt_4",
                "gpt_4_mobile",
                "gpt_4_browsing",
                "gpt_4_code_interpreter",
                "gpt_4_plugins",
                "gpt_4_dalle"
              ],
              "title": "OpenaiWebChatModels",
              "description": "An enumeration."
            },
            "type": "array"
          },
          "per_model_ask_count": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "OpenaiWebPerModelAskCount",
            "default": {
              "gpt_3_5": 0,
              "gpt_3_5_mobile": 0,
              "gpt_4": 0,
              "gpt_4_mobile": 0,
              "gpt_4_browsing": 0,
              "gpt_4_code_interpreter": 0,
              "gpt_4_plugins": 0,
              "gpt_4_dalle": 0
            }
          },
          "allow_uploading_attachments": {
            "type": "boolean",
            "title": "Allow Uploading Attachments"
          },
          "allow_uploading_multimodal_images": {
            "type": "boolean",
            "title": "Allow Uploading Multimodal Images"
          }
        },
        "type": "object",
        "required": [
          "allow_to_use",
          "max_conv_count",
          "total_ask_count",
          "rate_limits",
          "daily_available_time_slots",
          "available_models",
          "per_model_ask_count",
          "allow_uploading_attachments",
          "allow_uploading_multimodal_images"
        ],
        "title": "OpenaiWebSourceSettingSchema"
      },
      "openai_api": {
        "properties": {
          "allow_to_use": {
            "type": "boolean",
            "title": "Allow To Use"
          },
          "valid_until": {
            "type": "string",
            "format": "date-time",
            "title": "Valid Until"
          },
          "max_conv_count": {
            "type": "integer",
            "title": "Max Conv Count"
          },
          "total_ask_count": {
            "type": "integer",
            "title": "Total Ask Count"
          },
          "rate_limits": {
            "items": {
              "properties": {
                "window_seconds": {
                  "type": "integer",
                  "title": "Window Seconds",
                  "description": ""
                },
                "max_requests": {
                  "type": "integer",
                  "title": "Max Requests",
                  "description": ""
                }
              },
              "type": "object",
              "required": ["window_seconds", "max_requests"],
              "title": "TimeWindowRateLimit"
            },
            "type": "array",
            "title": "Rate Limits"
          },
          "daily_available_time_slots": {
            "items": {
              "properties": {
                "start_time": {
                  "type": "string",
                  "format": "time",
                  "title": "Start Time",
                  "description": ""
                },
                "end_time": {
                  "type": "string",
                  "format": "time",
                  "title": "End Time",
                  "description": ""
                }
              },
              "type": "object",
              "required": ["start_time", "end_time"],
              "title": "DailyTimeSlot"
            },
            "type": "array",
            "title": "Daily Available Time Slots"
          },
          "available_models": {
            "items": {
              "type": "string",
              "enum": ["gpt_3_5", "gpt_4"],
              "title": "OpenaiApiChatModels",
              "description": "An enumeration."
            },
            "type": "array"
          },
          "per_model_ask_count": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "OpenaiApiPerModelAskCount",
            "default": {
              "gpt_3_5": 0,
              "gpt_4": 0
            }
          },
          "allow_custom_openai_api": {
            "type": "boolean",
            "title": "Allow Custom Openai Api"
          },
          "custom_openai_api_settings": {
            "properties": {
              "url": {
                "type": "string",
                "title": "Url"
              },
              "key": {
                "type": "string",
                "title": "Key"
              }
            },
            "type": "object",
            "title": "CustomOpenaiApiSettings"
          }
        },
        "type": "object",
        "required": [
          "allow_to_use",
          "max_conv_count",
          "total_ask_count",
          "rate_limits",
          "daily_available_time_slots",
          "available_models",
          "per_model_ask_count",
          "allow_custom_openai_api",
          "custom_openai_api_settings"
        ],
        "title": "OpenaiApiSourceSettingSchema"
      }
    },
    "type": "object",
    "required": ["credits", "openai_web_chat_status", "openai_web", "openai_api"],
    "title": "UserSettingSchema"
  },
  "UserUpdate": {
    "properties": {
      "password": {
        "type": "string",
        "title": "Password"
      },
      "email": {
        "type": "string",
        "title": "Email"
      },
      "is_active": {
        "type": "boolean",
        "title": "Is Active"
      },
      "is_superuser": {
        "type": "boolean",
        "title": "Is Superuser"
      },
      "is_verified": {
        "type": "boolean",
        "title": "Is Verified"
      },
      "nickname": {
        "type": "string",
        "title": "Nickname"
      },
      "avatar": {
        "type": "string",
        "title": "Avatar"
      }
    },
    "type": "object",
    "title": "UserUpdate"
  },
  "UserUpdateAdmin": {
    "properties": {
      "password": {
        "type": "string",
        "title": "Password"
      },
      "email": {
        "type": "string",
        "title": "Email"
      },
      "is_active": {
        "type": "boolean",
        "title": "Is Active"
      },
      "is_superuser": {
        "type": "boolean",
        "title": "Is Superuser"
      },
      "is_verified": {
        "type": "boolean",
        "title": "Is Verified"
      },
      "nickname": {
        "type": "string",
        "title": "Nickname"
      },
      "avatar": {
        "type": "string",
        "title": "Avatar"
      },
      "username": {
        "type": "string",
        "title": "Username"
      },
      "remark": {
        "type": "string",
        "title": "Remark"
      }
    },
    "type": "object",
    "title": "UserUpdateAdmin"
  },
  "ValidationError": {
    "properties": {
      "loc": {
        "items": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "integer"
            }
          ]
        },
        "type": "array",
        "title": "Location"
      },
      "msg": {
        "type": "string",
        "title": "Message"
      },
      "type": {
        "type": "string",
        "title": "Error Type"
      }
    },
    "type": "object",
    "required": ["loc", "msg", "type"],
    "title": "ValidationError"
  }
}
