{
  "AskLogAggregation": {
    "title": "AskLogAggregation",
    "required": [
      "count"
    ],
    "type": "object",
    "properties": {
      "_id": {
        "title": "AskLogAggregationID",
        "required": [
          "start_time"
        ],
        "type": "object",
        "properties": {
          "start_time": {
            "title": "Start Time",
            "type": "string",
            "format": "date-time"
          },
          "meta": {
            "title": "Meta",
            "anyOf": [
              {
                "title": "OpenaiWebAskLogMeta",
                "required": [
                  "source",
                  "model"
                ],
                "type": "object",
                "properties": {
                  "source": {
                    "title": "Source",
                    "enum": [
                      "openai_web"
                    ],
                    "type": "string"
                  },
                  "model": {
                    "title": "OpenaiWebChatModels",
                    "enum": [
                      "gpt_3_5",
                      "gpt_3_5_mobile",
                      "gpt_4",
                      "gpt_4_mobile",
                      "gpt_4_browsing",
                      "gpt_4_plugins"
                    ],
                    "type": "string",
                    "description": "An enumeration."
                  }
                }
              },
              {
                "title": "OpenaiApiAskLogMeta",
                "required": [
                  "source",
                  "model"
                ],
                "type": "object",
                "properties": {
                  "source": {
                    "title": "Source",
                    "enum": [
                      "openai_api"
                    ],
                    "type": "string"
                  },
                  "model": {
                    "title": "OpenaiApiChatModels",
                    "enum": [
                      "gpt_3_5",
                      "gpt_4"
                    ],
                    "type": "string",
                    "description": "An enumeration."
                  }
                }
              }
            ]
          }
        }
      },
      "count": {
        "title": "Count",
        "type": "integer"
      },
      "user_ids": {
        "title": "User Ids",
        "type": "array",
        "items": {
          "type": "integer"
        }
      },
      "total_queueing_time": {
        "title": "Total Queueing Time",
        "type": "number"
      },
      "total_ask_time": {
        "title": "Total Ask Time",
        "type": "number"
      }
    }
  },
  "AskLogAggregationID": {
    "title": "AskLogAggregationID",
    "required": [
      "start_time"
    ],
    "type": "object",
    "properties": {
      "start_time": {
        "title": "Start Time",
        "type": "string",
        "format": "date-time"
      },
      "meta": {
        "title": "Meta",
        "anyOf": [
          {
            "title": "OpenaiWebAskLogMeta",
            "required": [
              "source",
              "model"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_web"
                ],
                "type": "string"
              },
              "model": {
                "title": "OpenaiWebChatModels",
                "enum": [
                  "gpt_3_5",
                  "gpt_3_5_mobile",
                  "gpt_4",
                  "gpt_4_mobile",
                  "gpt_4_browsing",
                  "gpt_4_plugins"
                ],
                "type": "string",
                "description": "An enumeration."
              }
            }
          },
          {
            "title": "OpenaiApiAskLogMeta",
            "required": [
              "source",
              "model"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_api"
                ],
                "type": "string"
              },
              "model": {
                "title": "OpenaiApiChatModels",
                "enum": [
                  "gpt_3_5",
                  "gpt_4"
                ],
                "type": "string",
                "description": "An enumeration."
              }
            }
          }
        ]
      }
    }
  },
  "AskRequest": {
    "title": "AskRequest",
    "required": [
      "source",
      "model",
      "new_conversation",
      "content"
    ],
    "type": "object",
    "properties": {
      "source": {
        "title": "ChatSourceTypes",
        "enum": [
          "openai_web",
          "openai_api"
        ],
        "type": "string",
        "description": "An enumeration."
      },
      "model": {
        "title": "Model",
        "type": "string"
      },
      "new_conversation": {
        "title": "New Conversation",
        "type": "boolean"
      },
      "new_title": {
        "title": "New Title",
        "type": "string"
      },
      "conversation_id": {
        "title": "Conversation Id",
        "type": "string",
        "format": "uuid"
      },
      "parent": {
        "title": "Parent",
        "type": "string",
        "format": "uuid"
      },
      "api_context_message_count": {
        "title": "Api Context Message Count",
        "minimum": -1,
        "type": "integer",
        "default": -1
      },
      "content": {
        "title": "Content",
        "type": "string"
      },
      "openai_web_plugin_ids": {
        "title": "Openai Web Plugin Ids",
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    }
  },
  "AskResponse": {
    "title": "AskResponse",
    "required": [
      "type"
    ],
    "type": "object",
    "properties": {
      "type": {
        "title": "AskResponseType",
        "enum": [
          "waiting",
          "queueing",
          "message",
          "error"
        ],
        "type": "string",
        "description": "An enumeration."
      },
      "tip": {
        "title": "Tip",
        "type": "string"
      },
      "conversation_id": {
        "title": "Conversation Id",
        "type": "string",
        "format": "uuid"
      },
      "message": {
        "title": "Message",
        "anyOf": [
          {
            "title": "OpenaiWebChatMessage",
            "required": [
              "id",
              "source",
              "role",
              "children"
            ],
            "type": "object",
            "properties": {
              "id": {
                "title": "Id",
                "type": "string",
                "format": "uuid"
              },
              "source": {
                "title": "Source",
                "enum": [
                  "openai_web"
                ],
                "type": "string"
              },
              "role": {
                "title": "Role",
                "anyOf": [
                  {
                    "enum": [
                      "system",
                      "user",
                      "assistant",
                      "tool"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "author_name": {
                "title": "Author Name",
                "anyOf": [
                  {
                    "enum": [
                      "browser"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "model": {
                "title": "Model",
                "type": "string"
              },
              "create_time": {
                "title": "Create Time",
                "type": "string",
                "format": "date-time"
              },
              "parent": {
                "title": "Parent",
                "type": "string",
                "format": "uuid"
              },
              "children": {
                "title": "Children",
                "type": "array",
                "items": {
                  "type": "string",
                  "format": "uuid"
                }
              },
              "content": {
                "title": "Content",
                "anyOf": [
                  {
                    "title": "OpenaiWebChatMessageTextContent",
                    "required": [
                      "content_type"
                    ],
                    "type": "object",
                    "properties": {
                      "content_type": {
                        "title": "Content Type",
                        "enum": [
                          "text"
                        ],
                        "type": "string"
                      },
                      "parts": {
                        "title": "Parts",
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  {
                    "title": "OpenaiWebChatMessageCodeContent",
                    "required": [
                      "content_type"
                    ],
                    "type": "object",
                    "properties": {
                      "content_type": {
                        "title": "Content Type",
                        "enum": [
                          "code"
                        ],
                        "type": "string"
                      },
                      "language": {
                        "title": "Language",
                        "type": "string"
                      },
                      "text": {
                        "title": "Text",
                        "type": "string"
                      }
                    }
                  },
                  {
                    "title": "OpenaiWebChatMessageStderrContent",
                    "required": [
                      "content_type"
                    ],
                    "type": "object",
                    "properties": {
                      "content_type": {
                        "title": "Content Type",
                        "enum": [
                          "stderr"
                        ],
                        "type": "string"
                      },
                      "text": {
                        "title": "Text",
                        "type": "string"
                      }
                    }
                  },
                  {
                    "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent",
                    "required": [
                      "content_type"
                    ],
                    "type": "object",
                    "properties": {
                      "content_type": {
                        "title": "Content Type",
                        "enum": [
                          "tether_browsing_display"
                        ],
                        "type": "string"
                      },
                      "result": {
                        "title": "Result",
                        "type": "string"
                      }
                    }
                  },
                  {
                    "title": "OpenaiWebChatMessageTetherQuoteContent",
                    "required": [
                      "content_type"
                    ],
                    "type": "object",
                    "properties": {
                      "content_type": {
                        "title": "Content Type",
                        "enum": [
                          "tether_quote"
                        ],
                        "type": "string"
                      },
                      "url": {
                        "title": "Url",
                        "type": "string"
                      },
                      "domain": {
                        "title": "Domain",
                        "type": "string"
                      },
                      "text": {
                        "title": "Text",
                        "type": "string"
                      },
                      "title": {
                        "title": "Title",
                        "type": "string"
                      }
                    }
                  },
                  {
                    "title": "OpenaiWebChatMessageSystemErrorContent",
                    "required": [
                      "content_type"
                    ],
                    "type": "object",
                    "properties": {
                      "content_type": {
                        "title": "Content Type",
                        "enum": [
                          "system_error"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "title": "Name",
                        "anyOf": [
                          {
                            "enum": [
                              "tool_error"
                            ],
                            "type": "string"
                          },
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "text": {
                        "title": "Text",
                        "type": "string"
                      }
                    }
                  }
                ]
              },
              "metadata": {
                "title": "Metadata",
                "anyOf": [
                  {
                    "title": "OpenaiWebChatMessageMetadata",
                    "required": [
                      "source"
                    ],
                    "type": "object",
                    "properties": {
                      "source": {
                        "title": "Source",
                        "enum": [
                          "openai_web"
                        ],
                        "type": "string"
                      },
                      "finish_details": {
                        "title": "Finish Details",
                        "type": "object"
                      },
                      "weight": {
                        "title": "Weight",
                        "type": "number"
                      },
                      "end_turn": {
                        "title": "End Turn",
                        "type": "boolean"
                      },
                      "message_status": {
                        "title": "Message Status",
                        "type": "string"
                      },
                      "recipient": {
                        "title": "Recipient",
                        "anyOf": [
                          {
                            "enum": [
                              "all",
                              "browser"
                            ],
                            "type": "string"
                          },
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "fallback_content": {
                        "title": "Fallback Content"
                      },
                      "invoked_plugin": {
                        "title": "OpenaiWebChatMessageMetadataPlugin",
                        "type": "object",
                        "properties": {
                          "http_response_status": {
                            "title": "Http Response Status",
                            "type": "integer"
                          },
                          "namespace": {
                            "title": "Namespace",
                            "type": "string"
                          },
                          "plugin_id": {
                            "title": "Plugin Id",
                            "type": "string"
                          },
                          "type": {
                            "title": "Type",
                            "type": "string"
                          }
                        }
                      },
                      "command": {
                        "title": "Command",
                        "anyOf": [
                          {
                            "enum": [
                              "search"
                            ],
                            "type": "string"
                          },
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "args": {
                        "title": "Args",
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "status": {
                        "title": "Status",
                        "anyOf": [
                          {
                            "enum": [
                              "finished"
                            ],
                            "type": "string"
                          },
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "_cite_metadata": {
                        "title": "OpenaiWebChatMessageMetadataCite",
                        "type": "object",
                        "properties": {
                          "citation_format": {
                            "title": "Citation Format",
                            "type": "object"
                          },
                          "metadata_list": {
                            "title": "Metadata List",
                            "type": "array",
                            "items": {
                              "title": "OpenaiWebChatMessageMetadataCiteData",
                              "type": "object",
                              "properties": {
                                "title": {
                                  "title": "Title",
                                  "type": "string"
                                },
                                "url": {
                                  "title": "Url",
                                  "type": "string"
                                },
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      },
                      "citations": {
                        "title": "Citations",
                        "type": "array",
                        "items": {
                          "title": "OpenaiWebChatMessageMetadataCitation",
                          "type": "object",
                          "properties": {
                            "start_ix": {
                              "title": "Start Ix",
                              "type": "integer"
                            },
                            "end_ix": {
                              "title": "End Ix",
                              "type": "integer"
                            },
                            "metadata": {
                              "title": "OpenaiWebChatMessageMetadataCiteData",
                              "type": "object",
                              "properties": {
                                "title": {
                                  "title": "Title",
                                  "type": "string"
                                },
                                "url": {
                                  "title": "Url",
                                  "type": "string"
                                },
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  {
                    "title": "OpenaiApiChatMessageMetadata",
                    "required": [
                      "source"
                    ],
                    "type": "object",
                    "properties": {
                      "source": {
                        "title": "Source",
                        "enum": [
                          "openai_api"
                        ],
                        "type": "string"
                      },
                      "usage": {
                        "title": "OpenaiChatResponseUsage",
                        "type": "object",
                        "properties": {
                          "prompt_tokens": {
                            "title": "Prompt Tokens",
                            "type": "integer"
                          },
                          "completion_tokens": {
                            "title": "Completion Tokens",
                            "type": "integer"
                          }
                        }
                      },
                      "finish_reason": {
                        "title": "Finish Reason",
                        "type": "string"
                      }
                    }
                  }
                ]
              }
            }
          },
          {
            "title": "OpenaiApiChatMessage",
            "required": [
              "id",
              "source",
              "role",
              "children"
            ],
            "type": "object",
            "properties": {
              "id": {
                "title": "Id",
                "type": "string",
                "format": "uuid"
              },
              "source": {
                "title": "Source",
                "enum": [
                  "openai_api"
                ],
                "type": "string"
              },
              "role": {
                "title": "Role",
                "anyOf": [
                  {
                    "enum": [
                      "system",
                      "user",
                      "assistant",
                      "tool"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "author_name": {
                "title": "Author Name",
                "anyOf": [
                  {
                    "enum": [
                      "browser"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "model": {
                "title": "Model",
                "type": "string"
              },
              "create_time": {
                "title": "Create Time",
                "type": "string",
                "format": "date-time"
              },
              "parent": {
                "title": "Parent",
                "type": "string",
                "format": "uuid"
              },
              "children": {
                "title": "Children",
                "type": "array",
                "items": {
                  "type": "string",
                  "format": "uuid"
                }
              },
              "content": {
                "title": "OpenaiApiChatMessageTextContent",
                "required": [
                  "content_type",
                  "text"
                ],
                "type": "object",
                "properties": {
                  "content_type": {
                    "title": "Content Type",
                    "enum": [
                      "text"
                    ],
                    "type": "string"
                  },
                  "text": {
                    "title": "Text",
                    "type": "string"
                  }
                }
              },
              "metadata": {
                "title": "Metadata",
                "anyOf": [
                  {
                    "title": "OpenaiWebChatMessageMetadata",
                    "required": [
                      "source"
                    ],
                    "type": "object",
                    "properties": {
                      "source": {
                        "title": "Source",
                        "enum": [
                          "openai_web"
                        ],
                        "type": "string"
                      },
                      "finish_details": {
                        "title": "Finish Details",
                        "type": "object"
                      },
                      "weight": {
                        "title": "Weight",
                        "type": "number"
                      },
                      "end_turn": {
                        "title": "End Turn",
                        "type": "boolean"
                      },
                      "message_status": {
                        "title": "Message Status",
                        "type": "string"
                      },
                      "recipient": {
                        "title": "Recipient",
                        "anyOf": [
                          {
                            "enum": [
                              "all",
                              "browser"
                            ],
                            "type": "string"
                          },
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "fallback_content": {
                        "title": "Fallback Content"
                      },
                      "invoked_plugin": {
                        "title": "OpenaiWebChatMessageMetadataPlugin",
                        "type": "object",
                        "properties": {
                          "http_response_status": {
                            "title": "Http Response Status",
                            "type": "integer"
                          },
                          "namespace": {
                            "title": "Namespace",
                            "type": "string"
                          },
                          "plugin_id": {
                            "title": "Plugin Id",
                            "type": "string"
                          },
                          "type": {
                            "title": "Type",
                            "type": "string"
                          }
                        }
                      },
                      "command": {
                        "title": "Command",
                        "anyOf": [
                          {
                            "enum": [
                              "search"
                            ],
                            "type": "string"
                          },
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "args": {
                        "title": "Args",
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "status": {
                        "title": "Status",
                        "anyOf": [
                          {
                            "enum": [
                              "finished"
                            ],
                            "type": "string"
                          },
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "_cite_metadata": {
                        "title": "OpenaiWebChatMessageMetadataCite",
                        "type": "object",
                        "properties": {
                          "citation_format": {
                            "title": "Citation Format",
                            "type": "object"
                          },
                          "metadata_list": {
                            "title": "Metadata List",
                            "type": "array",
                            "items": {
                              "title": "OpenaiWebChatMessageMetadataCiteData",
                              "type": "object",
                              "properties": {
                                "title": {
                                  "title": "Title",
                                  "type": "string"
                                },
                                "url": {
                                  "title": "Url",
                                  "type": "string"
                                },
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      },
                      "citations": {
                        "title": "Citations",
                        "type": "array",
                        "items": {
                          "title": "OpenaiWebChatMessageMetadataCitation",
                          "type": "object",
                          "properties": {
                            "start_ix": {
                              "title": "Start Ix",
                              "type": "integer"
                            },
                            "end_ix": {
                              "title": "End Ix",
                              "type": "integer"
                            },
                            "metadata": {
                              "title": "OpenaiWebChatMessageMetadataCiteData",
                              "type": "object",
                              "properties": {
                                "title": {
                                  "title": "Title",
                                  "type": "string"
                                },
                                "url": {
                                  "title": "Url",
                                  "type": "string"
                                },
                                "text": {
                                  "title": "Text",
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  {
                    "title": "OpenaiApiChatMessageMetadata",
                    "required": [
                      "source"
                    ],
                    "type": "object",
                    "properties": {
                      "source": {
                        "title": "Source",
                        "enum": [
                          "openai_api"
                        ],
                        "type": "string"
                      },
                      "usage": {
                        "title": "OpenaiChatResponseUsage",
                        "type": "object",
                        "properties": {
                          "prompt_tokens": {
                            "title": "Prompt Tokens",
                            "type": "integer"
                          },
                          "completion_tokens": {
                            "title": "Completion Tokens",
                            "type": "integer"
                          }
                        }
                      },
                      "finish_reason": {
                        "title": "Finish Reason",
                        "type": "string"
                      }
                    }
                  }
                ]
              }
            }
          }
        ]
      },
      "error_detail": {
        "title": "Error Detail",
        "type": "string"
      }
    }
  },
  "AskResponseType": {
    "title": "AskResponseType",
    "enum": [
      "waiting",
      "queueing",
      "message",
      "error"
    ],
    "type": "string",
    "description": "An enumeration."
  },
  "AuthSetting": {
    "title": "AuthSetting",
    "type": "object",
    "properties": {
      "jwt_secret": {
        "title": "Jwt Secret",
        "type": "string",
        "default": "MODIFY_THIS_TO_RANDOM_SECRET"
      },
      "jwt_lifetime_seconds": {
        "title": "Jwt Lifetime Seconds",
        "minimum": 1,
        "type": "integer",
        "default": 86400
      },
      "cookie_max_age": {
        "title": "Cookie Max Age",
        "minimum": 1,
        "type": "integer",
        "default": 86400
      },
      "cookie_name": {
        "title": "Cookie Name",
        "type": "string",
        "default": "user_auth"
      },
      "user_secret": {
        "title": "User Secret",
        "type": "string",
        "default": "MODIFY_THIS_TO_RANDOM_SECRET"
      }
    }
  },
  "BaseChatMessage": {
    "title": "BaseChatMessage",
    "required": [
      "id",
      "source",
      "role",
      "children"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "string",
        "format": "uuid"
      },
      "source": {
        "title": "Source",
        "enum": [
          "openai_web",
          "openai_api"
        ],
        "type": "string"
      },
      "role": {
        "title": "Role",
        "anyOf": [
          {
            "enum": [
              "system",
              "user",
              "assistant",
              "tool"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "author_name": {
        "title": "Author Name",
        "anyOf": [
          {
            "enum": [
              "browser"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "model": {
        "title": "Model",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "parent": {
        "title": "Parent",
        "type": "string",
        "format": "uuid"
      },
      "children": {
        "title": "Children",
        "type": "array",
        "items": {
          "type": "string",
          "format": "uuid"
        }
      },
      "content": {
        "title": "Content",
        "anyOf": [
          {
            "oneOf": [
              {
                "title": "OpenaiWebChatMessageTextContent",
                "required": [
                  "content_type"
                ],
                "type": "object",
                "properties": {
                  "content_type": {
                    "title": "Content Type",
                    "enum": [
                      "text"
                    ],
                    "type": "string"
                  },
                  "parts": {
                    "title": "Parts",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              },
              {
                "title": "OpenaiWebChatMessageCodeContent",
                "required": [
                  "content_type"
                ],
                "type": "object",
                "properties": {
                  "content_type": {
                    "title": "Content Type",
                    "enum": [
                      "code"
                    ],
                    "type": "string"
                  },
                  "language": {
                    "title": "Language",
                    "type": "string"
                  },
                  "text": {
                    "title": "Text",
                    "type": "string"
                  }
                }
              },
              {
                "title": "OpenaiWebChatMessageStderrContent",
                "required": [
                  "content_type"
                ],
                "type": "object",
                "properties": {
                  "content_type": {
                    "title": "Content Type",
                    "enum": [
                      "stderr"
                    ],
                    "type": "string"
                  },
                  "text": {
                    "title": "Text",
                    "type": "string"
                  }
                }
              },
              {
                "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent",
                "required": [
                  "content_type"
                ],
                "type": "object",
                "properties": {
                  "content_type": {
                    "title": "Content Type",
                    "enum": [
                      "tether_browsing_display"
                    ],
                    "type": "string"
                  },
                  "result": {
                    "title": "Result",
                    "type": "string"
                  }
                }
              },
              {
                "title": "OpenaiWebChatMessageTetherQuoteContent",
                "required": [
                  "content_type"
                ],
                "type": "object",
                "properties": {
                  "content_type": {
                    "title": "Content Type",
                    "enum": [
                      "tether_quote"
                    ],
                    "type": "string"
                  },
                  "url": {
                    "title": "Url",
                    "type": "string"
                  },
                  "domain": {
                    "title": "Domain",
                    "type": "string"
                  },
                  "text": {
                    "title": "Text",
                    "type": "string"
                  },
                  "title": {
                    "title": "Title",
                    "type": "string"
                  }
                }
              },
              {
                "title": "OpenaiWebChatMessageSystemErrorContent",
                "required": [
                  "content_type"
                ],
                "type": "object",
                "properties": {
                  "content_type": {
                    "title": "Content Type",
                    "enum": [
                      "system_error"
                    ],
                    "type": "string"
                  },
                  "name": {
                    "title": "Name",
                    "anyOf": [
                      {
                        "enum": [
                          "tool_error"
                        ],
                        "type": "string"
                      },
                      {
                        "type": "string"
                      }
                    ]
                  },
                  "text": {
                    "title": "Text",
                    "type": "string"
                  }
                }
              }
            ]
          },
          {
            "title": "OpenaiApiChatMessageTextContent",
            "required": [
              "content_type",
              "text"
            ],
            "type": "object",
            "properties": {
              "content_type": {
                "title": "Content Type",
                "enum": [
                  "text"
                ],
                "type": "string"
              },
              "text": {
                "title": "Text",
                "type": "string"
              }
            }
          },
          {
            "type": "string"
          }
        ]
      },
      "metadata": {
        "title": "Metadata",
        "anyOf": [
          {
            "title": "OpenaiWebChatMessageMetadata",
            "required": [
              "source"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_web"
                ],
                "type": "string"
              },
              "finish_details": {
                "title": "Finish Details",
                "type": "object"
              },
              "weight": {
                "title": "Weight",
                "type": "number"
              },
              "end_turn": {
                "title": "End Turn",
                "type": "boolean"
              },
              "message_status": {
                "title": "Message Status",
                "type": "string"
              },
              "recipient": {
                "title": "Recipient",
                "anyOf": [
                  {
                    "enum": [
                      "all",
                      "browser"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "fallback_content": {
                "title": "Fallback Content"
              },
              "invoked_plugin": {
                "title": "OpenaiWebChatMessageMetadataPlugin",
                "type": "object",
                "properties": {
                  "http_response_status": {
                    "title": "Http Response Status",
                    "type": "integer"
                  },
                  "namespace": {
                    "title": "Namespace",
                    "type": "string"
                  },
                  "plugin_id": {
                    "title": "Plugin Id",
                    "type": "string"
                  },
                  "type": {
                    "title": "Type",
                    "type": "string"
                  }
                }
              },
              "command": {
                "title": "Command",
                "anyOf": [
                  {
                    "enum": [
                      "search"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "args": {
                "title": "Args",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "status": {
                "title": "Status",
                "anyOf": [
                  {
                    "enum": [
                      "finished"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "_cite_metadata": {
                "title": "OpenaiWebChatMessageMetadataCite",
                "type": "object",
                "properties": {
                  "citation_format": {
                    "title": "Citation Format",
                    "type": "object"
                  },
                  "metadata_list": {
                    "title": "Metadata List",
                    "type": "array",
                    "items": {
                      "title": "OpenaiWebChatMessageMetadataCiteData",
                      "type": "object",
                      "properties": {
                        "title": {
                          "title": "Title",
                          "type": "string"
                        },
                        "url": {
                          "title": "Url",
                          "type": "string"
                        },
                        "text": {
                          "title": "Text",
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              },
              "citations": {
                "title": "Citations",
                "type": "array",
                "items": {
                  "title": "OpenaiWebChatMessageMetadataCitation",
                  "type": "object",
                  "properties": {
                    "start_ix": {
                      "title": "Start Ix",
                      "type": "integer"
                    },
                    "end_ix": {
                      "title": "End Ix",
                      "type": "integer"
                    },
                    "metadata": {
                      "title": "OpenaiWebChatMessageMetadataCiteData",
                      "type": "object",
                      "properties": {
                        "title": {
                          "title": "Title",
                          "type": "string"
                        },
                        "url": {
                          "title": "Url",
                          "type": "string"
                        },
                        "text": {
                          "title": "Text",
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "title": "OpenaiApiChatMessageMetadata",
            "required": [
              "source"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_api"
                ],
                "type": "string"
              },
              "usage": {
                "title": "OpenaiChatResponseUsage",
                "type": "object",
                "properties": {
                  "prompt_tokens": {
                    "title": "Prompt Tokens",
                    "type": "integer"
                  },
                  "completion_tokens": {
                    "title": "Completion Tokens",
                    "type": "integer"
                  }
                }
              },
              "finish_reason": {
                "title": "Finish Reason",
                "type": "string"
              }
            }
          }
        ]
      }
    }
  },
  "BaseConversationHistory": {
    "title": "BaseConversationHistory",
    "required": [
      "source",
      "title",
      "create_time",
      "update_time",
      "mapping"
    ],
    "type": "object",
    "properties": {
      "_id": {
        "title": " Id",
        "type": "string",
        "format": "uuid"
      },
      "source": {
        "title": "Source",
        "enum": [
          "openai_web",
          "openai_api"
        ],
        "type": "string"
      },
      "title": {
        "title": "Title",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "update_time": {
        "title": "Update Time",
        "type": "string",
        "format": "date-time"
      },
      "mapping": {
        "title": "Mapping",
        "type": "object",
        "additionalProperties": {
          "title": "BaseChatMessage",
          "required": [
            "id",
            "source",
            "role",
            "children"
          ],
          "type": "object",
          "properties": {
            "id": {
              "title": "Id",
              "type": "string",
              "format": "uuid"
            },
            "source": {
              "title": "Source",
              "enum": [
                "openai_web",
                "openai_api"
              ],
              "type": "string"
            },
            "role": {
              "title": "Role",
              "anyOf": [
                {
                  "enum": [
                    "system",
                    "user",
                    "assistant",
                    "tool"
                  ],
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ]
            },
            "author_name": {
              "title": "Author Name",
              "anyOf": [
                {
                  "enum": [
                    "browser"
                  ],
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ]
            },
            "model": {
              "title": "Model",
              "type": "string"
            },
            "create_time": {
              "title": "Create Time",
              "type": "string",
              "format": "date-time"
            },
            "parent": {
              "title": "Parent",
              "type": "string",
              "format": "uuid"
            },
            "children": {
              "title": "Children",
              "type": "array",
              "items": {
                "type": "string",
                "format": "uuid"
              }
            },
            "content": {
              "title": "Content",
              "anyOf": [
                {
                  "oneOf": [
                    {
                      "title": "OpenaiWebChatMessageTextContent",
                      "required": [
                        "content_type"
                      ],
                      "type": "object",
                      "properties": {
                        "content_type": {
                          "title": "Content Type",
                          "enum": [
                            "text"
                          ],
                          "type": "string"
                        },
                        "parts": {
                          "title": "Parts",
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    {
                      "title": "OpenaiWebChatMessageCodeContent",
                      "required": [
                        "content_type"
                      ],
                      "type": "object",
                      "properties": {
                        "content_type": {
                          "title": "Content Type",
                          "enum": [
                            "code"
                          ],
                          "type": "string"
                        },
                        "language": {
                          "title": "Language",
                          "type": "string"
                        },
                        "text": {
                          "title": "Text",
                          "type": "string"
                        }
                      }
                    },
                    {
                      "title": "OpenaiWebChatMessageStderrContent",
                      "required": [
                        "content_type"
                      ],
                      "type": "object",
                      "properties": {
                        "content_type": {
                          "title": "Content Type",
                          "enum": [
                            "stderr"
                          ],
                          "type": "string"
                        },
                        "text": {
                          "title": "Text",
                          "type": "string"
                        }
                      }
                    },
                    {
                      "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent",
                      "required": [
                        "content_type"
                      ],
                      "type": "object",
                      "properties": {
                        "content_type": {
                          "title": "Content Type",
                          "enum": [
                            "tether_browsing_display"
                          ],
                          "type": "string"
                        },
                        "result": {
                          "title": "Result",
                          "type": "string"
                        }
                      }
                    },
                    {
                      "title": "OpenaiWebChatMessageTetherQuoteContent",
                      "required": [
                        "content_type"
                      ],
                      "type": "object",
                      "properties": {
                        "content_type": {
                          "title": "Content Type",
                          "enum": [
                            "tether_quote"
                          ],
                          "type": "string"
                        },
                        "url": {
                          "title": "Url",
                          "type": "string"
                        },
                        "domain": {
                          "title": "Domain",
                          "type": "string"
                        },
                        "text": {
                          "title": "Text",
                          "type": "string"
                        },
                        "title": {
                          "title": "Title",
                          "type": "string"
                        }
                      }
                    },
                    {
                      "title": "OpenaiWebChatMessageSystemErrorContent",
                      "required": [
                        "content_type"
                      ],
                      "type": "object",
                      "properties": {
                        "content_type": {
                          "title": "Content Type",
                          "enum": [
                            "system_error"
                          ],
                          "type": "string"
                        },
                        "name": {
                          "title": "Name",
                          "anyOf": [
                            {
                              "enum": [
                                "tool_error"
                              ],
                              "type": "string"
                            },
                            {
                              "type": "string"
                            }
                          ]
                        },
                        "text": {
                          "title": "Text",
                          "type": "string"
                        }
                      }
                    }
                  ]
                },
                {
                  "title": "OpenaiApiChatMessageTextContent",
                  "required": [
                    "content_type",
                    "text"
                  ],
                  "type": "object",
                  "properties": {
                    "content_type": {
                      "title": "Content Type",
                      "enum": [
                        "text"
                      ],
                      "type": "string"
                    },
                    "text": {
                      "title": "Text",
                      "type": "string"
                    }
                  }
                },
                {
                  "type": "string"
                }
              ]
            },
            "metadata": {
              "title": "Metadata",
              "anyOf": [
                {
                  "title": "OpenaiWebChatMessageMetadata",
                  "required": [
                    "source"
                  ],
                  "type": "object",
                  "properties": {
                    "source": {
                      "title": "Source",
                      "enum": [
                        "openai_web"
                      ],
                      "type": "string"
                    },
                    "finish_details": {
                      "title": "Finish Details",
                      "type": "object"
                    },
                    "weight": {
                      "title": "Weight",
                      "type": "number"
                    },
                    "end_turn": {
                      "title": "End Turn",
                      "type": "boolean"
                    },
                    "message_status": {
                      "title": "Message Status",
                      "type": "string"
                    },
                    "recipient": {
                      "title": "Recipient",
                      "anyOf": [
                        {
                          "enum": [
                            "all",
                            "browser"
                          ],
                          "type": "string"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "fallback_content": {
                      "title": "Fallback Content"
                    },
                    "invoked_plugin": {
                      "title": "OpenaiWebChatMessageMetadataPlugin",
                      "type": "object",
                      "properties": {
                        "http_response_status": {
                          "title": "Http Response Status",
                          "type": "integer"
                        },
                        "namespace": {
                          "title": "Namespace",
                          "type": "string"
                        },
                        "plugin_id": {
                          "title": "Plugin Id",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "type": "string"
                        }
                      }
                    },
                    "command": {
                      "title": "Command",
                      "anyOf": [
                        {
                          "enum": [
                            "search"
                          ],
                          "type": "string"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "args": {
                      "title": "Args",
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "status": {
                      "title": "Status",
                      "anyOf": [
                        {
                          "enum": [
                            "finished"
                          ],
                          "type": "string"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "_cite_metadata": {
                      "title": "OpenaiWebChatMessageMetadataCite",
                      "type": "object",
                      "properties": {
                        "citation_format": {
                          "title": "Citation Format",
                          "type": "object"
                        },
                        "metadata_list": {
                          "title": "Metadata List",
                          "type": "array",
                          "items": {
                            "title": "OpenaiWebChatMessageMetadataCiteData",
                            "type": "object",
                            "properties": {
                              "title": {
                                "title": "Title",
                                "type": "string"
                              },
                              "url": {
                                "title": "Url",
                                "type": "string"
                              },
                              "text": {
                                "title": "Text",
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "citations": {
                      "title": "Citations",
                      "type": "array",
                      "items": {
                        "title": "OpenaiWebChatMessageMetadataCitation",
                        "type": "object",
                        "properties": {
                          "start_ix": {
                            "title": "Start Ix",
                            "type": "integer"
                          },
                          "end_ix": {
                            "title": "End Ix",
                            "type": "integer"
                          },
                          "metadata": {
                            "title": "OpenaiWebChatMessageMetadataCiteData",
                            "type": "object",
                            "properties": {
                              "title": {
                                "title": "Title",
                                "type": "string"
                              },
                              "url": {
                                "title": "Url",
                                "type": "string"
                              },
                              "text": {
                                "title": "Text",
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "title": "OpenaiApiChatMessageMetadata",
                  "required": [
                    "source"
                  ],
                  "type": "object",
                  "properties": {
                    "source": {
                      "title": "Source",
                      "enum": [
                        "openai_api"
                      ],
                      "type": "string"
                    },
                    "usage": {
                      "title": "OpenaiChatResponseUsage",
                      "type": "object",
                      "properties": {
                        "prompt_tokens": {
                          "title": "Prompt Tokens",
                          "type": "integer"
                        },
                        "completion_tokens": {
                          "title": "Completion Tokens",
                          "type": "integer"
                        }
                      }
                    },
                    "finish_reason": {
                      "title": "Finish Reason",
                      "type": "string"
                    }
                  }
                }
              ]
            }
          }
        }
      },
      "current_node": {
        "title": "Current Node",
        "type": "string",
        "format": "uuid"
      },
      "current_model": {
        "title": "Current Model",
        "type": "string"
      },
      "metadata": {
        "title": "Metadata",
        "anyOf": [
          {
            "title": "OpenaiWebConversationHistoryMeta",
            "required": [
              "source"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_web"
                ],
                "type": "string"
              },
              "moderation_results": {
                "title": "Moderation Results",
                "type": "array",
                "items": {}
              },
              "plugin_ids": {
                "title": "Plugin Ids",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          {
            "title": "OpenaiApiConversationHistoryMeta",
            "required": [
              "source"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_api"
                ],
                "type": "string"
              }
            }
          }
        ]
      }
    }
  },
  "BaseConversationSchema": {
    "title": "BaseConversationSchema",
    "required": [
      "source"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer",
        "default": -1
      },
      "source": {
        "title": "ChatSourceTypes",
        "enum": [
          "openai_web",
          "openai_api"
        ],
        "type": "string",
        "description": "An enumeration."
      },
      "conversation_id": {
        "title": "Conversation Id",
        "type": "string",
        "format": "uuid"
      },
      "title": {
        "title": "Title",
        "type": "string"
      },
      "user_id": {
        "title": "User Id",
        "type": "integer"
      },
      "is_valid": {
        "title": "Is Valid",
        "type": "boolean",
        "default": true
      },
      "current_model": {
        "title": "Current Model",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "update_time": {
        "title": "Update Time",
        "type": "string",
        "format": "date-time"
      }
    }
  },
  "Body_auth_jwt_login_auth_login_post": {
    "title": "Body_auth_jwt_login_auth_login_post",
    "required": [
      "username",
      "password"
    ],
    "type": "object",
    "properties": {
      "grant_type": {
        "title": "Grant Type",
        "pattern": "password",
        "type": "string"
      },
      "username": {
        "title": "Username",
        "type": "string"
      },
      "password": {
        "title": "Password",
        "type": "string"
      },
      "scope": {
        "title": "Scope",
        "type": "string",
        "default": ""
      },
      "client_id": {
        "title": "Client Id",
        "type": "string"
      },
      "client_secret": {
        "title": "Client Secret",
        "type": "string"
      }
    }
  },
  "Body_import_users_system_import_users_post": {
    "title": "Body_import_users_system_import_users_post",
    "required": [
      "file"
    ],
    "type": "object",
    "properties": {
      "file": {
        "title": "File",
        "type": "string",
        "format": "binary"
      }
    }
  },
  "ChatSourceTypes": {
    "title": "ChatSourceTypes",
    "enum": [
      "openai_web",
      "openai_api"
    ],
    "type": "string",
    "description": "An enumeration."
  },
  "CommonSetting": {
    "title": "CommonSetting",
    "type": "object",
    "properties": {
      "sync_conversations_on_startup": {
        "title": "Sync Conversations On Startup",
        "type": "boolean",
        "default": true
      },
      "sync_conversations_regularly": {
        "title": "Sync Conversations Regularly",
        "type": "boolean",
        "default": false
      },
      "print_sql": {
        "title": "Print Sql",
        "type": "boolean",
        "default": false
      },
      "create_initial_admin_user": {
        "title": "Create Initial Admin User",
        "type": "boolean",
        "default": true
      },
      "initial_admin_user_username": {
        "title": "Initial Admin User Username",
        "type": "string",
        "default": "admin"
      },
      "initial_admin_user_password": {
        "title": "Initial Admin User Password",
        "type": "string",
        "default": "password"
      }
    }
  },
  "CommonStatusSchema": {
    "title": "CommonStatusSchema",
    "type": "object",
    "properties": {
      "active_user_in_5m": {
        "title": "Active User In 5M",
        "type": "integer"
      },
      "active_user_in_1h": {
        "title": "Active User In 1H",
        "type": "integer"
      },
      "active_user_in_1d": {
        "title": "Active User In 1D",
        "type": "integer"
      },
      "is_chatbot_busy": {
        "title": "Is Chatbot Busy",
        "type": "boolean"
      },
      "chatbot_waiting_count": {
        "title": "Chatbot Waiting Count",
        "type": "integer"
      },
      "gpt4_count_in_3_hours": {
        "title": "Gpt4 Count In 3 Hours",
        "type": "integer"
      }
    }
  },
  "ConfigModel": {
    "title": "ConfigModel",
    "type": "object",
    "properties": {
      "openai_web": {
        "title": "Openai Web",
        "allOf": [
          {
            "title": "OpenaiWebChatGPTSetting",
            "type": "object",
            "properties": {
              "enabled": {
                "title": "Enabled",
                "type": "boolean",
                "default": true
              },
              "is_plus_account": {
                "title": "Is Plus Account",
                "type": "boolean",
                "default": true
              },
              "chatgpt_base_url": {
                "title": "Chatgpt Base Url",
                "type": "string"
              },
              "proxy": {
                "title": "Proxy",
                "type": "string"
              },
              "common_timeout": {
                "title": "Common Timeout",
                "minimum": 1,
                "type": "integer",
                "default": 10
              },
              "ask_timeout": {
                "title": "Ask Timeout",
                "minimum": 1,
                "type": "integer",
                "default": 600
              },
              "enabled_models": {
                "type": "array",
                "items": {
                  "title": "OpenaiWebChatModels",
                  "enum": [
                    "gpt_3_5",
                    "gpt_3_5_mobile",
                    "gpt_4",
                    "gpt_4_mobile",
                    "gpt_4_browsing",
                    "gpt_4_plugins"
                  ],
                  "type": "string",
                  "description": "An enumeration."
                },
                "default": [
                  "gpt_3_5",
                  "gpt_4",
                  "gpt_4_browsing",
                  "gpt_4_plugins"
                ]
              },
              "model_code_mapping": {
                "title": "Model Code Mapping",
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "default": {
                  "gpt_3_5": "text-davinci-002-render-sha",
                  "gpt_3_5_mobile": "text-davinci-002-render-sha-mobile",
                  "gpt_4": "gpt-4",
                  "gpt_4_mobile": "gpt-4-mobile",
                  "gpt_4_browsing": "gpt-4-browsing",
                  "gpt_4_plugins": "gpt-4-plugins"
                }
              }
            }
          }
        ],
        "default": {
          "enabled": true,
          "is_plus_account": true,
          "common_timeout": 10,
          "ask_timeout": 600,
          "enabled_models": [
            "gpt_3_5",
            "gpt_4",
            "gpt_4_browsing",
            "gpt_4_plugins"
          ],
          "model_code_mapping": {
            "gpt_3_5": "text-davinci-002-render-sha",
            "gpt_3_5_mobile": "text-davinci-002-render-sha-mobile",
            "gpt_4": "gpt-4",
            "gpt_4_mobile": "gpt-4-mobile",
            "gpt_4_browsing": "gpt-4-browsing",
            "gpt_4_plugins": "gpt-4-plugins"
          }
        }
      },
      "openai_api": {
        "title": "Openai Api",
        "allOf": [
          {
            "title": "OpenaiApiSetting",
            "type": "object",
            "properties": {
              "enabled": {
                "title": "Enabled",
                "type": "boolean",
                "default": true
              },
              "openai_base_url": {
                "title": "Openai Base Url",
                "type": "string",
                "default": "https://api.openai.com/v1/"
              },
              "proxy": {
                "title": "Proxy",
                "type": "string"
              },
              "connect_timeout": {
                "title": "Connect Timeout",
                "minimum": 1,
                "type": "integer",
                "default": 10
              },
              "read_timeout": {
                "title": "Read Timeout",
                "minimum": 1,
                "type": "integer",
                "default": 20
              },
              "enabled_models": {
                "type": "array",
                "items": {
                  "title": "OpenaiApiChatModels",
                  "enum": [
                    "gpt_3_5",
                    "gpt_4"
                  ],
                  "type": "string",
                  "description": "An enumeration."
                },
                "default": [
                  "gpt_3_5",
                  "gpt_4"
                ]
              },
              "model_code_mapping": {
                "title": "Model Code Mapping",
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "default": {
                  "gpt_3_5": "gpt-3.5-turbo",
                  "gpt_4": "gpt-4"
                }
              }
            }
          }
        ],
        "default": {
          "enabled": true,
          "openai_base_url": "https://api.openai.com/v1/",
          "connect_timeout": 10,
          "read_timeout": 20,
          "enabled_models": [
            "gpt_3_5",
            "gpt_4"
          ],
          "model_code_mapping": {
            "gpt_3_5": "gpt-3.5-turbo",
            "gpt_4": "gpt-4"
          }
        }
      },
      "common": {
        "title": "Common",
        "allOf": [
          {
            "title": "CommonSetting",
            "type": "object",
            "properties": {
              "sync_conversations_on_startup": {
                "title": "Sync Conversations On Startup",
                "type": "boolean",
                "default": true
              },
              "sync_conversations_regularly": {
                "title": "Sync Conversations Regularly",
                "type": "boolean",
                "default": false
              },
              "print_sql": {
                "title": "Print Sql",
                "type": "boolean",
                "default": false
              },
              "create_initial_admin_user": {
                "title": "Create Initial Admin User",
                "type": "boolean",
                "default": true
              },
              "initial_admin_user_username": {
                "title": "Initial Admin User Username",
                "type": "string",
                "default": "admin"
              },
              "initial_admin_user_password": {
                "title": "Initial Admin User Password",
                "type": "string",
                "default": "password"
              }
            }
          }
        ],
        "default": {
          "sync_conversations_on_startup": true,
          "sync_conversations_regularly": false,
          "print_sql": false,
          "create_initial_admin_user": true,
          "initial_admin_user_username": "admin",
          "initial_admin_user_password": "password"
        }
      },
      "http": {
        "title": "Http",
        "allOf": [
          {
            "title": "HttpSetting",
            "type": "object",
            "properties": {
              "host": {
                "title": "Host",
                "type": "string",
                "default": "127.0.0.1"
              },
              "port": {
                "title": "Port",
                "maximum": 65535,
                "minimum": 1,
                "type": "integer",
                "default": 8000
              },
              "cors_allow_origins": {
                "title": "Cors Allow Origins",
                "type": "array",
                "items": {
                  "type": "string"
                },
                "default": [
                  "http://localhost",
                  "http://127.0.0.1"
                ]
              }
            }
          }
        ],
        "default": {
          "host": "127.0.0.1",
          "port": 8000,
          "cors_allow_origins": [
            "http://localhost",
            "http://127.0.0.1"
          ]
        }
      },
      "data": {
        "title": "Data",
        "allOf": [
          {
            "title": "DataSetting",
            "type": "object",
            "properties": {
              "data_dir": {
                "title": "Data Dir",
                "type": "string",
                "default": "./data"
              },
              "database_url": {
                "title": "Database Url",
                "type": "string",
                "default": "sqlite+aiosqlite:///data/database.db"
              },
              "mongodb_url": {
                "title": "Mongodb Url",
                "type": "string",
                "default": "mongodb://cws:password@mongo:27017"
              },
              "run_migration": {
                "title": "Run Migration",
                "type": "boolean",
                "default": false
              }
            }
          }
        ],
        "default": {
          "data_dir": "./data",
          "database_url": "sqlite+aiosqlite:///data/database.db",
          "mongodb_url": "mongodb://cws:password@mongo:27017",
          "run_migration": false
        }
      },
      "auth": {
        "title": "Auth",
        "allOf": [
          {
            "title": "AuthSetting",
            "type": "object",
            "properties": {
              "jwt_secret": {
                "title": "Jwt Secret",
                "type": "string",
                "default": "MODIFY_THIS_TO_RANDOM_SECRET"
              },
              "jwt_lifetime_seconds": {
                "title": "Jwt Lifetime Seconds",
                "minimum": 1,
                "type": "integer",
                "default": 86400
              },
              "cookie_max_age": {
                "title": "Cookie Max Age",
                "minimum": 1,
                "type": "integer",
                "default": 86400
              },
              "cookie_name": {
                "title": "Cookie Name",
                "type": "string",
                "default": "user_auth"
              },
              "user_secret": {
                "title": "User Secret",
                "type": "string",
                "default": "MODIFY_THIS_TO_RANDOM_SECRET"
              }
            }
          }
        ],
        "default": {
          "jwt_secret": "MODIFY_THIS_TO_RANDOM_SECRET",
          "jwt_lifetime_seconds": 86400,
          "cookie_max_age": 86400,
          "cookie_name": "user_auth",
          "user_secret": "MODIFY_THIS_TO_RANDOM_SECRET"
        }
      },
      "stats": {
        "title": "Stats",
        "allOf": [
          {
            "title": "StatsSetting",
            "type": "object",
            "properties": {
              "ask_stats_ttl": {
                "title": "Ask Stats Ttl",
                "type": "integer",
                "default": 7776000
              },
              "request_stats_ttl": {
                "title": "Request Stats Ttl",
                "type": "integer",
                "default": 2592000
              },
              "request_stats_filter_keywords": {
                "title": "Request Stats Filter Keywords",
                "type": "array",
                "items": {
                  "type": "string"
                },
                "default": [
                  "/status"
                ]
              }
            }
          }
        ],
        "default": {
          "ask_stats_ttl": 7776000,
          "request_stats_ttl": 2592000,
          "request_stats_filter_keywords": [
            "/status"
          ]
        }
      },
      "log": {
        "title": "Log",
        "allOf": [
          {
            "title": "LogSetting",
            "type": "object",
            "properties": {
              "console_log_level": {
                "title": "Console Log Level",
                "enum": [
                  "INFO",
                  "DEBUG",
                  "WARNING"
                ],
                "type": "string",
                "default": "INFO"
              }
            }
          }
        ],
        "default": {
          "console_log_level": "INFO"
        }
      }
    }
  },
  "CredentialsModel": {
    "title": "CredentialsModel",
    "type": "object",
    "properties": {
      "openai_web_access_token": {
        "title": "Openai Web Access Token",
        "type": "string"
      },
      "openai_api_key": {
        "title": "Openai Api Key",
        "type": "string"
      }
    }
  },
  "CustomOpenaiApiSettings": {
    "title": "CustomOpenaiApiSettings",
    "type": "object",
    "properties": {
      "url": {
        "title": "Url",
        "type": "string"
      },
      "key": {
        "title": "Key",
        "type": "string"
      }
    }
  },
  "DailyTimeSlot": {
    "title": "DailyTimeSlot",
    "required": [
      "start_time",
      "end_time"
    ],
    "type": "object",
    "properties": {
      "start_time": {
        "title": "Start Time",
        "type": "string",
        "description": "每天可使用的开始时间",
        "format": "time"
      },
      "end_time": {
        "title": "End Time",
        "type": "string",
        "description": "每天可使用的结束时间",
        "format": "time"
      }
    }
  },
  "DataSetting": {
    "title": "DataSetting",
    "type": "object",
    "properties": {
      "data_dir": {
        "title": "Data Dir",
        "type": "string",
        "default": "./data"
      },
      "database_url": {
        "title": "Database Url",
        "type": "string",
        "default": "sqlite+aiosqlite:///data/database.db"
      },
      "mongodb_url": {
        "title": "Mongodb Url",
        "type": "string",
        "default": "mongodb://cws:password@mongo:27017"
      },
      "run_migration": {
        "title": "Run Migration",
        "type": "boolean",
        "default": false
      }
    }
  },
  "HTTPValidationError": {
    "title": "HTTPValidationError",
    "type": "object",
    "properties": {
      "detail": {
        "title": "Detail",
        "type": "array",
        "items": {
          "title": "ValidationError",
          "required": [
            "loc",
            "msg",
            "type"
          ],
          "type": "object",
          "properties": {
            "loc": {
              "title": "Location",
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  }
                ]
              }
            },
            "msg": {
              "title": "Message",
              "type": "string"
            },
            "type": {
              "title": "Error Type",
              "type": "string"
            }
          }
        }
      }
    }
  },
  "HttpSetting": {
    "title": "HttpSetting",
    "type": "object",
    "properties": {
      "host": {
        "title": "Host",
        "type": "string",
        "default": "127.0.0.1"
      },
      "port": {
        "title": "Port",
        "maximum": 65535,
        "minimum": 1,
        "type": "integer",
        "default": 8000
      },
      "cors_allow_origins": {
        "title": "Cors Allow Origins",
        "type": "array",
        "items": {
          "type": "string"
        },
        "default": [
          "http://localhost",
          "http://127.0.0.1"
        ]
      }
    }
  },
  "LogFilterOptions": {
    "title": "LogFilterOptions",
    "type": "object",
    "properties": {
      "max_lines": {
        "title": "Max Lines",
        "type": "integer",
        "default": 100
      },
      "exclude_keywords": {
        "title": "Exclude Keywords",
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    }
  },
  "LogSetting": {
    "title": "LogSetting",
    "type": "object",
    "properties": {
      "console_log_level": {
        "title": "Console Log Level",
        "enum": [
          "INFO",
          "DEBUG",
          "WARNING"
        ],
        "type": "string",
        "default": "INFO"
      }
    }
  },
  "OpenaiApiAskLogMeta": {
    "title": "OpenaiApiAskLogMeta",
    "required": [
      "source",
      "model"
    ],
    "type": "object",
    "properties": {
      "source": {
        "title": "Source",
        "enum": [
          "openai_api"
        ],
        "type": "string"
      },
      "model": {
        "title": "OpenaiApiChatModels",
        "enum": [
          "gpt_3_5",
          "gpt_4"
        ],
        "type": "string",
        "description": "An enumeration."
      }
    }
  },
  "OpenaiApiChatMessage": {
    "title": "OpenaiApiChatMessage",
    "required": [
      "id",
      "source",
      "role",
      "children"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "string",
        "format": "uuid"
      },
      "source": {
        "title": "Source",
        "enum": [
          "openai_api"
        ],
        "type": "string"
      },
      "role": {
        "title": "Role",
        "anyOf": [
          {
            "enum": [
              "system",
              "user",
              "assistant",
              "tool"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "author_name": {
        "title": "Author Name",
        "anyOf": [
          {
            "enum": [
              "browser"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "model": {
        "title": "Model",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "parent": {
        "title": "Parent",
        "type": "string",
        "format": "uuid"
      },
      "children": {
        "title": "Children",
        "type": "array",
        "items": {
          "type": "string",
          "format": "uuid"
        }
      },
      "content": {
        "title": "OpenaiApiChatMessageTextContent",
        "required": [
          "content_type",
          "text"
        ],
        "type": "object",
        "properties": {
          "content_type": {
            "title": "Content Type",
            "enum": [
              "text"
            ],
            "type": "string"
          },
          "text": {
            "title": "Text",
            "type": "string"
          }
        }
      },
      "metadata": {
        "title": "Metadata",
        "anyOf": [
          {
            "title": "OpenaiWebChatMessageMetadata",
            "required": [
              "source"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_web"
                ],
                "type": "string"
              },
              "finish_details": {
                "title": "Finish Details",
                "type": "object"
              },
              "weight": {
                "title": "Weight",
                "type": "number"
              },
              "end_turn": {
                "title": "End Turn",
                "type": "boolean"
              },
              "message_status": {
                "title": "Message Status",
                "type": "string"
              },
              "recipient": {
                "title": "Recipient",
                "anyOf": [
                  {
                    "enum": [
                      "all",
                      "browser"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "fallback_content": {
                "title": "Fallback Content"
              },
              "invoked_plugin": {
                "title": "OpenaiWebChatMessageMetadataPlugin",
                "type": "object",
                "properties": {
                  "http_response_status": {
                    "title": "Http Response Status",
                    "type": "integer"
                  },
                  "namespace": {
                    "title": "Namespace",
                    "type": "string"
                  },
                  "plugin_id": {
                    "title": "Plugin Id",
                    "type": "string"
                  },
                  "type": {
                    "title": "Type",
                    "type": "string"
                  }
                }
              },
              "command": {
                "title": "Command",
                "anyOf": [
                  {
                    "enum": [
                      "search"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "args": {
                "title": "Args",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "status": {
                "title": "Status",
                "anyOf": [
                  {
                    "enum": [
                      "finished"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "_cite_metadata": {
                "title": "OpenaiWebChatMessageMetadataCite",
                "type": "object",
                "properties": {
                  "citation_format": {
                    "title": "Citation Format",
                    "type": "object"
                  },
                  "metadata_list": {
                    "title": "Metadata List",
                    "type": "array",
                    "items": {
                      "title": "OpenaiWebChatMessageMetadataCiteData",
                      "type": "object",
                      "properties": {
                        "title": {
                          "title": "Title",
                          "type": "string"
                        },
                        "url": {
                          "title": "Url",
                          "type": "string"
                        },
                        "text": {
                          "title": "Text",
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              },
              "citations": {
                "title": "Citations",
                "type": "array",
                "items": {
                  "title": "OpenaiWebChatMessageMetadataCitation",
                  "type": "object",
                  "properties": {
                    "start_ix": {
                      "title": "Start Ix",
                      "type": "integer"
                    },
                    "end_ix": {
                      "title": "End Ix",
                      "type": "integer"
                    },
                    "metadata": {
                      "title": "OpenaiWebChatMessageMetadataCiteData",
                      "type": "object",
                      "properties": {
                        "title": {
                          "title": "Title",
                          "type": "string"
                        },
                        "url": {
                          "title": "Url",
                          "type": "string"
                        },
                        "text": {
                          "title": "Text",
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "title": "OpenaiApiChatMessageMetadata",
            "required": [
              "source"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_api"
                ],
                "type": "string"
              },
              "usage": {
                "title": "OpenaiChatResponseUsage",
                "type": "object",
                "properties": {
                  "prompt_tokens": {
                    "title": "Prompt Tokens",
                    "type": "integer"
                  },
                  "completion_tokens": {
                    "title": "Completion Tokens",
                    "type": "integer"
                  }
                }
              },
              "finish_reason": {
                "title": "Finish Reason",
                "type": "string"
              }
            }
          }
        ]
      }
    }
  },
  "OpenaiApiChatMessageMetadata": {
    "title": "OpenaiApiChatMessageMetadata",
    "required": [
      "source"
    ],
    "type": "object",
    "properties": {
      "source": {
        "title": "Source",
        "enum": [
          "openai_api"
        ],
        "type": "string"
      },
      "usage": {
        "title": "OpenaiChatResponseUsage",
        "type": "object",
        "properties": {
          "prompt_tokens": {
            "title": "Prompt Tokens",
            "type": "integer"
          },
          "completion_tokens": {
            "title": "Completion Tokens",
            "type": "integer"
          }
        }
      },
      "finish_reason": {
        "title": "Finish Reason",
        "type": "string"
      }
    }
  },
  "OpenaiApiChatMessageTextContent": {
    "title": "OpenaiApiChatMessageTextContent",
    "required": [
      "content_type",
      "text"
    ],
    "type": "object",
    "properties": {
      "content_type": {
        "title": "Content Type",
        "enum": [
          "text"
        ],
        "type": "string"
      },
      "text": {
        "title": "Text",
        "type": "string"
      }
    }
  },
  "OpenaiApiChatModels": {
    "title": "OpenaiApiChatModels",
    "enum": [
      "gpt_3_5",
      "gpt_4"
    ],
    "type": "string",
    "description": "An enumeration."
  },
  "OpenaiApiConversationHistoryDocument": {
    "title": "OpenaiApiConversationHistoryDocument",
    "required": [
      "source",
      "title",
      "create_time",
      "update_time",
      "mapping"
    ],
    "type": "object",
    "properties": {
      "_id": {
        "title": " Id",
        "type": "string",
        "format": "uuid"
      },
      "source": {
        "title": "Source",
        "enum": [
          "openai_api"
        ],
        "type": "string"
      },
      "title": {
        "title": "Title",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "update_time": {
        "title": "Update Time",
        "type": "string",
        "format": "date-time"
      },
      "mapping": {
        "title": "Mapping",
        "type": "object",
        "additionalProperties": {
          "title": "OpenaiApiChatMessage",
          "required": [
            "id",
            "source",
            "role",
            "children"
          ],
          "type": "object",
          "properties": {
            "id": {
              "title": "Id",
              "type": "string",
              "format": "uuid"
            },
            "source": {
              "title": "Source",
              "enum": [
                "openai_api"
              ],
              "type": "string"
            },
            "role": {
              "title": "Role",
              "anyOf": [
                {
                  "enum": [
                    "system",
                    "user",
                    "assistant",
                    "tool"
                  ],
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ]
            },
            "author_name": {
              "title": "Author Name",
              "anyOf": [
                {
                  "enum": [
                    "browser"
                  ],
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ]
            },
            "model": {
              "title": "Model",
              "type": "string"
            },
            "create_time": {
              "title": "Create Time",
              "type": "string",
              "format": "date-time"
            },
            "parent": {
              "title": "Parent",
              "type": "string",
              "format": "uuid"
            },
            "children": {
              "title": "Children",
              "type": "array",
              "items": {
                "type": "string",
                "format": "uuid"
              }
            },
            "content": {
              "title": "OpenaiApiChatMessageTextContent",
              "required": [
                "content_type",
                "text"
              ],
              "type": "object",
              "properties": {
                "content_type": {
                  "title": "Content Type",
                  "enum": [
                    "text"
                  ],
                  "type": "string"
                },
                "text": {
                  "title": "Text",
                  "type": "string"
                }
              }
            },
            "metadata": {
              "title": "Metadata",
              "anyOf": [
                {
                  "title": "OpenaiWebChatMessageMetadata",
                  "required": [
                    "source"
                  ],
                  "type": "object",
                  "properties": {
                    "source": {
                      "title": "Source",
                      "enum": [
                        "openai_web"
                      ],
                      "type": "string"
                    },
                    "finish_details": {
                      "title": "Finish Details",
                      "type": "object"
                    },
                    "weight": {
                      "title": "Weight",
                      "type": "number"
                    },
                    "end_turn": {
                      "title": "End Turn",
                      "type": "boolean"
                    },
                    "message_status": {
                      "title": "Message Status",
                      "type": "string"
                    },
                    "recipient": {
                      "title": "Recipient",
                      "anyOf": [
                        {
                          "enum": [
                            "all",
                            "browser"
                          ],
                          "type": "string"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "fallback_content": {
                      "title": "Fallback Content"
                    },
                    "invoked_plugin": {
                      "title": "OpenaiWebChatMessageMetadataPlugin",
                      "type": "object",
                      "properties": {
                        "http_response_status": {
                          "title": "Http Response Status",
                          "type": "integer"
                        },
                        "namespace": {
                          "title": "Namespace",
                          "type": "string"
                        },
                        "plugin_id": {
                          "title": "Plugin Id",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "type": "string"
                        }
                      }
                    },
                    "command": {
                      "title": "Command",
                      "anyOf": [
                        {
                          "enum": [
                            "search"
                          ],
                          "type": "string"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "args": {
                      "title": "Args",
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "status": {
                      "title": "Status",
                      "anyOf": [
                        {
                          "enum": [
                            "finished"
                          ],
                          "type": "string"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "_cite_metadata": {
                      "title": "OpenaiWebChatMessageMetadataCite",
                      "type": "object",
                      "properties": {
                        "citation_format": {
                          "title": "Citation Format",
                          "type": "object"
                        },
                        "metadata_list": {
                          "title": "Metadata List",
                          "type": "array",
                          "items": {
                            "title": "OpenaiWebChatMessageMetadataCiteData",
                            "type": "object",
                            "properties": {
                              "title": {
                                "title": "Title",
                                "type": "string"
                              },
                              "url": {
                                "title": "Url",
                                "type": "string"
                              },
                              "text": {
                                "title": "Text",
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "citations": {
                      "title": "Citations",
                      "type": "array",
                      "items": {
                        "title": "OpenaiWebChatMessageMetadataCitation",
                        "type": "object",
                        "properties": {
                          "start_ix": {
                            "title": "Start Ix",
                            "type": "integer"
                          },
                          "end_ix": {
                            "title": "End Ix",
                            "type": "integer"
                          },
                          "metadata": {
                            "title": "OpenaiWebChatMessageMetadataCiteData",
                            "type": "object",
                            "properties": {
                              "title": {
                                "title": "Title",
                                "type": "string"
                              },
                              "url": {
                                "title": "Url",
                                "type": "string"
                              },
                              "text": {
                                "title": "Text",
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "title": "OpenaiApiChatMessageMetadata",
                  "required": [
                    "source"
                  ],
                  "type": "object",
                  "properties": {
                    "source": {
                      "title": "Source",
                      "enum": [
                        "openai_api"
                      ],
                      "type": "string"
                    },
                    "usage": {
                      "title": "OpenaiChatResponseUsage",
                      "type": "object",
                      "properties": {
                        "prompt_tokens": {
                          "title": "Prompt Tokens",
                          "type": "integer"
                        },
                        "completion_tokens": {
                          "title": "Completion Tokens",
                          "type": "integer"
                        }
                      }
                    },
                    "finish_reason": {
                      "title": "Finish Reason",
                      "type": "string"
                    }
                  }
                }
              ]
            }
          }
        }
      },
      "current_node": {
        "title": "Current Node",
        "type": "string",
        "format": "uuid"
      },
      "current_model": {
        "title": "Current Model",
        "type": "string"
      },
      "metadata": {
        "title": "Metadata",
        "anyOf": [
          {
            "title": "OpenaiWebConversationHistoryMeta",
            "required": [
              "source"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_web"
                ],
                "type": "string"
              },
              "moderation_results": {
                "title": "Moderation Results",
                "type": "array",
                "items": {}
              },
              "plugin_ids": {
                "title": "Plugin Ids",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          {
            "title": "OpenaiApiConversationHistoryMeta",
            "required": [
              "source"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_api"
                ],
                "type": "string"
              }
            }
          }
        ]
      }
    },
    "description": "Document Mapping class.\n\nFields:\n\n- `id` - MongoDB document ObjectID \"_id\" field.\nMapped to the PydanticObjectId class\n\nInherited from:\n\n- Pydantic BaseModel\n- [UpdateMethods](https://roman-right.github.io/beanie/api/interfaces/#aggregatemethods)"
  },
  "OpenaiApiConversationHistoryMeta": {
    "title": "OpenaiApiConversationHistoryMeta",
    "required": [
      "source"
    ],
    "type": "object",
    "properties": {
      "source": {
        "title": "Source",
        "enum": [
          "openai_api"
        ],
        "type": "string"
      }
    }
  },
  "OpenaiApiConversationSchema": {
    "title": "OpenaiApiConversationSchema",
    "required": [
      "source"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer",
        "default": -1
      },
      "source": {
        "title": "Source",
        "enum": [
          "openai_api"
        ],
        "type": "string"
      },
      "conversation_id": {
        "title": "Conversation Id",
        "type": "string",
        "format": "uuid"
      },
      "title": {
        "title": "Title",
        "type": "string"
      },
      "user_id": {
        "title": "User Id",
        "type": "integer"
      },
      "is_valid": {
        "title": "Is Valid",
        "type": "boolean",
        "default": true
      },
      "current_model": {
        "title": "Current Model",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "update_time": {
        "title": "Update Time",
        "type": "string",
        "format": "date-time"
      }
    }
  },
  "OpenaiApiPerModelAskCount": {
    "title": "OpenaiApiPerModelAskCount",
    "type": "object",
    "additionalProperties": {
      "type": "integer"
    },
    "default": {
      "gpt_3_5": 0,
      "gpt_4": 0
    }
  },
  "OpenaiApiSetting": {
    "title": "OpenaiApiSetting",
    "type": "object",
    "properties": {
      "enabled": {
        "title": "Enabled",
        "type": "boolean",
        "default": true
      },
      "openai_base_url": {
        "title": "Openai Base Url",
        "type": "string",
        "default": "https://api.openai.com/v1/"
      },
      "proxy": {
        "title": "Proxy",
        "type": "string"
      },
      "connect_timeout": {
        "title": "Connect Timeout",
        "minimum": 1,
        "type": "integer",
        "default": 10
      },
      "read_timeout": {
        "title": "Read Timeout",
        "minimum": 1,
        "type": "integer",
        "default": 20
      },
      "enabled_models": {
        "type": "array",
        "items": {
          "title": "OpenaiApiChatModels",
          "enum": [
            "gpt_3_5",
            "gpt_4"
          ],
          "type": "string",
          "description": "An enumeration."
        },
        "default": [
          "gpt_3_5",
          "gpt_4"
        ]
      },
      "model_code_mapping": {
        "title": "Model Code Mapping",
        "type": "object",
        "additionalProperties": {
          "type": "string"
        },
        "default": {
          "gpt_3_5": "gpt-3.5-turbo",
          "gpt_4": "gpt-4"
        }
      }
    }
  },
  "OpenaiApiSourceSettingSchema": {
    "title": "OpenaiApiSourceSettingSchema",
    "required": [
      "allow_to_use",
      "max_conv_count",
      "total_ask_count",
      "rate_limits",
      "daily_available_time_slots",
      "available_models",
      "per_model_ask_count",
      "allow_custom_openai_api",
      "custom_openai_api_settings"
    ],
    "type": "object",
    "properties": {
      "allow_to_use": {
        "title": "Allow To Use",
        "type": "boolean"
      },
      "valid_until": {
        "title": "Valid Until",
        "type": "string",
        "format": "date-time"
      },
      "max_conv_count": {
        "title": "Max Conv Count",
        "type": "integer"
      },
      "total_ask_count": {
        "title": "Total Ask Count",
        "type": "integer"
      },
      "rate_limits": {
        "title": "Rate Limits",
        "type": "array",
        "items": {
          "title": "TimeWindowRateLimit",
          "required": [
            "window_seconds",
            "max_requests"
          ],
          "type": "object",
          "properties": {
            "window_seconds": {
              "title": "Window Seconds",
              "type": "integer",
              "description": "时间窗口大小，单位为秒"
            },
            "max_requests": {
              "title": "Max Requests",
              "type": "integer",
              "description": "在给定时间窗口内最多的请求次数"
            }
          }
        }
      },
      "daily_available_time_slots": {
        "title": "Daily Available Time Slots",
        "type": "array",
        "items": {
          "title": "DailyTimeSlot",
          "required": [
            "start_time",
            "end_time"
          ],
          "type": "object",
          "properties": {
            "start_time": {
              "title": "Start Time",
              "type": "string",
              "description": "每天可使用的开始时间",
              "format": "time"
            },
            "end_time": {
              "title": "End Time",
              "type": "string",
              "description": "每天可使用的结束时间",
              "format": "time"
            }
          }
        }
      },
      "available_models": {
        "type": "array",
        "items": {
          "title": "OpenaiApiChatModels",
          "enum": [
            "gpt_3_5",
            "gpt_4"
          ],
          "type": "string",
          "description": "An enumeration."
        }
      },
      "per_model_ask_count": {
        "title": "OpenaiApiPerModelAskCount",
        "type": "object",
        "additionalProperties": {
          "type": "integer"
        },
        "default": {
          "gpt_3_5": 0,
          "gpt_4": 0
        }
      },
      "allow_custom_openai_api": {
        "title": "Allow Custom Openai Api",
        "type": "boolean"
      },
      "custom_openai_api_settings": {
        "title": "CustomOpenaiApiSettings",
        "type": "object",
        "properties": {
          "url": {
            "title": "Url",
            "type": "string"
          },
          "key": {
            "title": "Key",
            "type": "string"
          }
        }
      }
    }
  },
  "OpenaiChatPlugin": {
    "title": "OpenaiChatPlugin",
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "string"
      },
      "namespace": {
        "title": "Namespace",
        "type": "string"
      },
      "manifest": {
        "title": "OpenaiChatPluginManifest",
        "type": "object",
        "properties": {
          "api": {
            "title": "Api",
            "type": "object"
          },
          "auth": {
            "title": "Auth",
            "type": "object"
          },
          "logo_url": {
            "title": "Logo Url",
            "type": "string"
          },
          "contact_email": {
            "title": "Contact Email",
            "type": "string"
          },
          "schema_version": {
            "title": "Schema Version",
            "type": "string"
          },
          "name_for_model": {
            "title": "Name For Model",
            "type": "string"
          },
          "name_for_human": {
            "title": "Name For Human",
            "type": "string"
          },
          "description_for_model": {
            "title": "Description For Model",
            "type": "string"
          },
          "description_for_human": {
            "title": "Description For Human",
            "type": "string"
          },
          "legal_info_url": {
            "title": "Legal Info Url",
            "type": "string"
          }
        }
      },
      "categories": {
        "title": "Categories",
        "type": "array",
        "items": {
          "title": "OpenaiChatPluginCategory",
          "type": "object",
          "properties": {
            "id": {
              "title": "Id",
              "type": "string"
            },
            "title": {
              "title": "Title",
              "type": "string"
            }
          }
        }
      },
      "domain": {
        "title": "Domain",
        "type": "string"
      },
      "status": {
        "title": "Status",
        "anyOf": [
          {
            "enum": [
              "approved"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "user_settings": {
        "title": "User Settings",
        "anyOf": [
          {
            "title": "OpenaiChatPluginUserSettings",
            "type": "object",
            "properties": {
              "is_authenticated": {
                "title": "Is Authenticated",
                "type": "boolean"
              },
              "is_installed": {
                "title": "Is Installed",
                "type": "boolean"
              }
            }
          },
          {
            "type": "object"
          }
        ]
      },
      "oauth_client_id": {
        "title": "Oauth Client Id",
        "type": "string"
      }
    }
  },
  "OpenaiChatPluginCategory": {
    "title": "OpenaiChatPluginCategory",
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "string"
      },
      "title": {
        "title": "Title",
        "type": "string"
      }
    }
  },
  "OpenaiChatPluginManifest": {
    "title": "OpenaiChatPluginManifest",
    "type": "object",
    "properties": {
      "api": {
        "title": "Api",
        "type": "object"
      },
      "auth": {
        "title": "Auth",
        "type": "object"
      },
      "logo_url": {
        "title": "Logo Url",
        "type": "string"
      },
      "contact_email": {
        "title": "Contact Email",
        "type": "string"
      },
      "schema_version": {
        "title": "Schema Version",
        "type": "string"
      },
      "name_for_model": {
        "title": "Name For Model",
        "type": "string"
      },
      "name_for_human": {
        "title": "Name For Human",
        "type": "string"
      },
      "description_for_model": {
        "title": "Description For Model",
        "type": "string"
      },
      "description_for_human": {
        "title": "Description For Human",
        "type": "string"
      },
      "legal_info_url": {
        "title": "Legal Info Url",
        "type": "string"
      }
    }
  },
  "OpenaiChatPluginUserSettings": {
    "title": "OpenaiChatPluginUserSettings",
    "type": "object",
    "properties": {
      "is_authenticated": {
        "title": "Is Authenticated",
        "type": "boolean"
      },
      "is_installed": {
        "title": "Is Installed",
        "type": "boolean"
      }
    }
  },
  "OpenaiChatResponseUsage": {
    "title": "OpenaiChatResponseUsage",
    "type": "object",
    "properties": {
      "prompt_tokens": {
        "title": "Prompt Tokens",
        "type": "integer"
      },
      "completion_tokens": {
        "title": "Completion Tokens",
        "type": "integer"
      }
    }
  },
  "OpenaiWebAskLogMeta": {
    "title": "OpenaiWebAskLogMeta",
    "required": [
      "source",
      "model"
    ],
    "type": "object",
    "properties": {
      "source": {
        "title": "Source",
        "enum": [
          "openai_web"
        ],
        "type": "string"
      },
      "model": {
        "title": "OpenaiWebChatModels",
        "enum": [
          "gpt_3_5",
          "gpt_3_5_mobile",
          "gpt_4",
          "gpt_4_mobile",
          "gpt_4_browsing",
          "gpt_4_plugins"
        ],
        "type": "string",
        "description": "An enumeration."
      }
    }
  },
  "OpenaiWebChatGPTSetting": {
    "title": "OpenaiWebChatGPTSetting",
    "type": "object",
    "properties": {
      "enabled": {
        "title": "Enabled",
        "type": "boolean",
        "default": true
      },
      "is_plus_account": {
        "title": "Is Plus Account",
        "type": "boolean",
        "default": true
      },
      "chatgpt_base_url": {
        "title": "Chatgpt Base Url",
        "type": "string"
      },
      "proxy": {
        "title": "Proxy",
        "type": "string"
      },
      "common_timeout": {
        "title": "Common Timeout",
        "minimum": 1,
        "type": "integer",
        "default": 10
      },
      "ask_timeout": {
        "title": "Ask Timeout",
        "minimum": 1,
        "type": "integer",
        "default": 600
      },
      "enabled_models": {
        "type": "array",
        "items": {
          "title": "OpenaiWebChatModels",
          "enum": [
            "gpt_3_5",
            "gpt_3_5_mobile",
            "gpt_4",
            "gpt_4_mobile",
            "gpt_4_browsing",
            "gpt_4_plugins"
          ],
          "type": "string",
          "description": "An enumeration."
        },
        "default": [
          "gpt_3_5",
          "gpt_4",
          "gpt_4_browsing",
          "gpt_4_plugins"
        ]
      },
      "model_code_mapping": {
        "title": "Model Code Mapping",
        "type": "object",
        "additionalProperties": {
          "type": "string"
        },
        "default": {
          "gpt_3_5": "text-davinci-002-render-sha",
          "gpt_3_5_mobile": "text-davinci-002-render-sha-mobile",
          "gpt_4": "gpt-4",
          "gpt_4_mobile": "gpt-4-mobile",
          "gpt_4_browsing": "gpt-4-browsing",
          "gpt_4_plugins": "gpt-4-plugins"
        }
      }
    }
  },
  "OpenaiWebChatMessage": {
    "title": "OpenaiWebChatMessage",
    "required": [
      "id",
      "source",
      "role",
      "children"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "string",
        "format": "uuid"
      },
      "source": {
        "title": "Source",
        "enum": [
          "openai_web"
        ],
        "type": "string"
      },
      "role": {
        "title": "Role",
        "anyOf": [
          {
            "enum": [
              "system",
              "user",
              "assistant",
              "tool"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "author_name": {
        "title": "Author Name",
        "anyOf": [
          {
            "enum": [
              "browser"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "model": {
        "title": "Model",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "parent": {
        "title": "Parent",
        "type": "string",
        "format": "uuid"
      },
      "children": {
        "title": "Children",
        "type": "array",
        "items": {
          "type": "string",
          "format": "uuid"
        }
      },
      "content": {
        "title": "Content",
        "anyOf": [
          {
            "title": "OpenaiWebChatMessageTextContent",
            "required": [
              "content_type"
            ],
            "type": "object",
            "properties": {
              "content_type": {
                "title": "Content Type",
                "enum": [
                  "text"
                ],
                "type": "string"
              },
              "parts": {
                "title": "Parts",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          {
            "title": "OpenaiWebChatMessageCodeContent",
            "required": [
              "content_type"
            ],
            "type": "object",
            "properties": {
              "content_type": {
                "title": "Content Type",
                "enum": [
                  "code"
                ],
                "type": "string"
              },
              "language": {
                "title": "Language",
                "type": "string"
              },
              "text": {
                "title": "Text",
                "type": "string"
              }
            }
          },
          {
            "title": "OpenaiWebChatMessageStderrContent",
            "required": [
              "content_type"
            ],
            "type": "object",
            "properties": {
              "content_type": {
                "title": "Content Type",
                "enum": [
                  "stderr"
                ],
                "type": "string"
              },
              "text": {
                "title": "Text",
                "type": "string"
              }
            }
          },
          {
            "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent",
            "required": [
              "content_type"
            ],
            "type": "object",
            "properties": {
              "content_type": {
                "title": "Content Type",
                "enum": [
                  "tether_browsing_display"
                ],
                "type": "string"
              },
              "result": {
                "title": "Result",
                "type": "string"
              }
            }
          },
          {
            "title": "OpenaiWebChatMessageTetherQuoteContent",
            "required": [
              "content_type"
            ],
            "type": "object",
            "properties": {
              "content_type": {
                "title": "Content Type",
                "enum": [
                  "tether_quote"
                ],
                "type": "string"
              },
              "url": {
                "title": "Url",
                "type": "string"
              },
              "domain": {
                "title": "Domain",
                "type": "string"
              },
              "text": {
                "title": "Text",
                "type": "string"
              },
              "title": {
                "title": "Title",
                "type": "string"
              }
            }
          },
          {
            "title": "OpenaiWebChatMessageSystemErrorContent",
            "required": [
              "content_type"
            ],
            "type": "object",
            "properties": {
              "content_type": {
                "title": "Content Type",
                "enum": [
                  "system_error"
                ],
                "type": "string"
              },
              "name": {
                "title": "Name",
                "anyOf": [
                  {
                    "enum": [
                      "tool_error"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "text": {
                "title": "Text",
                "type": "string"
              }
            }
          }
        ]
      },
      "metadata": {
        "title": "Metadata",
        "anyOf": [
          {
            "title": "OpenaiWebChatMessageMetadata",
            "required": [
              "source"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_web"
                ],
                "type": "string"
              },
              "finish_details": {
                "title": "Finish Details",
                "type": "object"
              },
              "weight": {
                "title": "Weight",
                "type": "number"
              },
              "end_turn": {
                "title": "End Turn",
                "type": "boolean"
              },
              "message_status": {
                "title": "Message Status",
                "type": "string"
              },
              "recipient": {
                "title": "Recipient",
                "anyOf": [
                  {
                    "enum": [
                      "all",
                      "browser"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "fallback_content": {
                "title": "Fallback Content"
              },
              "invoked_plugin": {
                "title": "OpenaiWebChatMessageMetadataPlugin",
                "type": "object",
                "properties": {
                  "http_response_status": {
                    "title": "Http Response Status",
                    "type": "integer"
                  },
                  "namespace": {
                    "title": "Namespace",
                    "type": "string"
                  },
                  "plugin_id": {
                    "title": "Plugin Id",
                    "type": "string"
                  },
                  "type": {
                    "title": "Type",
                    "type": "string"
                  }
                }
              },
              "command": {
                "title": "Command",
                "anyOf": [
                  {
                    "enum": [
                      "search"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "args": {
                "title": "Args",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "status": {
                "title": "Status",
                "anyOf": [
                  {
                    "enum": [
                      "finished"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "_cite_metadata": {
                "title": "OpenaiWebChatMessageMetadataCite",
                "type": "object",
                "properties": {
                  "citation_format": {
                    "title": "Citation Format",
                    "type": "object"
                  },
                  "metadata_list": {
                    "title": "Metadata List",
                    "type": "array",
                    "items": {
                      "title": "OpenaiWebChatMessageMetadataCiteData",
                      "type": "object",
                      "properties": {
                        "title": {
                          "title": "Title",
                          "type": "string"
                        },
                        "url": {
                          "title": "Url",
                          "type": "string"
                        },
                        "text": {
                          "title": "Text",
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              },
              "citations": {
                "title": "Citations",
                "type": "array",
                "items": {
                  "title": "OpenaiWebChatMessageMetadataCitation",
                  "type": "object",
                  "properties": {
                    "start_ix": {
                      "title": "Start Ix",
                      "type": "integer"
                    },
                    "end_ix": {
                      "title": "End Ix",
                      "type": "integer"
                    },
                    "metadata": {
                      "title": "OpenaiWebChatMessageMetadataCiteData",
                      "type": "object",
                      "properties": {
                        "title": {
                          "title": "Title",
                          "type": "string"
                        },
                        "url": {
                          "title": "Url",
                          "type": "string"
                        },
                        "text": {
                          "title": "Text",
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "title": "OpenaiApiChatMessageMetadata",
            "required": [
              "source"
            ],
            "type": "object",
            "properties": {
              "source": {
                "title": "Source",
                "enum": [
                  "openai_api"
                ],
                "type": "string"
              },
              "usage": {
                "title": "OpenaiChatResponseUsage",
                "type": "object",
                "properties": {
                  "prompt_tokens": {
                    "title": "Prompt Tokens",
                    "type": "integer"
                  },
                  "completion_tokens": {
                    "title": "Completion Tokens",
                    "type": "integer"
                  }
                }
              },
              "finish_reason": {
                "title": "Finish Reason",
                "type": "string"
              }
            }
          }
        ]
      }
    }
  },
  "OpenaiWebChatMessageCodeContent": {
    "title": "OpenaiWebChatMessageCodeContent",
    "required": [
      "content_type"
    ],
    "type": "object",
    "properties": {
      "content_type": {
        "title": "Content Type",
        "enum": [
          "code"
        ],
        "type": "string"
      },
      "language": {
        "title": "Language",
        "type": "string"
      },
      "text": {
        "title": "Text",
        "type": "string"
      }
    }
  },
  "OpenaiWebChatMessageMetadata": {
    "title": "OpenaiWebChatMessageMetadata",
    "required": [
      "source"
    ],
    "type": "object",
    "properties": {
      "source": {
        "title": "Source",
        "enum": [
          "openai_web"
        ],
        "type": "string"
      },
      "finish_details": {
        "title": "Finish Details",
        "type": "object"
      },
      "weight": {
        "title": "Weight",
        "type": "number"
      },
      "end_turn": {
        "title": "End Turn",
        "type": "boolean"
      },
      "message_status": {
        "title": "Message Status",
        "type": "string"
      },
      "recipient": {
        "title": "Recipient",
        "anyOf": [
          {
            "enum": [
              "all",
              "browser"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "fallback_content": {
        "title": "Fallback Content"
      },
      "invoked_plugin": {
        "title": "OpenaiWebChatMessageMetadataPlugin",
        "type": "object",
        "properties": {
          "http_response_status": {
            "title": "Http Response Status",
            "type": "integer"
          },
          "namespace": {
            "title": "Namespace",
            "type": "string"
          },
          "plugin_id": {
            "title": "Plugin Id",
            "type": "string"
          },
          "type": {
            "title": "Type",
            "type": "string"
          }
        }
      },
      "command": {
        "title": "Command",
        "anyOf": [
          {
            "enum": [
              "search"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "args": {
        "title": "Args",
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "status": {
        "title": "Status",
        "anyOf": [
          {
            "enum": [
              "finished"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "_cite_metadata": {
        "title": "OpenaiWebChatMessageMetadataCite",
        "type": "object",
        "properties": {
          "citation_format": {
            "title": "Citation Format",
            "type": "object"
          },
          "metadata_list": {
            "title": "Metadata List",
            "type": "array",
            "items": {
              "title": "OpenaiWebChatMessageMetadataCiteData",
              "type": "object",
              "properties": {
                "title": {
                  "title": "Title",
                  "type": "string"
                },
                "url": {
                  "title": "Url",
                  "type": "string"
                },
                "text": {
                  "title": "Text",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "citations": {
        "title": "Citations",
        "type": "array",
        "items": {
          "title": "OpenaiWebChatMessageMetadataCitation",
          "type": "object",
          "properties": {
            "start_ix": {
              "title": "Start Ix",
              "type": "integer"
            },
            "end_ix": {
              "title": "End Ix",
              "type": "integer"
            },
            "metadata": {
              "title": "OpenaiWebChatMessageMetadataCiteData",
              "type": "object",
              "properties": {
                "title": {
                  "title": "Title",
                  "type": "string"
                },
                "url": {
                  "title": "Url",
                  "type": "string"
                },
                "text": {
                  "title": "Text",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "OpenaiWebChatMessageMetadataCitation": {
    "title": "OpenaiWebChatMessageMetadataCitation",
    "type": "object",
    "properties": {
      "start_ix": {
        "title": "Start Ix",
        "type": "integer"
      },
      "end_ix": {
        "title": "End Ix",
        "type": "integer"
      },
      "metadata": {
        "title": "OpenaiWebChatMessageMetadataCiteData",
        "type": "object",
        "properties": {
          "title": {
            "title": "Title",
            "type": "string"
          },
          "url": {
            "title": "Url",
            "type": "string"
          },
          "text": {
            "title": "Text",
            "type": "string"
          }
        }
      }
    }
  },
  "OpenaiWebChatMessageMetadataCite": {
    "title": "OpenaiWebChatMessageMetadataCite",
    "type": "object",
    "properties": {
      "citation_format": {
        "title": "Citation Format",
        "type": "object"
      },
      "metadata_list": {
        "title": "Metadata List",
        "type": "array",
        "items": {
          "title": "OpenaiWebChatMessageMetadataCiteData",
          "type": "object",
          "properties": {
            "title": {
              "title": "Title",
              "type": "string"
            },
            "url": {
              "title": "Url",
              "type": "string"
            },
            "text": {
              "title": "Text",
              "type": "string"
            }
          }
        }
      }
    }
  },
  "OpenaiWebChatMessageMetadataCiteData": {
    "title": "OpenaiWebChatMessageMetadataCiteData",
    "type": "object",
    "properties": {
      "title": {
        "title": "Title",
        "type": "string"
      },
      "url": {
        "title": "Url",
        "type": "string"
      },
      "text": {
        "title": "Text",
        "type": "string"
      }
    }
  },
  "OpenaiWebChatMessageMetadataPlugin": {
    "title": "OpenaiWebChatMessageMetadataPlugin",
    "type": "object",
    "properties": {
      "http_response_status": {
        "title": "Http Response Status",
        "type": "integer"
      },
      "namespace": {
        "title": "Namespace",
        "type": "string"
      },
      "plugin_id": {
        "title": "Plugin Id",
        "type": "string"
      },
      "type": {
        "title": "Type",
        "type": "string"
      }
    }
  },
  "OpenaiWebChatMessageStderrContent": {
    "title": "OpenaiWebChatMessageStderrContent",
    "required": [
      "content_type"
    ],
    "type": "object",
    "properties": {
      "content_type": {
        "title": "Content Type",
        "enum": [
          "stderr"
        ],
        "type": "string"
      },
      "text": {
        "title": "Text",
        "type": "string"
      }
    }
  },
  "OpenaiWebChatMessageSystemErrorContent": {
    "title": "OpenaiWebChatMessageSystemErrorContent",
    "required": [
      "content_type"
    ],
    "type": "object",
    "properties": {
      "content_type": {
        "title": "Content Type",
        "enum": [
          "system_error"
        ],
        "type": "string"
      },
      "name": {
        "title": "Name",
        "anyOf": [
          {
            "enum": [
              "tool_error"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "text": {
        "title": "Text",
        "type": "string"
      }
    }
  },
  "OpenaiWebChatMessageTetherBrowsingDisplayContent": {
    "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent",
    "required": [
      "content_type"
    ],
    "type": "object",
    "properties": {
      "content_type": {
        "title": "Content Type",
        "enum": [
          "tether_browsing_display"
        ],
        "type": "string"
      },
      "result": {
        "title": "Result",
        "type": "string"
      }
    }
  },
  "OpenaiWebChatMessageTetherQuoteContent": {
    "title": "OpenaiWebChatMessageTetherQuoteContent",
    "required": [
      "content_type"
    ],
    "type": "object",
    "properties": {
      "content_type": {
        "title": "Content Type",
        "enum": [
          "tether_quote"
        ],
        "type": "string"
      },
      "url": {
        "title": "Url",
        "type": "string"
      },
      "domain": {
        "title": "Domain",
        "type": "string"
      },
      "text": {
        "title": "Text",
        "type": "string"
      },
      "title": {
        "title": "Title",
        "type": "string"
      }
    }
  },
  "OpenaiWebChatMessageTextContent": {
    "title": "OpenaiWebChatMessageTextContent",
    "required": [
      "content_type"
    ],
    "type": "object",
    "properties": {
      "content_type": {
        "title": "Content Type",
        "enum": [
          "text"
        ],
        "type": "string"
      },
      "parts": {
        "title": "Parts",
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    }
  },
  "OpenaiWebChatModels": {
    "title": "OpenaiWebChatModels",
    "enum": [
      "gpt_3_5",
      "gpt_3_5_mobile",
      "gpt_4",
      "gpt_4_mobile",
      "gpt_4_browsing",
      "gpt_4_plugins"
    ],
    "type": "string",
    "description": "An enumeration."
  },
  "OpenaiWebChatStatus": {
    "title": "OpenaiWebChatStatus",
    "enum": [
      "asking",
      "queueing",
      "idling"
    ],
    "type": "string",
    "description": "An enumeration."
  },
  "OpenaiWebConversationHistoryDocument": {
    "title": "OpenaiWebConversationHistoryDocument",
    "required": [
      "source",
      "title",
      "create_time",
      "update_time",
      "mapping"
    ],
    "type": "object",
    "properties": {
      "_id": {
        "title": " Id",
        "type": "string",
        "format": "uuid"
      },
      "source": {
        "title": "Source",
        "enum": [
          "openai_web"
        ],
        "type": "string"
      },
      "title": {
        "title": "Title",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "update_time": {
        "title": "Update Time",
        "type": "string",
        "format": "date-time"
      },
      "mapping": {
        "title": "Mapping",
        "type": "object",
        "additionalProperties": {
          "title": "OpenaiWebChatMessage",
          "required": [
            "id",
            "source",
            "role",
            "children"
          ],
          "type": "object",
          "properties": {
            "id": {
              "title": "Id",
              "type": "string",
              "format": "uuid"
            },
            "source": {
              "title": "Source",
              "enum": [
                "openai_web"
              ],
              "type": "string"
            },
            "role": {
              "title": "Role",
              "anyOf": [
                {
                  "enum": [
                    "system",
                    "user",
                    "assistant",
                    "tool"
                  ],
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ]
            },
            "author_name": {
              "title": "Author Name",
              "anyOf": [
                {
                  "enum": [
                    "browser"
                  ],
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ]
            },
            "model": {
              "title": "Model",
              "type": "string"
            },
            "create_time": {
              "title": "Create Time",
              "type": "string",
              "format": "date-time"
            },
            "parent": {
              "title": "Parent",
              "type": "string",
              "format": "uuid"
            },
            "children": {
              "title": "Children",
              "type": "array",
              "items": {
                "type": "string",
                "format": "uuid"
              }
            },
            "content": {
              "title": "Content",
              "anyOf": [
                {
                  "title": "OpenaiWebChatMessageTextContent",
                  "required": [
                    "content_type"
                  ],
                  "type": "object",
                  "properties": {
                    "content_type": {
                      "title": "Content Type",
                      "enum": [
                        "text"
                      ],
                      "type": "string"
                    },
                    "parts": {
                      "title": "Parts",
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                },
                {
                  "title": "OpenaiWebChatMessageCodeContent",
                  "required": [
                    "content_type"
                  ],
                  "type": "object",
                  "properties": {
                    "content_type": {
                      "title": "Content Type",
                      "enum": [
                        "code"
                      ],
                      "type": "string"
                    },
                    "language": {
                      "title": "Language",
                      "type": "string"
                    },
                    "text": {
                      "title": "Text",
                      "type": "string"
                    }
                  }
                },
                {
                  "title": "OpenaiWebChatMessageStderrContent",
                  "required": [
                    "content_type"
                  ],
                  "type": "object",
                  "properties": {
                    "content_type": {
                      "title": "Content Type",
                      "enum": [
                        "stderr"
                      ],
                      "type": "string"
                    },
                    "text": {
                      "title": "Text",
                      "type": "string"
                    }
                  }
                },
                {
                  "title": "OpenaiWebChatMessageTetherBrowsingDisplayContent",
                  "required": [
                    "content_type"
                  ],
                  "type": "object",
                  "properties": {
                    "content_type": {
                      "title": "Content Type",
                      "enum": [
                        "tether_browsing_display"
                      ],
                      "type": "string"
                    },
                    "result": {
                      "title": "Result",
                      "type": "string"
                    }
                  }
                },
                {
                  "title": "OpenaiWebChatMessageTetherQuoteContent",
                  "required": [
                    "content_type"
                  ],
                  "type": "object",
                  "properties": {
                    "content_type": {
                      "title": "Content Type",
                      "enum": [
                        "tether_quote"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "title": "Url",
                      "type": "string"
                    },
                    "domain": {
                      "title": "Domain",
                      "type": "string"
                    },
                    "text": {
                      "title": "Text",
                      "type": "string"
                    },
                    "title": {
                      "title": "Title",
                      "type": "string"
                    }
                  }
                },
                {
                  "title": "OpenaiWebChatMessageSystemErrorContent",
                  "required": [
                    "content_type"
                  ],
                  "type": "object",
                  "properties": {
                    "content_type": {
                      "title": "Content Type",
                      "enum": [
                        "system_error"
                      ],
                      "type": "string"
                    },
                    "name": {
                      "title": "Name",
                      "anyOf": [
                        {
                          "enum": [
                            "tool_error"
                          ],
                          "type": "string"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "text": {
                      "title": "Text",
                      "type": "string"
                    }
                  }
                }
              ]
            },
            "metadata": {
              "title": "Metadata",
              "anyOf": [
                {
                  "title": "OpenaiWebChatMessageMetadata",
                  "required": [
                    "source"
                  ],
                  "type": "object",
                  "properties": {
                    "source": {
                      "title": "Source",
                      "enum": [
                        "openai_web"
                      ],
                      "type": "string"
                    },
                    "finish_details": {
                      "title": "Finish Details",
                      "type": "object"
                    },
                    "weight": {
                      "title": "Weight",
                      "type": "number"
                    },
                    "end_turn": {
                      "title": "End Turn",
                      "type": "boolean"
                    },
                    "message_status": {
                      "title": "Message Status",
                      "type": "string"
                    },
                    "recipient": {
                      "title": "Recipient",
                      "anyOf": [
                        {
                          "enum": [
                            "all",
                            "browser"
                          ],
                          "type": "string"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "fallback_content": {
                      "title": "Fallback Content"
                    },
                    "invoked_plugin": {
                      "title": "OpenaiWebChatMessageMetadataPlugin",
                      "type": "object",
                      "properties": {
                        "http_response_status": {
                          "title": "Http Response Status",
                          "type": "integer"
                        },
                        "namespace": {
                          "title": "Namespace",
                          "type": "string"
                        },
                        "plugin_id": {
                          "title": "Plugin Id",
                          "type": "string"
                        },
                        "type": {
                          "title": "Type",
                          "type": "string"
                        }
                      }
                    },
                    "command": {
                      "title": "Command",
                      "anyOf": [
                        {
                          "enum": [
                            "search"
                          ],
                          "type": "string"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "args": {
                      "title": "Args",
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "status": {
                      "title": "Status",
                      "anyOf": [
                        {
                          "enum": [
                            "finished"
                          ],
                          "type": "string"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "_cite_metadata": {
                      "title": "OpenaiWebChatMessageMetadataCite",
                      "type": "object",
                      "properties": {
                        "citation_format": {
                          "title": "Citation Format",
                          "type": "object"
                        },
                        "metadata_list": {
                          "title": "Metadata List",
                          "type": "array",
                          "items": {
                            "title": "OpenaiWebChatMessageMetadataCiteData",
                            "type": "object",
                            "properties": {
                              "title": {
                                "title": "Title",
                                "type": "string"
                              },
                              "url": {
                                "title": "Url",
                                "type": "string"
                              },
                              "text": {
                                "title": "Text",
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "citations": {
                      "title": "Citations",
                      "type": "array",
                      "items": {
                        "title": "OpenaiWebChatMessageMetadataCitation",
                        "type": "object",
                        "properties": {
                          "start_ix": {
                            "title": "Start Ix",
                            "type": "integer"
                          },
                          "end_ix": {
                            "title": "End Ix",
                            "type": "integer"
                          },
                          "metadata": {
                            "title": "OpenaiWebChatMessageMetadataCiteData",
                            "type": "object",
                            "properties": {
                              "title": {
                                "title": "Title",
                                "type": "string"
                              },
                              "url": {
                                "title": "Url",
                                "type": "string"
                              },
                              "text": {
                                "title": "Text",
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "title": "OpenaiApiChatMessageMetadata",
                  "required": [
                    "source"
                  ],
                  "type": "object",
                  "properties": {
                    "source": {
                      "title": "Source",
                      "enum": [
                        "openai_api"
                      ],
                      "type": "string"
                    },
                    "usage": {
                      "title": "OpenaiChatResponseUsage",
                      "type": "object",
                      "properties": {
                        "prompt_tokens": {
                          "title": "Prompt Tokens",
                          "type": "integer"
                        },
                        "completion_tokens": {
                          "title": "Completion Tokens",
                          "type": "integer"
                        }
                      }
                    },
                    "finish_reason": {
                      "title": "Finish Reason",
                      "type": "string"
                    }
                  }
                }
              ]
            }
          }
        }
      },
      "current_node": {
        "title": "Current Node",
        "type": "string",
        "format": "uuid"
      },
      "current_model": {
        "title": "Current Model",
        "type": "string"
      },
      "metadata": {
        "title": "OpenaiWebConversationHistoryMeta",
        "required": [
          "source"
        ],
        "type": "object",
        "properties": {
          "source": {
            "title": "Source",
            "enum": [
              "openai_web"
            ],
            "type": "string"
          },
          "moderation_results": {
            "title": "Moderation Results",
            "type": "array",
            "items": {}
          },
          "plugin_ids": {
            "title": "Plugin Ids",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "description": "Document Mapping class.\n\nFields:\n\n- `id` - MongoDB document ObjectID \"_id\" field.\nMapped to the PydanticObjectId class\n\nInherited from:\n\n- Pydantic BaseModel\n- [UpdateMethods](https://roman-right.github.io/beanie/api/interfaces/#aggregatemethods)"
  },
  "OpenaiWebConversationHistoryMeta": {
    "title": "OpenaiWebConversationHistoryMeta",
    "required": [
      "source"
    ],
    "type": "object",
    "properties": {
      "source": {
        "title": "Source",
        "enum": [
          "openai_web"
        ],
        "type": "string"
      },
      "moderation_results": {
        "title": "Moderation Results",
        "type": "array",
        "items": {}
      },
      "plugin_ids": {
        "title": "Plugin Ids",
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    }
  },
  "OpenaiWebConversationSchema": {
    "title": "OpenaiWebConversationSchema",
    "required": [
      "source"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer",
        "default": -1
      },
      "source": {
        "title": "Source",
        "enum": [
          "openai_web"
        ],
        "type": "string"
      },
      "conversation_id": {
        "title": "Conversation Id",
        "type": "string",
        "format": "uuid"
      },
      "title": {
        "title": "Title",
        "type": "string"
      },
      "user_id": {
        "title": "User Id",
        "type": "integer"
      },
      "is_valid": {
        "title": "Is Valid",
        "type": "boolean",
        "default": true
      },
      "current_model": {
        "title": "Current Model",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "update_time": {
        "title": "Update Time",
        "type": "string",
        "format": "date-time"
      }
    }
  },
  "OpenaiWebPerModelAskCount": {
    "title": "OpenaiWebPerModelAskCount",
    "type": "object",
    "additionalProperties": {
      "type": "integer"
    },
    "default": {
      "gpt_3_5": 0,
      "gpt_3_5_mobile": 0,
      "gpt_4": 0,
      "gpt_4_mobile": 0,
      "gpt_4_browsing": 0,
      "gpt_4_plugins": 0
    }
  },
  "OpenaiWebSourceSettingSchema": {
    "title": "OpenaiWebSourceSettingSchema",
    "required": [
      "allow_to_use",
      "max_conv_count",
      "total_ask_count",
      "rate_limits",
      "daily_available_time_slots",
      "available_models",
      "per_model_ask_count"
    ],
    "type": "object",
    "properties": {
      "allow_to_use": {
        "title": "Allow To Use",
        "type": "boolean"
      },
      "valid_until": {
        "title": "Valid Until",
        "type": "string",
        "format": "date-time"
      },
      "max_conv_count": {
        "title": "Max Conv Count",
        "type": "integer"
      },
      "total_ask_count": {
        "title": "Total Ask Count",
        "type": "integer"
      },
      "rate_limits": {
        "title": "Rate Limits",
        "type": "array",
        "items": {
          "title": "TimeWindowRateLimit",
          "required": [
            "window_seconds",
            "max_requests"
          ],
          "type": "object",
          "properties": {
            "window_seconds": {
              "title": "Window Seconds",
              "type": "integer",
              "description": "时间窗口大小，单位为秒"
            },
            "max_requests": {
              "title": "Max Requests",
              "type": "integer",
              "description": "在给定时间窗口内最多的请求次数"
            }
          }
        }
      },
      "daily_available_time_slots": {
        "title": "Daily Available Time Slots",
        "type": "array",
        "items": {
          "title": "DailyTimeSlot",
          "required": [
            "start_time",
            "end_time"
          ],
          "type": "object",
          "properties": {
            "start_time": {
              "title": "Start Time",
              "type": "string",
              "description": "每天可使用的开始时间",
              "format": "time"
            },
            "end_time": {
              "title": "End Time",
              "type": "string",
              "description": "每天可使用的结束时间",
              "format": "time"
            }
          }
        }
      },
      "available_models": {
        "type": "array",
        "items": {
          "title": "OpenaiWebChatModels",
          "enum": [
            "gpt_3_5",
            "gpt_3_5_mobile",
            "gpt_4",
            "gpt_4_mobile",
            "gpt_4_browsing",
            "gpt_4_plugins"
          ],
          "type": "string",
          "description": "An enumeration."
        }
      },
      "per_model_ask_count": {
        "title": "OpenaiWebPerModelAskCount",
        "type": "object",
        "additionalProperties": {
          "type": "integer"
        },
        "default": {
          "gpt_3_5": 0,
          "gpt_3_5_mobile": 0,
          "gpt_4": 0,
          "gpt_4_mobile": 0,
          "gpt_4_browsing": 0,
          "gpt_4_plugins": 0
        }
      }
    }
  },
  "RequestLogAggregation": {
    "title": "RequestLogAggregation",
    "required": [
      "_id",
      "count"
    ],
    "type": "object",
    "properties": {
      "_id": {
        "title": "RequestLogAggregationID",
        "type": "object",
        "properties": {
          "start_time": {
            "title": "Start Time",
            "type": "string",
            "format": "date-time"
          },
          "route_path": {
            "title": "Route Path",
            "type": "string"
          },
          "method": {
            "title": "Method",
            "type": "string"
          }
        }
      },
      "count": {
        "title": "Count",
        "type": "integer"
      },
      "user_ids": {
        "title": "User Ids",
        "type": "array",
        "items": {
          "type": "integer"
        }
      },
      "avg_elapsed_ms": {
        "title": "Avg Elapsed Ms",
        "type": "number"
      }
    }
  },
  "RequestLogAggregationID": {
    "title": "RequestLogAggregationID",
    "type": "object",
    "properties": {
      "start_time": {
        "title": "Start Time",
        "type": "string",
        "format": "date-time"
      },
      "route_path": {
        "title": "Route Path",
        "type": "string"
      },
      "method": {
        "title": "Method",
        "type": "string"
      }
    }
  },
  "StatsSetting": {
    "title": "StatsSetting",
    "type": "object",
    "properties": {
      "ask_stats_ttl": {
        "title": "Ask Stats Ttl",
        "type": "integer",
        "default": 7776000
      },
      "request_stats_ttl": {
        "title": "Request Stats Ttl",
        "type": "integer",
        "default": 2592000
      },
      "request_stats_filter_keywords": {
        "title": "Request Stats Filter Keywords",
        "type": "array",
        "items": {
          "type": "string"
        },
        "default": [
          "/status"
        ]
      }
    }
  },
  "SystemInfo": {
    "title": "SystemInfo",
    "required": [
      "startup_time",
      "total_user_count",
      "total_conversation_count",
      "valid_conversation_count"
    ],
    "type": "object",
    "properties": {
      "startup_time": {
        "title": "Startup Time",
        "type": "number"
      },
      "total_user_count": {
        "title": "Total User Count",
        "type": "integer"
      },
      "total_conversation_count": {
        "title": "Total Conversation Count",
        "type": "integer"
      },
      "valid_conversation_count": {
        "title": "Valid Conversation Count",
        "type": "integer"
      }
    }
  },
  "TimeWindowRateLimit": {
    "title": "TimeWindowRateLimit",
    "required": [
      "window_seconds",
      "max_requests"
    ],
    "type": "object",
    "properties": {
      "window_seconds": {
        "title": "Window Seconds",
        "type": "integer",
        "description": "时间窗口大小，单位为秒"
      },
      "max_requests": {
        "title": "Max Requests",
        "type": "integer",
        "description": "在给定时间窗口内最多的请求次数"
      }
    }
  },
  "UserCreate": {
    "title": "UserCreate",
    "required": [
      "email",
      "password",
      "username",
      "nickname"
    ],
    "type": "object",
    "properties": {
      "email": {
        "title": "Email",
        "type": "string",
        "format": "email"
      },
      "password": {
        "title": "Password",
        "type": "string"
      },
      "is_active": {
        "title": "Is Active",
        "type": "boolean",
        "default": true
      },
      "is_superuser": {
        "title": "Is Superuser",
        "type": "boolean",
        "default": false
      },
      "is_verified": {
        "title": "Is Verified",
        "type": "boolean",
        "default": false
      },
      "username": {
        "title": "Username",
        "type": "string"
      },
      "nickname": {
        "title": "Nickname",
        "type": "string"
      },
      "avatar": {
        "title": "Avatar",
        "type": "string"
      },
      "remark": {
        "title": "Remark",
        "type": "string"
      }
    }
  },
  "UserRead": {
    "title": "UserRead",
    "required": [
      "id",
      "email",
      "is_active",
      "is_superuser",
      "is_verified",
      "username",
      "nickname",
      "create_time",
      "setting"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer"
      },
      "email": {
        "title": "Email",
        "type": "string",
        "format": "email"
      },
      "is_active": {
        "title": "Is Active",
        "type": "boolean"
      },
      "is_superuser": {
        "title": "Is Superuser",
        "type": "boolean"
      },
      "is_verified": {
        "title": "Is Verified",
        "type": "boolean"
      },
      "username": {
        "title": "Username",
        "type": "string"
      },
      "nickname": {
        "title": "Nickname",
        "type": "string"
      },
      "last_active_time": {
        "title": "Last Active Time",
        "type": "string",
        "format": "date-time"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "avatar": {
        "title": "Avatar",
        "type": "string"
      },
      "setting": {
        "title": "UserSettingSchema",
        "required": [
          "credits",
          "openai_web_chat_status",
          "openai_web",
          "openai_api"
        ],
        "type": "object",
        "properties": {
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "user_id": {
            "title": "User Id",
            "type": "integer"
          },
          "credits": {
            "title": "Credits",
            "type": "number"
          },
          "openai_web_chat_status": {
            "title": "OpenaiWebChatStatus",
            "enum": [
              "asking",
              "queueing",
              "idling"
            ],
            "type": "string",
            "description": "An enumeration."
          },
          "openai_web": {
            "title": "OpenaiWebSourceSettingSchema",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count"
            ],
            "type": "object",
            "properties": {
              "allow_to_use": {
                "title": "Allow To Use",
                "type": "boolean"
              },
              "valid_until": {
                "title": "Valid Until",
                "type": "string",
                "format": "date-time"
              },
              "max_conv_count": {
                "title": "Max Conv Count",
                "type": "integer"
              },
              "total_ask_count": {
                "title": "Total Ask Count",
                "type": "integer"
              },
              "rate_limits": {
                "title": "Rate Limits",
                "type": "array",
                "items": {
                  "title": "TimeWindowRateLimit",
                  "required": [
                    "window_seconds",
                    "max_requests"
                  ],
                  "type": "object",
                  "properties": {
                    "window_seconds": {
                      "title": "Window Seconds",
                      "type": "integer",
                      "description": "时间窗口大小，单位为秒"
                    },
                    "max_requests": {
                      "title": "Max Requests",
                      "type": "integer",
                      "description": "在给定时间窗口内最多的请求次数"
                    }
                  }
                }
              },
              "daily_available_time_slots": {
                "title": "Daily Available Time Slots",
                "type": "array",
                "items": {
                  "title": "DailyTimeSlot",
                  "required": [
                    "start_time",
                    "end_time"
                  ],
                  "type": "object",
                  "properties": {
                    "start_time": {
                      "title": "Start Time",
                      "type": "string",
                      "description": "每天可使用的开始时间",
                      "format": "time"
                    },
                    "end_time": {
                      "title": "End Time",
                      "type": "string",
                      "description": "每天可使用的结束时间",
                      "format": "time"
                    }
                  }
                }
              },
              "available_models": {
                "type": "array",
                "items": {
                  "title": "OpenaiWebChatModels",
                  "enum": [
                    "gpt_3_5",
                    "gpt_3_5_mobile",
                    "gpt_4",
                    "gpt_4_mobile",
                    "gpt_4_browsing",
                    "gpt_4_plugins"
                  ],
                  "type": "string",
                  "description": "An enumeration."
                }
              },
              "per_model_ask_count": {
                "title": "OpenaiWebPerModelAskCount",
                "type": "object",
                "additionalProperties": {
                  "type": "integer"
                },
                "default": {
                  "gpt_3_5": 0,
                  "gpt_3_5_mobile": 0,
                  "gpt_4": 0,
                  "gpt_4_mobile": 0,
                  "gpt_4_browsing": 0,
                  "gpt_4_plugins": 0
                }
              }
            }
          },
          "openai_api": {
            "title": "OpenaiApiSourceSettingSchema",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count",
              "allow_custom_openai_api",
              "custom_openai_api_settings"
            ],
            "type": "object",
            "properties": {
              "allow_to_use": {
                "title": "Allow To Use",
                "type": "boolean"
              },
              "valid_until": {
                "title": "Valid Until",
                "type": "string",
                "format": "date-time"
              },
              "max_conv_count": {
                "title": "Max Conv Count",
                "type": "integer"
              },
              "total_ask_count": {
                "title": "Total Ask Count",
                "type": "integer"
              },
              "rate_limits": {
                "title": "Rate Limits",
                "type": "array",
                "items": {
                  "title": "TimeWindowRateLimit",
                  "required": [
                    "window_seconds",
                    "max_requests"
                  ],
                  "type": "object",
                  "properties": {
                    "window_seconds": {
                      "title": "Window Seconds",
                      "type": "integer",
                      "description": "时间窗口大小，单位为秒"
                    },
                    "max_requests": {
                      "title": "Max Requests",
                      "type": "integer",
                      "description": "在给定时间窗口内最多的请求次数"
                    }
                  }
                }
              },
              "daily_available_time_slots": {
                "title": "Daily Available Time Slots",
                "type": "array",
                "items": {
                  "title": "DailyTimeSlot",
                  "required": [
                    "start_time",
                    "end_time"
                  ],
                  "type": "object",
                  "properties": {
                    "start_time": {
                      "title": "Start Time",
                      "type": "string",
                      "description": "每天可使用的开始时间",
                      "format": "time"
                    },
                    "end_time": {
                      "title": "End Time",
                      "type": "string",
                      "description": "每天可使用的结束时间",
                      "format": "time"
                    }
                  }
                }
              },
              "available_models": {
                "type": "array",
                "items": {
                  "title": "OpenaiApiChatModels",
                  "enum": [
                    "gpt_3_5",
                    "gpt_4"
                  ],
                  "type": "string",
                  "description": "An enumeration."
                }
              },
              "per_model_ask_count": {
                "title": "OpenaiApiPerModelAskCount",
                "type": "object",
                "additionalProperties": {
                  "type": "integer"
                },
                "default": {
                  "gpt_3_5": 0,
                  "gpt_4": 0
                }
              },
              "allow_custom_openai_api": {
                "title": "Allow Custom Openai Api",
                "type": "boolean"
              },
              "custom_openai_api_settings": {
                "title": "CustomOpenaiApiSettings",
                "type": "object",
                "properties": {
                  "url": {
                    "title": "Url",
                    "type": "string"
                  },
                  "key": {
                    "title": "Key",
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "description": "Base User model."
  },
  "UserReadAdmin": {
    "title": "UserReadAdmin",
    "required": [
      "id",
      "email",
      "is_active",
      "is_superuser",
      "is_verified",
      "username",
      "nickname",
      "create_time",
      "setting"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer"
      },
      "email": {
        "title": "Email",
        "type": "string",
        "format": "email"
      },
      "is_active": {
        "title": "Is Active",
        "type": "boolean"
      },
      "is_superuser": {
        "title": "Is Superuser",
        "type": "boolean"
      },
      "is_verified": {
        "title": "Is Verified",
        "type": "boolean"
      },
      "username": {
        "title": "Username",
        "type": "string"
      },
      "nickname": {
        "title": "Nickname",
        "type": "string"
      },
      "last_active_time": {
        "title": "Last Active Time",
        "type": "string",
        "format": "date-time"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "avatar": {
        "title": "Avatar",
        "type": "string"
      },
      "setting": {
        "title": "UserSettingSchema",
        "required": [
          "credits",
          "openai_web_chat_status",
          "openai_web",
          "openai_api"
        ],
        "type": "object",
        "properties": {
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "user_id": {
            "title": "User Id",
            "type": "integer"
          },
          "credits": {
            "title": "Credits",
            "type": "number"
          },
          "openai_web_chat_status": {
            "title": "OpenaiWebChatStatus",
            "enum": [
              "asking",
              "queueing",
              "idling"
            ],
            "type": "string",
            "description": "An enumeration."
          },
          "openai_web": {
            "title": "OpenaiWebSourceSettingSchema",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count"
            ],
            "type": "object",
            "properties": {
              "allow_to_use": {
                "title": "Allow To Use",
                "type": "boolean"
              },
              "valid_until": {
                "title": "Valid Until",
                "type": "string",
                "format": "date-time"
              },
              "max_conv_count": {
                "title": "Max Conv Count",
                "type": "integer"
              },
              "total_ask_count": {
                "title": "Total Ask Count",
                "type": "integer"
              },
              "rate_limits": {
                "title": "Rate Limits",
                "type": "array",
                "items": {
                  "title": "TimeWindowRateLimit",
                  "required": [
                    "window_seconds",
                    "max_requests"
                  ],
                  "type": "object",
                  "properties": {
                    "window_seconds": {
                      "title": "Window Seconds",
                      "type": "integer",
                      "description": "时间窗口大小，单位为秒"
                    },
                    "max_requests": {
                      "title": "Max Requests",
                      "type": "integer",
                      "description": "在给定时间窗口内最多的请求次数"
                    }
                  }
                }
              },
              "daily_available_time_slots": {
                "title": "Daily Available Time Slots",
                "type": "array",
                "items": {
                  "title": "DailyTimeSlot",
                  "required": [
                    "start_time",
                    "end_time"
                  ],
                  "type": "object",
                  "properties": {
                    "start_time": {
                      "title": "Start Time",
                      "type": "string",
                      "description": "每天可使用的开始时间",
                      "format": "time"
                    },
                    "end_time": {
                      "title": "End Time",
                      "type": "string",
                      "description": "每天可使用的结束时间",
                      "format": "time"
                    }
                  }
                }
              },
              "available_models": {
                "type": "array",
                "items": {
                  "title": "OpenaiWebChatModels",
                  "enum": [
                    "gpt_3_5",
                    "gpt_3_5_mobile",
                    "gpt_4",
                    "gpt_4_mobile",
                    "gpt_4_browsing",
                    "gpt_4_plugins"
                  ],
                  "type": "string",
                  "description": "An enumeration."
                }
              },
              "per_model_ask_count": {
                "title": "OpenaiWebPerModelAskCount",
                "type": "object",
                "additionalProperties": {
                  "type": "integer"
                },
                "default": {
                  "gpt_3_5": 0,
                  "gpt_3_5_mobile": 0,
                  "gpt_4": 0,
                  "gpt_4_mobile": 0,
                  "gpt_4_browsing": 0,
                  "gpt_4_plugins": 0
                }
              }
            }
          },
          "openai_api": {
            "title": "OpenaiApiSourceSettingSchema",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count",
              "allow_custom_openai_api",
              "custom_openai_api_settings"
            ],
            "type": "object",
            "properties": {
              "allow_to_use": {
                "title": "Allow To Use",
                "type": "boolean"
              },
              "valid_until": {
                "title": "Valid Until",
                "type": "string",
                "format": "date-time"
              },
              "max_conv_count": {
                "title": "Max Conv Count",
                "type": "integer"
              },
              "total_ask_count": {
                "title": "Total Ask Count",
                "type": "integer"
              },
              "rate_limits": {
                "title": "Rate Limits",
                "type": "array",
                "items": {
                  "title": "TimeWindowRateLimit",
                  "required": [
                    "window_seconds",
                    "max_requests"
                  ],
                  "type": "object",
                  "properties": {
                    "window_seconds": {
                      "title": "Window Seconds",
                      "type": "integer",
                      "description": "时间窗口大小，单位为秒"
                    },
                    "max_requests": {
                      "title": "Max Requests",
                      "type": "integer",
                      "description": "在给定时间窗口内最多的请求次数"
                    }
                  }
                }
              },
              "daily_available_time_slots": {
                "title": "Daily Available Time Slots",
                "type": "array",
                "items": {
                  "title": "DailyTimeSlot",
                  "required": [
                    "start_time",
                    "end_time"
                  ],
                  "type": "object",
                  "properties": {
                    "start_time": {
                      "title": "Start Time",
                      "type": "string",
                      "description": "每天可使用的开始时间",
                      "format": "time"
                    },
                    "end_time": {
                      "title": "End Time",
                      "type": "string",
                      "description": "每天可使用的结束时间",
                      "format": "time"
                    }
                  }
                }
              },
              "available_models": {
                "type": "array",
                "items": {
                  "title": "OpenaiApiChatModels",
                  "enum": [
                    "gpt_3_5",
                    "gpt_4"
                  ],
                  "type": "string",
                  "description": "An enumeration."
                }
              },
              "per_model_ask_count": {
                "title": "OpenaiApiPerModelAskCount",
                "type": "object",
                "additionalProperties": {
                  "type": "integer"
                },
                "default": {
                  "gpt_3_5": 0,
                  "gpt_4": 0
                }
              },
              "allow_custom_openai_api": {
                "title": "Allow Custom Openai Api",
                "type": "boolean"
              },
              "custom_openai_api_settings": {
                "title": "CustomOpenaiApiSettings",
                "type": "object",
                "properties": {
                  "url": {
                    "title": "Url",
                    "type": "string"
                  },
                  "key": {
                    "title": "Key",
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      },
      "remark": {
        "title": "Remark",
        "type": "string"
      }
    },
    "description": "Base User model."
  },
  "UserSettingSchema": {
    "title": "UserSettingSchema",
    "required": [
      "credits",
      "openai_web_chat_status",
      "openai_web",
      "openai_api"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer"
      },
      "user_id": {
        "title": "User Id",
        "type": "integer"
      },
      "credits": {
        "title": "Credits",
        "type": "number"
      },
      "openai_web_chat_status": {
        "title": "OpenaiWebChatStatus",
        "enum": [
          "asking",
          "queueing",
          "idling"
        ],
        "type": "string",
        "description": "An enumeration."
      },
      "openai_web": {
        "title": "OpenaiWebSourceSettingSchema",
        "required": [
          "allow_to_use",
          "max_conv_count",
          "total_ask_count",
          "rate_limits",
          "daily_available_time_slots",
          "available_models",
          "per_model_ask_count"
        ],
        "type": "object",
        "properties": {
          "allow_to_use": {
            "title": "Allow To Use",
            "type": "boolean"
          },
          "valid_until": {
            "title": "Valid Until",
            "type": "string",
            "format": "date-time"
          },
          "max_conv_count": {
            "title": "Max Conv Count",
            "type": "integer"
          },
          "total_ask_count": {
            "title": "Total Ask Count",
            "type": "integer"
          },
          "rate_limits": {
            "title": "Rate Limits",
            "type": "array",
            "items": {
              "title": "TimeWindowRateLimit",
              "required": [
                "window_seconds",
                "max_requests"
              ],
              "type": "object",
              "properties": {
                "window_seconds": {
                  "title": "Window Seconds",
                  "type": "integer",
                  "description": "时间窗口大小，单位为秒"
                },
                "max_requests": {
                  "title": "Max Requests",
                  "type": "integer",
                  "description": "在给定时间窗口内最多的请求次数"
                }
              }
            }
          },
          "daily_available_time_slots": {
            "title": "Daily Available Time Slots",
            "type": "array",
            "items": {
              "title": "DailyTimeSlot",
              "required": [
                "start_time",
                "end_time"
              ],
              "type": "object",
              "properties": {
                "start_time": {
                  "title": "Start Time",
                  "type": "string",
                  "description": "每天可使用的开始时间",
                  "format": "time"
                },
                "end_time": {
                  "title": "End Time",
                  "type": "string",
                  "description": "每天可使用的结束时间",
                  "format": "time"
                }
              }
            }
          },
          "available_models": {
            "type": "array",
            "items": {
              "title": "OpenaiWebChatModels",
              "enum": [
                "gpt_3_5",
                "gpt_3_5_mobile",
                "gpt_4",
                "gpt_4_mobile",
                "gpt_4_browsing",
                "gpt_4_plugins"
              ],
              "type": "string",
              "description": "An enumeration."
            }
          },
          "per_model_ask_count": {
            "title": "OpenaiWebPerModelAskCount",
            "type": "object",
            "additionalProperties": {
              "type": "integer"
            },
            "default": {
              "gpt_3_5": 0,
              "gpt_3_5_mobile": 0,
              "gpt_4": 0,
              "gpt_4_mobile": 0,
              "gpt_4_browsing": 0,
              "gpt_4_plugins": 0
            }
          }
        }
      },
      "openai_api": {
        "title": "OpenaiApiSourceSettingSchema",
        "required": [
          "allow_to_use",
          "max_conv_count",
          "total_ask_count",
          "rate_limits",
          "daily_available_time_slots",
          "available_models",
          "per_model_ask_count",
          "allow_custom_openai_api",
          "custom_openai_api_settings"
        ],
        "type": "object",
        "properties": {
          "allow_to_use": {
            "title": "Allow To Use",
            "type": "boolean"
          },
          "valid_until": {
            "title": "Valid Until",
            "type": "string",
            "format": "date-time"
          },
          "max_conv_count": {
            "title": "Max Conv Count",
            "type": "integer"
          },
          "total_ask_count": {
            "title": "Total Ask Count",
            "type": "integer"
          },
          "rate_limits": {
            "title": "Rate Limits",
            "type": "array",
            "items": {
              "title": "TimeWindowRateLimit",
              "required": [
                "window_seconds",
                "max_requests"
              ],
              "type": "object",
              "properties": {
                "window_seconds": {
                  "title": "Window Seconds",
                  "type": "integer",
                  "description": "时间窗口大小，单位为秒"
                },
                "max_requests": {
                  "title": "Max Requests",
                  "type": "integer",
                  "description": "在给定时间窗口内最多的请求次数"
                }
              }
            }
          },
          "daily_available_time_slots": {
            "title": "Daily Available Time Slots",
            "type": "array",
            "items": {
              "title": "DailyTimeSlot",
              "required": [
                "start_time",
                "end_time"
              ],
              "type": "object",
              "properties": {
                "start_time": {
                  "title": "Start Time",
                  "type": "string",
                  "description": "每天可使用的开始时间",
                  "format": "time"
                },
                "end_time": {
                  "title": "End Time",
                  "type": "string",
                  "description": "每天可使用的结束时间",
                  "format": "time"
                }
              }
            }
          },
          "available_models": {
            "type": "array",
            "items": {
              "title": "OpenaiApiChatModels",
              "enum": [
                "gpt_3_5",
                "gpt_4"
              ],
              "type": "string",
              "description": "An enumeration."
            }
          },
          "per_model_ask_count": {
            "title": "OpenaiApiPerModelAskCount",
            "type": "object",
            "additionalProperties": {
              "type": "integer"
            },
            "default": {
              "gpt_3_5": 0,
              "gpt_4": 0
            }
          },
          "allow_custom_openai_api": {
            "title": "Allow Custom Openai Api",
            "type": "boolean"
          },
          "custom_openai_api_settings": {
            "title": "CustomOpenaiApiSettings",
            "type": "object",
            "properties": {
              "url": {
                "title": "Url",
                "type": "string"
              },
              "key": {
                "title": "Key",
                "type": "string"
              }
            }
          }
        }
      }
    }
  },
  "UserUpdate": {
    "title": "UserUpdate",
    "type": "object",
    "properties": {
      "password": {
        "title": "Password",
        "type": "string"
      },
      "email": {
        "title": "Email",
        "type": "string"
      },
      "is_active": {
        "title": "Is Active",
        "type": "boolean"
      },
      "is_superuser": {
        "title": "Is Superuser",
        "type": "boolean"
      },
      "is_verified": {
        "title": "Is Verified",
        "type": "boolean"
      },
      "nickname": {
        "title": "Nickname",
        "type": "string"
      },
      "avatar": {
        "title": "Avatar",
        "type": "string"
      }
    }
  },
  "UserUpdateAdmin": {
    "title": "UserUpdateAdmin",
    "type": "object",
    "properties": {
      "password": {
        "title": "Password",
        "type": "string"
      },
      "email": {
        "title": "Email",
        "type": "string"
      },
      "is_active": {
        "title": "Is Active",
        "type": "boolean"
      },
      "is_superuser": {
        "title": "Is Superuser",
        "type": "boolean"
      },
      "is_verified": {
        "title": "Is Verified",
        "type": "boolean"
      },
      "nickname": {
        "title": "Nickname",
        "type": "string"
      },
      "avatar": {
        "title": "Avatar",
        "type": "string"
      },
      "username": {
        "title": "Username",
        "type": "string"
      },
      "remark": {
        "title": "Remark",
        "type": "string"
      }
    }
  },
  "ValidationError": {
    "title": "ValidationError",
    "required": [
      "loc",
      "msg",
      "type"
    ],
    "type": "object",
    "properties": {
      "loc": {
        "title": "Location",
        "type": "array",
        "items": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "integer"
            }
          ]
        }
      },
      "msg": {
        "title": "Message",
        "type": "string"
      },
      "type": {
        "title": "Error Type",
        "type": "string"
      }
    }
  }
}